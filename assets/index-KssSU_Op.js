(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Rd={exports:{}},yl={};var Uy;function SA(){if(Uy)return yl;Uy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return yl.Fragment=t,yl.jsx=i,yl.jsxs=i,yl}var Ly;function bA(){return Ly||(Ly=1,Rd.exports=SA()),Rd.exports}var b=bA(),Id={exports:{}},St={};var zy;function wA(){if(zy)return St;zy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function B(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,W={};function it(M,K,rt){this.props=M,this.context=K,this.refs=W,this.updater=rt||J}it.prototype.isReactComponent={},it.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},it.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ft(){}ft.prototype=it.prototype;function ct(M,K,rt){this.props=M,this.context=K,this.refs=W,this.updater=rt||J}var Tt=ct.prototype=new ft;Tt.constructor=ct,tt(Tt,it.prototype),Tt.isPureReactComponent=!0;var zt=Array.isArray;function Nt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(M,K,rt){var ut=rt.ref;return{$$typeof:s,type:M,key:K,ref:ut!==void 0?ut:null,props:rt}}function x(M,K){return I(M.type,K,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(rt){return K[rt]})}var R=/\/+/g;function ot(M,K){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):K.toString(36)}function Dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Nt,Nt):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,K,rt,ut,Et){var It=typeof M;(It==="undefined"||It==="boolean")&&(M=null);var qt=!1;if(M===null)qt=!0;else switch(It){case"bigint":case"string":case"number":qt=!0;break;case"object":switch(M.$$typeof){case s:case t:qt=!0;break;case E:return qt=M._init,G(qt(M._payload),K,rt,ut,Et)}}if(qt)return Et=Et(M),qt=ut===""?"."+ot(M,0):ut,zt(Et)?(rt="",qt!=null&&(rt=qt.replace(R,"$&/")+"/"),G(Et,K,rt,"",function(rr){return rr})):Et!=null&&(O(Et)&&(Et=x(Et,rt+(Et.key==null||M&&M.key===Et.key?"":(""+Et.key).replace(R,"$&/")+"/")+qt)),K.push(Et)),1;qt=0;var Me=ut===""?".":ut+":";if(zt(M))for(var le=0;le<M.length;le++)ut=M[le],It=Me+ot(ut,le),qt+=G(ut,K,rt,It,Et);else if(le=B(M),typeof le=="function")for(M=le.call(M),le=0;!(ut=M.next()).done;)ut=ut.value,It=Me+ot(ut,le++),qt+=G(ut,K,rt,It,Et);else if(It==="object"){if(typeof M.then=="function")return G(Dt(M),K,rt,ut,Et);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return qt}function F(M,K,rt){if(M==null)return M;var ut=[],Et=0;return G(M,ut,"","",function(It){return K.call(rt,It,Et++)}),ut}function et(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(rt){(M._status===0||M._status===-1)&&(M._status=1,M._result=rt)},function(rt){(M._status===0||M._status===-1)&&(M._status=2,M._result=rt)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var dt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Pt={map:F,forEach:function(M,K,rt){F(M,function(){K.apply(this,arguments)},rt)},count:function(M){var K=0;return F(M,function(){K++}),K},toArray:function(M){return F(M,function(K){return K})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return St.Activity=S,St.Children=Pt,St.Component=it,St.Fragment=i,St.Profiler=l,St.PureComponent=ct,St.StrictMode=r,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,St.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},St.cache=function(M){return function(){return M.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(M,K,rt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ut=tt({},M.props),Et=M.key;if(K!=null)for(It in K.key!==void 0&&(Et=""+K.key),K)!w.call(K,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&K.ref===void 0||(ut[It]=K[It]);var It=arguments.length-2;if(It===1)ut.children=rt;else if(1<It){for(var qt=Array(It),Me=0;Me<It;Me++)qt[Me]=arguments[Me+2];ut.children=qt}return I(M.type,Et,ut)},St.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},St.createElement=function(M,K,rt){var ut,Et={},It=null;if(K!=null)for(ut in K.key!==void 0&&(It=""+K.key),K)w.call(K,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(Et[ut]=K[ut]);var qt=arguments.length-2;if(qt===1)Et.children=rt;else if(1<qt){for(var Me=Array(qt),le=0;le<qt;le++)Me[le]=arguments[le+2];Et.children=Me}if(M&&M.defaultProps)for(ut in qt=M.defaultProps,qt)Et[ut]===void 0&&(Et[ut]=qt[ut]);return I(M,It,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(M){return{$$typeof:p,render:M}},St.isValidElement=O,St.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:et}},St.memo=function(M,K){return{$$typeof:_,type:M,compare:K===void 0?null:K}},St.startTransition=function(M){var K=N.T,rt={};N.T=rt;try{var ut=M(),Et=N.S;Et!==null&&Et(rt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Nt,dt)}catch(It){dt(It)}finally{K!==null&&rt.types!==null&&(K.types=rt.types),N.T=K}},St.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},St.use=function(M){return N.H.use(M)},St.useActionState=function(M,K,rt){return N.H.useActionState(M,K,rt)},St.useCallback=function(M,K){return N.H.useCallback(M,K)},St.useContext=function(M){return N.H.useContext(M)},St.useDebugValue=function(){},St.useDeferredValue=function(M,K){return N.H.useDeferredValue(M,K)},St.useEffect=function(M,K){return N.H.useEffect(M,K)},St.useEffectEvent=function(M){return N.H.useEffectEvent(M)},St.useId=function(){return N.H.useId()},St.useImperativeHandle=function(M,K,rt){return N.H.useImperativeHandle(M,K,rt)},St.useInsertionEffect=function(M,K){return N.H.useInsertionEffect(M,K)},St.useLayoutEffect=function(M,K){return N.H.useLayoutEffect(M,K)},St.useMemo=function(M,K){return N.H.useMemo(M,K)},St.useOptimistic=function(M,K){return N.H.useOptimistic(M,K)},St.useReducer=function(M,K,rt){return N.H.useReducer(M,K,rt)},St.useRef=function(M){return N.H.useRef(M)},St.useState=function(M){return N.H.useState(M)},St.useSyncExternalStore=function(M,K,rt){return N.H.useSyncExternalStore(M,K,rt)},St.useTransition=function(){return N.H.useTransition()},St.version="19.2.0",St}var Py;function ym(){return Py||(Py=1,Id.exports=wA()),Id.exports}var se=ym(),Cd={exports:{}},vl={},Dd={exports:{}},Nd={};var jy;function RA(){return jy||(jy=1,(function(s){function t(G,F){var et=G.length;G.push(F);t:for(;0<et;){var dt=et-1>>>1,Pt=G[dt];if(0<l(Pt,F))G[dt]=F,G[et]=Pt,et=dt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var F=G[0],et=G.pop();if(et!==F){G[0]=et;t:for(var dt=0,Pt=G.length,M=Pt>>>1;dt<M;){var K=2*(dt+1)-1,rt=G[K],ut=K+1,Et=G[ut];if(0>l(rt,et))ut<Pt&&0>l(Et,rt)?(G[dt]=Et,G[ut]=et,dt=ut):(G[dt]=rt,G[K]=et,dt=K);else if(ut<Pt&&0>l(Et,et))G[dt]=Et,G[ut]=et,dt=ut;else break t}}return F}function l(G,F){var et=G.sortIndex-F.sortIndex;return et!==0?et:G.id-F.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,S=null,D=3,B=!1,J=!1,tt=!1,W=!1,it=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Tt(G){for(var F=i(_);F!==null;){if(F.callback===null)r(_);else if(F.startTime<=G)r(_),F.sortIndex=F.expirationTime,t(y,F);else break;F=i(_)}}function zt(G){if(tt=!1,Tt(G),!J)if(i(y)!==null)J=!0,Nt||(Nt=!0,k());else{var F=i(_);F!==null&&Dt(zt,F.startTime-G)}}var Nt=!1,N=-1,w=5,I=-1;function x(){return W?!0:!(s.unstable_now()-I<w)}function O(){if(W=!1,Nt){var G=s.unstable_now();I=G;var F=!0;try{t:{J=!1,tt&&(tt=!1,ft(N),N=-1),B=!0;var et=D;try{e:{for(Tt(G),S=i(y);S!==null&&!(S.expirationTime>G&&x());){var dt=S.callback;if(typeof dt=="function"){S.callback=null,D=S.priorityLevel;var Pt=dt(S.expirationTime<=G);if(G=s.unstable_now(),typeof Pt=="function"){S.callback=Pt,Tt(G),F=!0;break e}S===i(y)&&r(y),Tt(G)}else r(y);S=i(y)}if(S!==null)F=!0;else{var M=i(_);M!==null&&Dt(zt,M.startTime-G),F=!1}}break t}finally{S=null,D=et,B=!1}F=void 0}}finally{F?k():Nt=!1}}}var k;if(typeof ct=="function")k=function(){ct(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ot=R.port2;R.port1.onmessage=O,k=function(){ot.postMessage(null)}}else k=function(){it(O,0)};function Dt(G,F){N=it(function(){G(s.unstable_now())},F)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(G){switch(D){case 1:case 2:case 3:var F=3;break;default:F=D}var et=D;D=F;try{return G()}finally{D=et}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(G,F){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var et=D;D=G;try{return F()}finally{D=et}},s.unstable_scheduleCallback=function(G,F,et){var dt=s.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?dt+et:dt):et=dt,G){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=et+Pt,G={id:E++,callback:F,priorityLevel:G,startTime:et,expirationTime:Pt,sortIndex:-1},et>dt?(G.sortIndex=et,t(_,G),i(y)===null&&G===i(_)&&(tt?(ft(N),N=-1):tt=!0,Dt(zt,et-dt))):(G.sortIndex=Pt,t(y,G),J||B||(J=!0,Nt||(Nt=!0,k()))),G},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(G){var F=D;return function(){var et=D;D=F;try{return G.apply(this,arguments)}finally{D=et}}}})(Nd)),Nd}var By;function IA(){return By||(By=1,Dd.exports=RA()),Dd.exports}var Od={exports:{}},$e={};var qy;function CA(){if(qy)return $e;qy=1;var s=ym();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$e.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,E)},$e.flushSync=function(y){var _=d.T,E=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=E,r.d.f()}},$e.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},$e.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},$e.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,S=p(E,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:B}):E==="script"&&r.d.X(y,{crossOrigin:S,integrity:D,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$e.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},$e.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,S=p(E,_.crossOrigin);r.d.L(y,E,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$e.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},$e.requestFormReset=function(y){r.d.r(y)},$e.unstable_batchedUpdates=function(y,_){return y(_)},$e.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.0",$e}var Hy;function DA(){if(Hy)return Od.exports;Hy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Od.exports=CA(),Od.exports}var Gy;function NA(){if(Gy)return vl;Gy=1;var s=IA(),t=ym(),i=DA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===a){g=!0,a=h,o=f;break}if(T===o){g=!0,o=h,a=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===a){g=!0,a=f,o=h;break}if(T===o){g=!0,o=f,a=h;break}T=T.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),zt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ot(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case it:return"Profiler";case W:return"StrictMode";case zt:return"Suspense";case Nt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case ct:return e.displayName||"Context";case ft:return(e._context.displayName||"Context")+".Consumer";case Tt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ot(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return ot(e(n))}catch{}}return null}var Dt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},dt=[],Pt=-1;function M(e){return{current:e}}function K(e){0>Pt||(e.current=dt[Pt],dt[Pt]=null,Pt--)}function rt(e,n){Pt++,dt[Pt]=e.current,e.current=n}var ut=M(null),Et=M(null),It=M(null),qt=M(null);function Me(e,n){switch(rt(It,n),rt(Et,e),rt(ut,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ry(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ry(n),e=ay(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(ut),rt(ut,e)}function le(){K(ut),K(Et),K(It)}function rr(e){e.memoizedState!==null&&rt(qt,e);var n=ut.current,a=ay(n,e.type);n!==a&&(rt(Et,e),rt(ut,a))}function $r(e){Et.current===e&&(K(ut),K(Et)),qt.current===e&&(K(qt),ml._currentValue=et)}var Zr,Jr;function ni(e){if(Zr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Zr=n&&n[1]||"",Jr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+e+Jr}var mo=!1;function ar(e,n){if(!e||mo)return"";mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var j=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){j=H}e.call($.prototype)}}else{try{throw Error()}catch(H){j=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),P=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var Q=`
`+C[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{mo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ni(a):""}function go(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return ar(e.type,!1);case 11:return ar(e.type.render,!1);case 1:return ar(e.type,!0);case 31:return ni("Activity");default:return""}}function po(e){try{var n="",a=null;do n+=go(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ve=Object.prototype.hasOwnProperty,Ve=s.unstable_scheduleCallback,ls=s.unstable_cancelCallback,Ih=s.unstable_shouldYield,Zl=s.unstable_requestPaint,en=s.unstable_now,or=s.unstable_getCurrentPriorityLevel,_o=s.unstable_ImmediatePriority,yo=s.unstable_UserBlockingPriority,us=s.unstable_NormalPriority,Ch=s.unstable_LowPriority,Jl=s.unstable_IdlePriority,Wl=s.log,tu=s.unstable_setDisableYieldValue,Pn=null,je=null;function wn(e){if(typeof Wl=="function"&&tu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Pn,e)}catch{}}var me=Math.clz32?Math.clz32:nu,eu=Math.log,Wr=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/Wr|0)|0}var ii=256,lr=262144,Te=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=si(o):(g&=T,g!==0?h=si(g):a||(a=T&~e,a!==0&&(h=si(a))))):(T=o&~f,T!==0?h=si(T):g!==0?h=si(g):a||(a=o&~e,a!==0&&(h=si(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function ai(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ur(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,P=e.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-me(a),$=1<<Q;T[Q]=0,C[Q]=-1;var j=P[Q];if(j!==null)for(P[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&cr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function cr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-me(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function vo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-me(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function To(e,n){var a=n&-n;return a=(a&42)!==0?1:hr(a),(a&(e.suspendedLanes|n))!==0?0:a}function hr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Dy(e.type))}function Bn(e,n){var a=F.p;try{return F.p=e,n()}finally{F.p=a}}var qn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+qn,Ue="__reactProps$"+qn,oi="__reactContainer$"+qn,ta="__reactEvents$"+qn,Oh="__reactListeners$"+qn,ru="__reactHandles$"+qn,au="__reactResources$"+qn,li="__reactMarker$"+qn;function ea(e){delete e[Ee],delete e[Ue],delete e[ta],delete e[Oh],delete e[ru]}function ui(e){var n=e[Ee];if(n)return n;for(var a=e.parentNode;a;){if(n=a[oi]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=dy(e);e!==null;){if(a=e[Ee])return a;e=dy(e)}return n}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[Ee]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ci(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[li]=!0}var Eo=new Set,Ao={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(Ao[e]=n,e=0;e<n.length;e++)Eo.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},wo={};function ou(e){return ve.call(wo,e)?!0:ve.call(bo,e)?!1:So.test(e)?wo[e]=!0:(bo[e]=!0,!1)}function na(e,n,a){if(ou(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function gn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Se(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=cs(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function fr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=cs(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dr=/[\n"\\]/g;function rn(e){return e.replace(dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,a,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Io(e,g,Le(n)):a!=null?Io(e,g,Le(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Le(T):e.removeAttribute("name")}function lu(e,n,a,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(e);return}a=a!=null?""+Le(a):"",n=n!=null?""+Le(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),$t(e)}function Io(e,n,a){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hs(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,a){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Le(a):""}function fs(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Dt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Le(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),$t(e)}function an(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||cu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Do(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Co(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return ds.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var No=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,mi=null;function mr(e){var n=Rn(e);if(n&&(e=n.stateNode)){var a=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(r(90));ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&fr(o)}break t;case"textarea":uu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&hs(e,!!a.multiple,n,!1)}}}var aa=!1;function gs(e,n,a){if(aa)return e(n,a);aa=!0;try{var o=e(n);return o}finally{if(aa=!1,(ms!==null||mi!==null)&&(sc(),ms&&(n=ms,e=mi,mi=ms=null,mr(n),e)))for(n=0;n<e.length;n++)mr(e[n])}}function Gn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ue]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(Cn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){gr=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{gr=!1}var gi=null,Oo=null,pr=null;function Mo(){if(pr)return pr;var e,n=Oo,a=n.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return pr=h.slice(e,1<o?1-o:void 0)}function _r(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Fn(){return!1}function Be(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Fn,this.isPropagationStopped=Fn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=Be(ki),ps=S({},ki,{view:0,detail:0}),Vo=Be(ps),_s,oa,_i,la=S({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(_s=e.screenX-_i.screenX,oa=e.screenY-_i.screenY):oa=_s=0,_i=e),_s)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),xo=Be(la),yr=S({},la,{dataTransfer:0}),fu=Be(yr),du=S({},ps,{relatedTarget:0}),vr=Be(du),ko=S({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Be(ko),ua=S({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=Be(ua),pu=S({},ki,{data:0}),yi=Be(pu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function ys(){return Tu}var nn=S({},ps,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?_r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=Be(nn),Au=S({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Be(Au),u=S({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),m=Be(u),v=S({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),L=S({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(L),nt=S({},ki,{newState:0,oldState:0}),wt=Be(nt),ge=[9,13,27,32],Yt=Cn&&"CompositionEvent"in window,ue=null;Cn&&"documentMode"in document&&(ue=document.documentMode);var Dn=Cn&&"TextEvent"in window&&!ue,vi=Cn&&(!Yt||ue&&8<ue&&11>=ue),Qn=" ",Yn=!1;function Tr(e,n){switch(e){case"keyup":return ge.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function Y0(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Yn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Yn?null:e;default:return null}}function K0(e,n){if(ha)return e==="compositionend"||!Yt&&Tr(e,n)?(e=Mo(),pr=Oo=gi=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var X0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!X0[e.type]:n==="textarea"}function _g(e,n,a,o){ms?mi?mi.push(o):mi=[o]:ms=o,n=hc(n,"onChange"),0<n.length&&(a=new pi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Uo=null,Lo=null;function $0(e){W_(e,0)}function Su(e){var n=mn(e);if(fr(n))return e}function yg(e,n){if(e==="change")return n}var vg=!1;if(Cn){var Mh;if(Cn){var Vh="oninput"in document;if(!Vh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Vh=typeof Tg.oninput=="function"}Mh=Vh}else Mh=!1;vg=Mh&&(!document.documentMode||9<document.documentMode)}function Eg(){Uo&&(Uo.detachEvent("onpropertychange",Ag),Lo=Uo=null)}function Ag(e){if(e.propertyName==="value"&&Su(Lo)){var n=[];_g(n,Lo,e,In(e)),gs($0,n)}}function Z0(e,n,a){e==="focusin"?(Eg(),Uo=n,Lo=a,Uo.attachEvent("onpropertychange",Ag)):e==="focusout"&&Eg()}function J0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Lo)}function W0(e,n){if(e==="click")return Su(n)}function t1(e,n){if(e==="input"||e==="change")return Su(n)}function e1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:e1;function zo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ve.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function Sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bg(e,n){var a=Sg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Sg(a)}}function wg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?wg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=di(e.document)}return n}function xh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var n1=Cn&&"documentMode"in document&&11>=document.documentMode,fa=null,kh=null,Po=null,Uh=!1;function Ig(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uh||fa==null||fa!==di(o)||(o=fa,"selectionStart"in o&&xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&zo(Po,o)||(Po=o,o=hc(kh,"onSelect"),0<o.length&&(n=new pi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=fa)))}function Er(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var da={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},Lh={},Cg={};Cn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Ar(e){if(Lh[e])return Lh[e];if(!da[e])return e;var n=da[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Cg)return Lh[e]=n[a];return e}var Dg=Ar("animationend"),Ng=Ar("animationiteration"),Og=Ar("animationstart"),i1=Ar("transitionrun"),s1=Ar("transitionstart"),r1=Ar("transitioncancel"),Mg=Ar("transitionend"),Vg=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Kn(e,n){Vg.set(e,n),hi(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],ma=0,Ph=0;function wu(){for(var e=ma,n=Ph=ma=0;n<e;){var a=Nn[n];Nn[n++]=null;var o=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&xg(a,h,f)}}function Ru(e,n,a,o){Nn[ma++]=e,Nn[ma++]=n,Nn[ma++]=a,Nn[ma++]=o,Ph|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function jh(e,n,a,o){return Ru(e,n,a,o),Iu(e)}function Sr(e,n){return Ru(e,null,null,n),Iu(e)}function xg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-me(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Iu(e){if(50<ol)throw ol=0,$f=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function a1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,a,o){return new a1(e,n,a,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var a=e.alternate;return a===null?(a=_n(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function kg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")Bh(e)&&(g=1);else if(typeof e=="string")g=hA(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=_n(31,a,n,h),e.elementType=I,e.lanes=f,e;case tt:return br(a.children,h,f,n);case W:g=8,h|=24;break;case it:return e=_n(12,a,n,h|2),e.elementType=it,e.lanes=f,e;case zt:return e=_n(13,a,n,h),e.elementType=zt,e.lanes=f,e;case Nt:return e=_n(19,a,n,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:g=10;break t;case ft:g=9;break t;case Tt:g=11;break t;case N:g=14;break t;case w:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=_n(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function br(e,n,a,o){return e=_n(7,e,o,n),e.lanes=a,e}function qh(e,n,a){return e=_n(6,e,null,n),e.lanes=a,e}function Ug(e){var n=_n(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,a){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Lg=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var a=Lg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:po(n)},Lg.set(e,n),n)}return{value:e,source:n,stack:po(n)}}var pa=[],_a=0,Du=null,jo=0,Mn=[],Vn=0,vs=null,Ti=1,Ei="";function zi(e,n){pa[_a++]=jo,pa[_a++]=Du,Du=e,jo=n}function zg(e,n,a){Mn[Vn++]=Ti,Mn[Vn++]=Ei,Mn[Vn++]=vs,vs=e;var o=Ti;e=Ei;var h=32-me(o)-1;o&=~(1<<h),a+=1;var f=32-me(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ti=1<<32-me(n)+h|a<<h|o,Ei=f+e}else Ti=1<<f|a<<h|o,Ei=e}function Gh(e){e.return!==null&&(zi(e,1),zg(e,1,0))}function Fh(e){for(;e===Du;)Du=pa[--_a],pa[_a]=null,jo=pa[--_a],pa[_a]=null;for(;e===vs;)vs=Mn[--Vn],Mn[Vn]=null,Ei=Mn[--Vn],Mn[Vn]=null,Ti=Mn[--Vn],Mn[Vn]=null}function Pg(e,n){Mn[Vn++]=Ti,Mn[Vn++]=Ei,Mn[Vn++]=vs,Ti=n.id,Ei=n.overflow,vs=e}var qe=null,ae=null,jt=!1,Ts=null,xn=!1,Qh=Error(r(519));function Es(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(On(n,e)),Qh}function jg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ue]=o,a){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(a=0;a<ul.length;a++)Mt(ul[a],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),fs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||iy(n.textContent,a)?(o.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),o.onScroll!=null&&Mt("scroll",n),o.onScrollEnd!=null&&Mt("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||Es(e,!0)}function Bg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:qe=qe.return}}function ya(e){if(e!==qe)return!1;if(!jt)return Bg(e),jt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||hd(e.type,e.memoizedProps)),a=!a),a&&ae&&Es(e),Bg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ae=fy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ae=fy(e)}else n===27?(n=ae,ks(e.type)?(e=pd,pd=null,ae=e):ae=n):ae=qe?Un(e.stateNode.nextSibling):null;return!0}function wr(){ae=qe=null,jt=!1}function Yh(){var e=Ts;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Ts=null),e}function Bo(e){Ts===null?Ts=[e]:Ts.push(e)}var Kh=M(null),Rr=null,Pi=null;function As(e,n,a){rt(Kh,n._currentValue),n._currentValue=a}function ji(e){e._currentValue=Kh.current,K(Kh)}function Xh(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function $h(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Xh(f.return,a,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Xh(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function va(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var T=h.type;pn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===qt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&$h(n,e,a,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){Rr=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return qg(Rr,e)}function Ou(e,n){return Rr===null&&Ir(e),qg(e,n)}function qg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Pi===null){if(e===null)throw Error(r(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return a}var o1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},l1=s.unstable_scheduleCallback,u1=s.unstable_NormalPriority,be={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new o1,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&l1(u1,function(){e.controller.abort()})}var Ho=null,Jh=0,Ta=0,Ea=null;function c1(e,n){if(Ho===null){var a=Ho=[];Jh=0,Ta=nd(),Ea={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Jh++,n.then(Hg,Hg),n}function Hg(){if(--Jh===0&&Ho!==null){Ea!==null&&(Ea.status="fulfilled");var e=Ho;Ho=null,Ta=0,Ea=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function h1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Gg=G.S;G.S=function(e,n){I_=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&c1(e,n),Gg!==null&&Gg(e,n)};var Cr=M(null);function Wh(){var e=Cr.current;return e!==null?e:ie.pooledCache}function Mu(e,n){n===null?rt(Cr,Cr.current):rt(Cr,n.pool)}function Fg(){var e=Wh();return e===null?null:{parent:be._currentValue,pool:e}}var Aa=Error(r(460)),tf=Error(r(474)),Vu=Error(r(542)),xu={then:function(){}};function Qg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xg(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xg(e),e}throw Nr=n,Aa}}function Dr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Nr=a,Aa):a}}var Nr=null;function Kg(){if(Nr===null)throw Error(r(459));var e=Nr;return Nr=null,e}function Xg(e){if(e===Aa||e===Vu)throw Error(r(483))}var Sa=null,Go=0;function ku(e){var n=Go;return Go+=1,Sa===null&&(Sa=[]),Yg(Sa,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===D?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function $g(e){function n(U,V){if(e){var z=U.deletions;z===null?(U.deletions=[V],U.flags|=16):z.push(V)}}function a(U,V){if(!e)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function o(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Li(U,V),U.index=0,U.sibling=null,U}function f(U,V,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<V?(U.flags|=67108866,V):z):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function T(U,V,z,Y){return V===null||V.tag!==6?(V=qh(z,U.mode,Y),V.return=U,V):(V=h(V,z),V.return=U,V)}function C(U,V,z,Y){var gt=z.type;return gt===tt?Q(U,V,z.props.children,Y,z.key):V!==null&&(V.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Dr(gt)===V.type)?(V=h(V,z.props),Fo(V,z),V.return=U,V):(V=Cu(z.type,z.key,z.props,null,U.mode,Y),Fo(V,z),V.return=U,V)}function P(U,V,z,Y){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Hh(z,U.mode,Y),V.return=U,V):(V=h(V,z.children||[]),V.return=U,V)}function Q(U,V,z,Y,gt){return V===null||V.tag!==7?(V=br(z,U.mode,Y,gt),V.return=U,V):(V=h(V,z),V.return=U,V)}function $(U,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=qh(""+V,U.mode,z),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case B:return z=Cu(V.type,V.key,V.props,null,U.mode,z),Fo(z,V),z.return=U,z;case J:return V=Hh(V,U.mode,z),V.return=U,V;case w:return V=Dr(V),$(U,V,z)}if(Dt(V)||k(V))return V=br(V,U.mode,z,null),V.return=U,V;if(typeof V.then=="function")return $(U,ku(V),z);if(V.$$typeof===ct)return $(U,Ou(U,V),z);Uu(U,V)}return null}function j(U,V,z,Y){var gt=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return gt!==null?null:T(U,V,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case B:return z.key===gt?C(U,V,z,Y):null;case J:return z.key===gt?P(U,V,z,Y):null;case w:return z=Dr(z),j(U,V,z,Y)}if(Dt(z)||k(z))return gt!==null?null:Q(U,V,z,Y,null);if(typeof z.then=="function")return j(U,V,ku(z),Y);if(z.$$typeof===ct)return j(U,V,Ou(U,z),Y);Uu(U,z)}return null}function H(U,V,z,Y,gt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(z)||null,T(V,U,""+Y,gt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return U=U.get(Y.key===null?z:Y.key)||null,C(V,U,Y,gt);case J:return U=U.get(Y.key===null?z:Y.key)||null,P(V,U,Y,gt);case w:return Y=Dr(Y),H(U,V,z,Y,gt)}if(Dt(Y)||k(Y))return U=U.get(z)||null,Q(V,U,Y,gt,null);if(typeof Y.then=="function")return H(U,V,z,ku(Y),gt);if(Y.$$typeof===ct)return H(U,V,z,Ou(V,Y),gt);Uu(V,Y)}return null}function ht(U,V,z,Y){for(var gt=null,Gt=null,mt=V,Ct=V=0,xt=null;mt!==null&&Ct<z.length;Ct++){mt.index>Ct?(xt=mt,mt=null):xt=mt.sibling;var Ft=j(U,mt,z[Ct],Y);if(Ft===null){mt===null&&(mt=xt);break}e&&mt&&Ft.alternate===null&&n(U,mt),V=f(Ft,V,Ct),Gt===null?gt=Ft:Gt.sibling=Ft,Gt=Ft,mt=xt}if(Ct===z.length)return a(U,mt),jt&&zi(U,Ct),gt;if(mt===null){for(;Ct<z.length;Ct++)mt=$(U,z[Ct],Y),mt!==null&&(V=f(mt,V,Ct),Gt===null?gt=mt:Gt.sibling=mt,Gt=mt);return jt&&zi(U,Ct),gt}for(mt=o(mt);Ct<z.length;Ct++)xt=H(mt,U,Ct,z[Ct],Y),xt!==null&&(e&&xt.alternate!==null&&mt.delete(xt.key===null?Ct:xt.key),V=f(xt,V,Ct),Gt===null?gt=xt:Gt.sibling=xt,Gt=xt);return e&&mt.forEach(function(js){return n(U,js)}),jt&&zi(U,Ct),gt}function _t(U,V,z,Y){if(z==null)throw Error(r(151));for(var gt=null,Gt=null,mt=V,Ct=V=0,xt=null,Ft=z.next();mt!==null&&!Ft.done;Ct++,Ft=z.next()){mt.index>Ct?(xt=mt,mt=null):xt=mt.sibling;var js=j(U,mt,Ft.value,Y);if(js===null){mt===null&&(mt=xt);break}e&&mt&&js.alternate===null&&n(U,mt),V=f(js,V,Ct),Gt===null?gt=js:Gt.sibling=js,Gt=js,mt=xt}if(Ft.done)return a(U,mt),jt&&zi(U,Ct),gt;if(mt===null){for(;!Ft.done;Ct++,Ft=z.next())Ft=$(U,Ft.value,Y),Ft!==null&&(V=f(Ft,V,Ct),Gt===null?gt=Ft:Gt.sibling=Ft,Gt=Ft);return jt&&zi(U,Ct),gt}for(mt=o(mt);!Ft.done;Ct++,Ft=z.next())Ft=H(mt,U,Ct,Ft.value,Y),Ft!==null&&(e&&Ft.alternate!==null&&mt.delete(Ft.key===null?Ct:Ft.key),V=f(Ft,V,Ct),Gt===null?gt=Ft:Gt.sibling=Ft,Gt=Ft);return e&&mt.forEach(function(AA){return n(U,AA)}),jt&&zi(U,Ct),gt}function ne(U,V,z,Y){if(typeof z=="object"&&z!==null&&z.type===tt&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case B:t:{for(var gt=z.key;V!==null;){if(V.key===gt){if(gt=z.type,gt===tt){if(V.tag===7){a(U,V.sibling),Y=h(V,z.props.children),Y.return=U,U=Y;break t}}else if(V.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Dr(gt)===V.type){a(U,V.sibling),Y=h(V,z.props),Fo(Y,z),Y.return=U,U=Y;break t}a(U,V);break}else n(U,V);V=V.sibling}z.type===tt?(Y=br(z.props.children,U.mode,Y,z.key),Y.return=U,U=Y):(Y=Cu(z.type,z.key,z.props,null,U.mode,Y),Fo(Y,z),Y.return=U,U=Y)}return g(U);case J:t:{for(gt=z.key;V!==null;){if(V.key===gt)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(U,V.sibling),Y=h(V,z.children||[]),Y.return=U,U=Y;break t}else{a(U,V);break}else n(U,V);V=V.sibling}Y=Hh(z,U.mode,Y),Y.return=U,U=Y}return g(U);case w:return z=Dr(z),ne(U,V,z,Y)}if(Dt(z))return ht(U,V,z,Y);if(k(z)){if(gt=k(z),typeof gt!="function")throw Error(r(150));return z=gt.call(z),_t(U,V,z,Y)}if(typeof z.then=="function")return ne(U,V,ku(z),Y);if(z.$$typeof===ct)return ne(U,V,Ou(U,z),Y);Uu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(U,V.sibling),Y=h(V,z),Y.return=U,U=Y):(a(U,V),Y=qh(z,U.mode,Y),Y.return=U,U=Y),g(U)):a(U,V)}return function(U,V,z,Y){try{Go=0;var gt=ne(U,V,z,Y);return Sa=null,gt}catch(mt){if(mt===Aa||mt===Vu)throw mt;var Gt=_n(29,mt,null,U.mode);return Gt.lanes=Y,Gt.return=U,Gt}finally{}}}var Or=$g(!0),Zg=$g(!1),Ss=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),xg(e,null,a),n}return Ru(e,o,n,a),Iu(e)}function Qo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,vo(e,a)}}function sf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var rf=!1;function Yo(){if(rf){var e=Ea;if(e!==null)throw e}}function Ko(e,n,a,o){rf=!1;var h=e.updateQueue;Ss=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,P=C.next;C.next=null,g===null?f=P:g.next=P,g=C;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==g&&(T===null?Q.firstBaseUpdate=P:T.next=P,Q.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;g=0,Q=P=C=null,T=f;do{var j=T.lane&-536870913,H=j!==T.lane;if(H?(Vt&j)===j:(o&j)===j){j!==0&&j===Ta&&(rf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ht=e,_t=T;j=n;var ne=a;switch(_t.tag){case 1:if(ht=_t.payload,typeof ht=="function"){$=ht.call(ne,$,j);break t}$=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=_t.payload,j=typeof ht=="function"?ht.call(ne,$,j):ht,j==null)break t;$=S({},$,j);break t;case 2:Ss=!0}}j=T.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(P=Q=H,C=$):Q=Q.next=H,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(C=$),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ns|=g,e.lanes=g,e.memoizedState=$}}function Jg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Wg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Jg(a[e],n)}var ba=M(null),Lu=M(0);function tp(e,n){e=Xi,rt(Lu,e),rt(ba,n),Xi=e|n.baseLanes}function af(){rt(Lu,Xi),rt(ba,ba.current)}function of(){Xi=Lu.current,K(ba),K(Lu)}var yn=M(null),kn=null;function Rs(e){var n=e.alternate;rt(pe,pe.current&1),rt(yn,e),kn===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(kn=e)}function lf(e){rt(pe,pe.current),rt(yn,e),kn===null&&(kn=e)}function ep(e){e.tag===22?(rt(pe,pe.current),rt(yn,e),kn===null&&(kn=e)):Is()}function Is(){rt(pe,pe.current),rt(yn,yn.current)}function vn(e){K(yn),kn===e&&(kn=null),K(pe)}var pe=M(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||md(a)||gd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,Rt=null,te=null,we=null,Pu=!1,wa=!1,Mr=!1,ju=0,Xo=0,Ra=null,f1=0;function fe(){throw Error(r(321))}function uf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!pn(e[a],n[a]))return!1;return!0}function cf(e,n,a,o,h,f){return Bi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?zp:wf,Mr=!1,f=a(o,h),Mr=!1,wa&&(f=ip(n,a,o,h)),np(e),f}function np(e){G.H=Jo;var n=te!==null&&te.next!==null;if(Bi=0,we=te=Rt=null,Pu=!1,Xo=0,Ra=null,n)throw Error(r(300));e===null||Re||(e=e.dependencies,e!==null&&Nu(e)&&(Re=!0))}function ip(e,n,a,o){Rt=e;var h=0;do{if(wa&&(Ra=null),Xo=0,wa=!1,25<=h)throw Error(r(301));if(h+=1,we=te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Pp,f=n(a,o)}while(wa);return f}function d1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Rt.flags|=1024),n}function hf(){var e=ju!==0;return ju=0,e}function ff(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function df(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}Bi=0,we=te=Rt=null,wa=!1,Xo=ju=0,Ra=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Rt.memoizedState=we=e:we=we.next=e,we}function _e(){if(te===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var n=we===null?Rt.memoizedState:we.next;if(n!==null)we=n,te=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},we===null?Rt.memoizedState=we=e:we=we.next=e}return we}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Xo;return Xo+=1,Ra===null&&(Ra=[]),e=Yg(Ra,e,n),n=Rt,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?zp:wf),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===ct)return He(e)}throw Error(r(438,String(e)))}function mf(e){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Bu(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=x;return n.index++,a}function qi(e,n){return typeof n=="function"?n(e):n}function Hu(e){var n=_e();return gf(n,te,e)}function gf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,C=null,P=n,Q=!1;do{var $=P.lane&-536870913;if($!==P.lane?(Vt&$)===$:(Bi&$)===$){var j=P.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===Ta&&(Q=!0);else if((Bi&j)===j){P=P.next,j===Ta&&(Q=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=$,g=f):C=C.next=$,Rt.lanes|=j,Ns|=j;$=P.action,Mr&&a(f,$),f=P.hasEagerState?P.eagerState:a(f,$)}else j={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=j,g=f):C=C.next=j,Rt.lanes|=$,Ns|=$;P=P.next}while(P!==null&&P!==n);if(C===null?g=f:C.next=T,!pn(f,e.memoizedState)&&(Re=!0,Q&&(a=Ea,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function pf(e){var n=_e(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);pn(f,n.memoizedState)||(Re=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function sp(e,n,a){var o=Rt,h=_e(),f=jt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!pn((te||h).memoizedState,a);if(g&&(h.memoizedState=a,Re=!0),h=h.queue,vf(op.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||we!==null&&we.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},ap.bind(null,o,h,a,n),null),ie===null)throw Error(r(349));f||(Bi&127)!==0||rp(o,n,a)}return a}function rp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=Bu(),Rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function ap(e,n,a,o){n.value=a,n.getSnapshot=o,lp(n)&&up(e)}function op(e,n,a){return a(function(){lp(n)&&up(e)})}function lp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!pn(e,a)}catch{return!0}}function up(e){var n=Sr(e,2);n!==null&&hn(n,e,2)}function _f(e){var n=sn();if(typeof e=="function"){var a=e;if(e=a(),Mr){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function cp(e,n,a,o){return e.baseState=a,gf(e,te,typeof o=="function"?o:qi)}function m1(e,n,a,o,h){if(Qu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,hp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function hp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=a(h,o),C=G.S;C!==null&&C(g,T),fp(e,n,T)}catch(P){yf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(h,o),fp(e,n,f)}catch(P){yf(e,n,P)}}function fp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){dp(e,n,o)},function(o){return yf(e,n,o)}):dp(e,n,a)}function dp(e,n,a){n.status="fulfilled",n.value=a,mp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,hp(e,a)))}function yf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,mp(n),n=n.next;while(n!==o)}e.action=null}function mp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function gp(e,n){return n}function pp(e,n){if(jt){var a=ie.formState;if(a!==null){t:{var o=Rt;if(jt){if(ae){e:{for(var h=ae,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=Un(h.nextSibling),o=h.data==="F!";break t}}Es(o)}o=!1}o&&(n=a[0])}}return a=sn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:n},a.queue=o,a=kp.bind(null,Rt,o),o.dispatch=a,o=_f(!1),f=bf.bind(null,Rt,!1,o.queue),o=sn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=m1.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function _p(e){var n=_e();return yp(n,te,e)}function yp(e,n,a){if(n=gf(e,n,gp)[0],e=Hu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(g){throw g===Aa?Vu:g}else o=n;n=_e();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,Ia(9,{destroy:void 0},g1.bind(null,h,a),null)),[o,f,e]}function g1(e,n){e.action=n}function vp(e){var n=_e(),a=te;if(a!==null)return yp(n,a,e);_e(),n=n.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ia(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Bu(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Tp(){return _e().memoizedState}function Gu(e,n,a,o){var h=sn();Rt.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},a,o===void 0?null:o)}function Fu(e,n,a,o){var h=_e();o=o===void 0?null:o;var f=h.memoizedState.inst;te!==null&&o!==null&&uf(o,te.memoizedState.deps)?h.memoizedState=Ia(n,f,a,o):(Rt.flags|=e,h.memoizedState=Ia(1|n,f,a,o))}function Ep(e,n){Gu(8390656,8,e,n)}function vf(e,n){Fu(2048,8,e,n)}function p1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Bu(),Rt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Ap(e){var n=_e().memoizedState;return p1({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Sp(e,n){return Fu(4,2,e,n)}function bp(e,n){return Fu(4,4,e,n)}function wp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Rp(e,n,a){a=a!=null?a.concat([e]):null,Fu(4,4,wp.bind(null,n,e),a)}function Tf(){}function Ip(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&uf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Cp(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&uf(n,o[1]))return o[0];if(o=e(),Mr){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o}function Ef(e,n,a){return a===void 0||(Bi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=D_(),Rt.lanes|=e,Ns|=e,a)}function Dp(e,n,a,o){return pn(a,n)?a:ba.current!==null?(e=Ef(e,a,o),pn(e,n)||(Re=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(Vt&261930)===0?(Re=!0,e.memoizedState=a):(e=D_(),Rt.lanes|=e,Ns|=e,n)}function Np(e,n,a,o,h){var f=F.p;F.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,bf(e,!1,n,a);try{var C=h(),P=G.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=h1(C,o);Zo(e,n,Q,An(e))}else Zo(e,n,o,An(e))}catch($){Zo(e,n,{then:function(){},status:"rejected",reason:$},An())}finally{F.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function _1(){}function Af(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Op(e).queue;Np(e,h,n,et,a===null?_1:function(){return Mp(e),a(o)})}function Op(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:et},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Mp(e){var n=Op(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},An())}function Sf(){return He(ml)}function Vp(){return _e().memoizedState}function xp(){return _e().memoizedState}function y1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=An();e=bs(a);var o=ws(n,e,a);o!==null&&(hn(o,n,a),Qo(o,n,a)),n={cache:Zh()},e.payload=n;return}n=n.return}}function v1(e,n,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Up(n,a):(a=jh(e,n,a,o),a!==null&&(hn(a,e,o),Lp(a,n,o)))}function kp(e,n,a){var o=An();Zo(e,n,a,o)}function Zo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Up(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,g))return Ru(e,n,h,0),ie===null&&wu(),!1}catch{}finally{}if(a=jh(e,n,h,o),a!==null)return hn(a,e,o),Lp(a,n,o),!0}return!1}function bf(e,n,a,o){if(o={lane:2,revertLane:nd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(r(479))}else n=jh(e,a,o,2),n!==null&&hn(n,e,2)}function Qu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Up(e,n){wa=Pu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Lp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,vo(e,a)}}var Jo={readContext:He,use:qu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};Jo.useEffectEvent=fe;var zp={readContext:He,use:qu,useCallback:function(e,n){return sn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Ep,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Gu(4194308,4,wp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var a=sn();n=n===void 0?null:n;var o=e();if(Mr){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=sn();if(a!==void 0){var h=a(n);if(Mr){wn(!0);try{a(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=v1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=sn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,a=kp.bind(null,Rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Tf,useDeferredValue:function(e,n){var a=sn();return Ef(a,e,n)},useTransition:function(){var e=_f(!1);return e=Np.bind(null,Rt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Rt,h=sn();if(jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ie===null)throw Error(r(349));(Vt&127)!==0||rp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ep(op.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},ap.bind(null,o,f,a,n),null),a},useId:function(){var e=sn(),n=ie.identifierPrefix;if(jt){var a=Ei,o=Ti;a=(o&~(1<<32-me(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ju++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=f1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sf,useFormState:pp,useActionState:pp,useOptimistic:function(e){var n=sn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=bf.bind(null,Rt,!0,a),a.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return sn().memoizedState=y1.bind(null,Rt)},useEffectEvent:function(e){var n=sn(),a={impl:e};return n.memoizedState=a,function(){if((Kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},wf={readContext:He,use:qu,useCallback:Ip,useContext:He,useEffect:vf,useImperativeHandle:Rp,useInsertionEffect:Sp,useLayoutEffect:bp,useMemo:Cp,useReducer:Hu,useRef:Tp,useState:function(){return Hu(qi)},useDebugValue:Tf,useDeferredValue:function(e,n){var a=_e();return Dp(a,te.memoizedState,e,n)},useTransition:function(){var e=Hu(qi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:sp,useId:Vp,useHostTransitionStatus:Sf,useFormState:_p,useActionState:_p,useOptimistic:function(e,n){var a=_e();return cp(a,te,e,n)},useMemoCache:mf,useCacheRefresh:xp};wf.useEffectEvent=Ap;var Pp={readContext:He,use:qu,useCallback:Ip,useContext:He,useEffect:vf,useImperativeHandle:Rp,useInsertionEffect:Sp,useLayoutEffect:bp,useMemo:Cp,useReducer:pf,useRef:Tp,useState:function(){return pf(qi)},useDebugValue:Tf,useDeferredValue:function(e,n){var a=_e();return te===null?Ef(a,e,n):Dp(a,te.memoizedState,e,n)},useTransition:function(){var e=pf(qi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:sp,useId:Vp,useHostTransitionStatus:Sf,useFormState:vp,useActionState:vp,useOptimistic:function(e,n){var a=_e();return te!==null?cp(a,te,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:mf,useCacheRefresh:xp};Pp.useEffectEvent=Ap;function Rf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var If={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=An(),h=bs(o);h.payload=n,a!=null&&(h.callback=a),n=ws(e,h,o),n!==null&&(hn(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=An(),h=bs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ws(e,h,o),n!==null&&(hn(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=An(),o=bs(a);o.tag=2,n!=null&&(o.callback=n),n=ws(e,o,a),n!==null&&(hn(n,e,a),Qo(n,e,a))}};function jp(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!zo(a,o)||!zo(h,f):!0}function Bp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function Vr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function qp(e){bu(e)}function Hp(e){console.error(e)}function Gp(e){bu(e)}function Yu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Fp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,a){return a=bs(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(e,n)},a}function Qp(e){return e=bs(e),e.tag=3,e}function Yp(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Fp(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Fp(n,a,o),typeof h!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function T1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&va(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?rc():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===xu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Wf(e,o,h)),!1;case 22:return a.flags|=65536,o===xu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Wf(e,o,h)),!1}throw Error(r(435,a.tag))}return Wf(e,o,h),rc(),!1}if(jt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Qh&&(e=Error(r(422),{cause:o}),Bo(On(e,a)))):(o!==Qh&&(n=Error(r(423),{cause:o}),Bo(On(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,a),h=Cf(e.stateNode,o,h),sf(e,h),de!==4&&(de=2)),!1;var f=Error(r(520),{cause:o});if(f=On(f,a),al===null?al=[f]:al.push(f),de!==4&&(de=2),n===null)return!0;o=On(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Cf(a.stateNode,o,e),sf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Os===null||!Os.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Qp(h),Yp(h,e,a,o),sf(a,h),!1}a=a.return}while(a!==null);return!1}var Df=Error(r(461)),Re=!1;function Ge(e,n,a,o){n.child=e===null?Zg(n,null,a,o):Or(n,e.child,a,o)}function Kp(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Ir(n),o=cf(e,n,a,g,f,h),T=hf(),e!==null&&!Re?(ff(e,n,h),Hi(e,n,h)):(jt&&T&&Gh(n),n.flags|=1,Ge(e,n,o,h),n.child)}function Xp(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,$p(e,n,f,o,h)):(e=Cu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(g,o)&&e.ref===n.ref)return Hi(e,n,h)}return n.flags|=1,e=Li(f,o),e.ref=n.ref,e.return=n,n.child=e}function $p(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(zo(f,o)&&e.ref===n.ref)if(Re=!1,n.pendingProps=o=f,Lf(e,h))(e.flags&131072)!==0&&(Re=!0);else return n.lanes=e.lanes,Hi(e,n,h)}return Nf(e,n,a,o,h)}function Zp(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Jp(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?tp(n,f):af(),ep(n);else return o=n.lanes=536870912,Jp(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Mu(n,f.cachePool),tp(n,f),Is(),n.memoizedState=null):(e!==null&&Mu(n,null),af(),Is());return Ge(e,n,h,a),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Jp(e,n,a,o,h){var f=Wh();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Mu(n,null),af(),ep(n),e!==null&&va(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Wp(e,n,a){return Or(n,e.child,null,a),e=Ku(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function E1(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Wo(null,e);if(lf(n),(e=ae)?(e=hy(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vs!==null?{id:Ti,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=Ug(e),a.return=n,n.child=a,qe=n,ae=null)):e=null,e===null)throw Es(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(lf(n),h)if(n.flags&256)n.flags&=-257,n=Wp(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Re||va(e,n,a,!1),h=(a&e.childLanes)!==0,Re||h){if(o=ie,o!==null&&(g=To(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Sr(e,g),hn(o,e,g),Df;rc(),n=Wp(e,n,a)}else e=f.treeContext,ae=Un(g.nextSibling),qe=n,jt=!0,Ts=null,xn=!1,e!==null&&Pg(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Nf(e,n,a,o,h){return Ir(n),a=cf(e,n,a,o,void 0,h),o=hf(),e!==null&&!Re?(ff(e,n,h),Hi(e,n,h)):(jt&&o&&Gh(n),n.flags|=1,Ge(e,n,a,h),n.child)}function t_(e,n,a,o,h,f){return Ir(n),n.updateQueue=null,a=ip(n,o,a,h),np(e),o=hf(),e!==null&&!Re?(ff(e,n,f),Hi(e,n,f)):(jt&&o&&Gh(n),n.flags|=1,Ge(e,n,a,f),n.child)}function e_(e,n,a,o,h){if(Ir(n),n.stateNode===null){var f=ga,g=a.contextType;typeof g=="object"&&g!==null&&(f=He(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ef(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?He(g):ga,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Rf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&If.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,C=Vr(a,T);f.props=C;var P=f.context,Q=a.contextType;g=ga,typeof Q=="object"&&Q!==null&&(g=He(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Bp(n,f,o,g),Ss=!1;var j=n.memoizedState;f.state=j,Ko(n,o,f,h),Yo(),P=n.memoizedState,T||j!==P||Ss?(typeof $=="function"&&(Rf(n,a,$,o),P=n.memoizedState),(C=Ss||jp(n,a,C,o,j,P,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,nf(e,n),g=n.memoizedProps,Q=Vr(a,g),f.props=Q,$=n.pendingProps,j=f.context,P=a.contextType,C=ga,typeof P=="object"&&P!==null&&(C=He(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||j!==C)&&Bp(n,f,o,C),Ss=!1,j=n.memoizedState,f.state=j,Ko(n,o,f,h),Yo();var H=n.memoizedState;g!==$||j!==H||Ss||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof T=="function"&&(Rf(n,a,T,o),H=n.memoizedState),(Q=Ss||jp(n,a,Q,o,j,H,C)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Or(n,e.child,null,h),n.child=Or(n,null,a,h)):Ge(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Hi(e,n,h),e}function n_(e,n,a,o){return wr(),n.flags|=256,Ge(e,n,a,o),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:Fg()}}function Vf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=En),e}function i_(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?Rs(n):Is(),(e=ae)?(e=hy(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vs!==null?{id:Ti,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=Ug(e),a.return=n,n.child=a,qe=n,ae=null)):e=null,e===null)throw Es(n);return gd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Is(),h=n.mode,T=$u({mode:"hidden",children:T},h),o=br(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Mf(a),o.childLanes=Vf(e,g,a),n.memoizedState=Of,Wo(null,o)):(Rs(n),xf(n,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Rs(n),n.flags&=-257,n=kf(e,n,a)):n.memoizedState!==null?(Is(),n.child=e.child,n.flags|=128,n=null):(Is(),T=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),T=br(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Or(n,e.child,null,a),o=n.child,o.memoizedState=Mf(a),o.childLanes=Vf(e,g,a),n.memoizedState=Of,n=Wo(null,o));else if(Rs(n),gd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(r(419)),o.stack="",o.digest=g,Bo({value:o,source:null,stack:null}),n=kf(e,n,a)}else if(Re||va(e,n,a,!1),g=(a&e.childLanes)!==0,Re||g){if(g=ie,g!==null&&(o=To(g,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Sr(e,o),hn(g,e,o),Df;md(T)||rc(),n=kf(e,n,a)}else md(T)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ae=Un(T.nextSibling),qe=n,jt=!0,Ts=null,xn=!1,e!==null&&Pg(n,e),n=xf(n,o.children),n.flags|=4096);return n}return h?(Is(),T=o.fallback,h=n.mode,C=e.child,P=C.sibling,o=Li(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?T=Li(P,T):(T=br(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Wo(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Mf(a):(h=T.cachePool,h!==null?(C=be._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Fg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Vf(e,g,a),n.memoizedState=Of,Wo(e.child,o)):(Rs(n),a=e.child,e=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function xf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=_n(22,e,null,n),e.lanes=0,e}function kf(e,n,a){return Or(n,e.child,null,a),e=xf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function s_(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Xh(e.return,n,a)}function Uf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function r_(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=pe.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,rt(pe,g),Ge(e,n,o,a),o=jt?jo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&s_(e,a,n);else if(e.tag===19)s_(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Uf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Uf(n,!0,a,null,f,o);break;case"together":Uf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Hi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ns|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(va(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Li(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Li(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function A1(e,n,a){switch(n.tag){case 3:Me(n,n.stateNode.containerInfo),As(n,be,e.memoizedState.cache),wr();break;case 27:case 5:rr(n);break;case 4:Me(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?i_(e,n,a):(Rs(n),e=Hi(e,n,a),e!==null?e.sibling:null);Rs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(va(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return r_(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(pe,pe.current),o)break;return null;case 22:return n.lanes=0,Zp(e,n,a,n.pendingProps);case 24:As(n,be,e.memoizedState.cache)}return Hi(e,n,a)}function a_(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Re=!0;else{if(!Lf(e,a)&&(n.flags&128)===0)return Re=!1,A1(e,n,a);Re=(e.flags&131072)!==0}else Re=!1,jt&&(n.flags&1048576)!==0&&zg(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Dr(n.elementType),n.type=e,typeof e=="function")Bh(e)?(o=Vr(e,o),n.tag=1,n=e_(null,n,e,o,a)):(n.tag=0,n=Nf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Tt){n.tag=11,n=Kp(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=Xp(null,n,e,o,a);break t}}throw n=ot(e)||e,Error(r(306,n,""))}}return n;case 0:return Nf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Vr(o,n.pendingProps),e_(e,n,o,h,a);case 3:t:{if(Me(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),Ko(n,o,null,a);var g=n.memoizedState;if(o=g.cache,As(n,be,o),o!==f.cache&&$h(n,[be],a,!0),Yo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=n_(e,n,o,a);break t}else if(o!==h){h=On(Error(r(424)),n),Bo(h),n=n_(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Un(e.firstChild),qe=n,jt=!0,Ts=null,xn=!0,a=Zg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wr(),o===h){n=Hi(e,n,a);break t}Ge(e,n,o,a)}n=n.child}return n;case 26:return Xu(e,n),e===null?(a=_y(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,e=n.pendingProps,o=fc(It.current).createElement(a),o[Ee]=n,o[Ue]=e,Fe(o,a,e),Ae(o),n.stateNode=o):n.memoizedState=_y(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return rr(n),e===null&&jt&&(o=n.stateNode=my(n.type,n.pendingProps,It.current),qe=n,xn=!0,h=ae,ks(n.type)?(pd=h,ae=Un(o.firstChild)):ae=h),Ge(e,n,n.pendingProps.children,a),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=ae)&&(o=J1(o,n.type,n.pendingProps,xn),o!==null?(n.stateNode=o,qe=n,ae=Un(o.firstChild),xn=!1,h=!0):h=!1),h||Es(n)),rr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,hd(h,f)?o=null:g!==null&&hd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,d1,null,null,a),ml._currentValue=h),Xu(e,n),Ge(e,n,o,a),n.child;case 6:return e===null&&jt&&((e=a=ae)&&(a=W1(a,n.pendingProps,xn),a!==null?(n.stateNode=a,qe=n,ae=null,e=!0):e=!1),e||Es(n)),null;case 13:return i_(e,n,a);case 4:return Me(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Or(n,null,o,a):Ge(e,n,o,a),n.child;case 11:return Kp(e,n,n.type,n.pendingProps,a);case 7:return Ge(e,n,n.pendingProps,a),n.child;case 8:return Ge(e,n,n.pendingProps.children,a),n.child;case 12:return Ge(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,As(n,n.type,o.value),Ge(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ir(n),h=He(h),o=o(h),n.flags|=1,Ge(e,n,o,a),n.child;case 14:return Xp(e,n,n.type,n.pendingProps,a);case 15:return $p(e,n,n.type,n.pendingProps,a);case 19:return r_(e,n,a);case 31:return E1(e,n,a);case 22:return Zp(e,n,a,n.pendingProps);case 24:return Ir(n),o=He(be),e===null?(h=Wh(),h===null&&(h=ie,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},ef(n),As(n,be,h)):((e.lanes&a)!==0&&(nf(e,n),Ko(n,null,null,a),Yo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),As(n,be,o)):(o=f.cache,As(n,be,o),o!==h.cache&&$h(n,[be],a,!0))),Ge(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Gi(e){e.flags|=4}function zf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(V_())e.flags|=8192;else throw Nr=xu,tf}else e.flags&=-16777217}function o_(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ay(n))if(V_())e.flags|=8192;else throw Nr=xu,tf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Oa|=n)}function tl(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function S1(e,n,a){var o=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ji(be),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ya(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),oe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Gi(n),f!==null?(oe(n),o_(n,f)):(oe(n),zf(n,h,null,o,a))):f?f!==e.memoizedState?(Gi(n),oe(n),o_(n,f)):(oe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(n),oe(n),zf(n,h,e,o,a)),null;case 27:if($r(n),a=It.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return oe(n),null}e=ut.current,ya(n)?jg(n):(e=my(h,o,a),n.stateNode=e,Gi(n))}return oe(n),null;case 5:if($r(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return oe(n),null}if(f=ut.current,ya(n))jg(n);else{var g=fc(It.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[Ue]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(n)}}return oe(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=It.current,ya(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||iy(e.nodeValue,a)),e||Es(n,!0)}else e=fc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return oe(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=ya(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ee]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),e=!1}else a=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return oe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ee]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Zu(n,n.updateQueue),oe(n),null);case 4:return le(),e===null&&ad(n.stateNode.containerInfo),oe(n),null;case 10:return ji(n.type),oe(n),null;case 19:if(K(pe),o=n.memoizedState,o===null)return oe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)kg(a,e),a=a.sibling;return rt(pe,pe.current&1|2),jt&&zi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>nc&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return oe(n),null}else 2*en()-o.renderingStartTime>nc&&a!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,a=pe.current,rt(pe,h?a&1|2:a&1),jt&&zi(n,o.treeForkCount),e):(oe(n),null);case 22:case 23:return vn(n),of(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),a=n.updateQueue,a!==null&&Zu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&K(Cr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ji(be),oe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function b1(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ji(be),le(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $r(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(r(340));wr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));wr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(pe),null;case 4:return le(),null;case 10:return ji(n.type),null;case 22:case 23:return vn(n),of(),e!==null&&K(Cr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ji(be),null;case 25:return null;default:return null}}function l_(e,n){switch(Fh(n),n.tag){case 3:ji(be),le();break;case 26:case 27:case 5:$r(n);break;case 4:le();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:K(pe);break;case 10:ji(n.type);break;case 22:case 23:vn(n),of(),e!==null&&K(Cr);break;case 24:ji(be)}}function el(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(T){Jt(n,n.return,T)}}function Cs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=a,P=T;try{P()}catch(Q){Jt(h,C,Q)}}}o=o.next}while(o!==f)}}catch(Q){Jt(n,n.return,Q)}}function u_(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Wg(n,a)}catch(o){Jt(e,e.return,o)}}}function c_(e,n,a){a.props=Vr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Jt(e,n,o)}}function nl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Jt(e,n,h)}}function Ai(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,n,h)}else a.current=null}function h_(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function Pf(e,n,a){try{var o=e.stateNode;Q1(o,e.type,a,n),o[Ue]=n}catch(h){Jt(e,e.return,h)}}function f_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||f_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&ks(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,a),e=e.sibling;e!==null;)Bf(e,n,a),e=e.sibling}function Ju(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&ks(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ju(e,n,a),e=e.sibling;e!==null;)Ju(e,n,a),e=e.sibling}function d_(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,a),n[Ee]=e,n[Ue]=a}catch(f){Jt(e,e.return,f)}}var Fi=!1,Ie=!1,qf=!1,m_=typeof WeakSet=="function"?WeakSet:Set,ze=null;function w1(e,n){if(e=e.containerInfo,ud=vc,e=Rg(e),xh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,T=-1,C=-1,P=0,Q=0,$=e,j=null;e:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(T=g+h),$!==f||o!==0&&$.nodeType!==3||(C=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)j=$,$=H;for(;;){if($===e)break e;if(j===a&&++P===h&&(T=g),j===f&&++Q===o&&(C=g),(H=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=H}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(cd={focusedElem:e,selectionRange:a},vc=!1,ze=n;ze!==null;)if(n=ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ze=e;else for(;ze!==null;){switch(n=ze,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ht=Vr(a.type,h);e=o.getSnapshotBeforeUpdate(ht,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Jt(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)dd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,ze=e;break}ze=n.return}}function g_(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(e,a),o&4&&el(5,a);break;case 1:if(Yi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){Jt(a,a.return,g)}else{var h=Vr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Jt(a,a.return,g)}}o&64&&u_(a),o&512&&nl(a,a.return);break;case 3:if(Yi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Wg(e,n)}catch(g){Jt(a,a.return,g)}}break;case 27:n===null&&o&4&&d_(a);case 26:case 5:Yi(e,a),n===null&&o&4&&h_(a),o&512&&nl(a,a.return);break;case 12:Yi(e,a);break;case 31:Yi(e,a),o&4&&y_(e,a);break;case 13:Yi(e,a),o&4&&v_(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=x1.bind(null,a),tA(e,a))));break;case 22:if(o=a.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||Ie,h=Fi;var f=Ie;Fi=o,(Ie=n)&&!f?Ki(e,a,(a.subtreeFlags&8772)!==0):Yi(e,a),Fi=h,Ie=f}break;case 30:break;default:Yi(e,a)}}function p_(e){var n=e.alternate;n!==null&&(e.alternate=null,p_(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,on=!1;function Qi(e,n,a){for(a=a.child;a!==null;)__(e,n,a),a=a.sibling}function __(e,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:Ie||Ai(a,n),Qi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||Ai(a,n);var o=ce,h=on;ks(a.type)&&(ce=a.stateNode,on=!1),Qi(e,n,a),hl(a.stateNode),ce=o,on=h;break;case 5:Ie||Ai(a,n);case 6:if(o=ce,h=on,ce=null,Qi(e,n,a),ce=o,on=h,ce!==null)if(on)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(f){Jt(a,n,f)}else try{ce.removeChild(a.stateNode)}catch(f){Jt(a,n,f)}break;case 18:ce!==null&&(on?(e=ce,uy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Pa(e)):uy(ce,a.stateNode));break;case 4:o=ce,h=on,ce=a.stateNode.containerInfo,on=!0,Qi(e,n,a),ce=o,on=h;break;case 0:case 11:case 14:case 15:Cs(2,a,n),Ie||Cs(4,a,n),Qi(e,n,a);break;case 1:Ie||(Ai(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&c_(a,n,o)),Qi(e,n,a);break;case 21:Qi(e,n,a);break;case 22:Ie=(o=Ie)||a.memoizedState!==null,Qi(e,n,a),Ie=o;break;default:Qi(e,n,a)}}function y_(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(a){Jt(n,n.return,a)}}}function v_(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(a){Jt(n,n.return,a)}}function R1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new m_),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new m_),n;default:throw Error(r(435,e.tag))}}function Wu(e,n){var a=R1(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=k1.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(ks(T.type)){ce=T.stateNode,on=!1;break t}break;case 5:ce=T.stateNode,on=!1;break t;case 3:case 4:ce=T.stateNode.containerInfo,on=!0;break t}T=T.return}if(ce===null)throw Error(r(160));__(f,g,h),ce=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)T_(n,e),n=n.sibling}var Xn=null;function T_(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Cs(3,e,e.return),el(3,e),Cs(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(Ie||a===null||Ai(a,a.return)),o&64&&Fi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(ln(n,e),un(e),o&512&&(Ie||a===null||Ai(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[Ee]=e,Ae(f),o=f;break t;case"link":var g=Ty("link","href",h).get(o+(a.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(g=Ty("meta","content",h).get(o+(a.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(T,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ee]=e,Ae(f),o=f}e.stateNode=o}else Ey(h,e.type,e.stateNode);else e.stateNode=vy(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Ey(h,e.type,e.stateNode):vy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(Ie||a===null||Ai(a,a.return)),a!==null&&o&4&&Pf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(Ie||a===null||Ai(a,a.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(ht){Jt(e,e.return,ht)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Pf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(qf=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ht){Jt(e,e.return,ht)}}break;case 3:if(gc=null,h=Xn,Xn=dc(n.containerInfo),ln(n,e),Xn=h,un(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(ht){Jt(e,e.return,ht)}qf&&(qf=!1,E_(e));break;case 4:o=Xn,Xn=dc(e.stateNode.containerInfo),ln(n,e),un(e),Xn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ec=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,P=Fi,Q=Ie;if(Fi=P||h,Ie=Q||C,ln(n,e),Ie=Q,Fi=P,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Fi||Ie||xr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var $=C.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ht){Jt(C,C.return,ht)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ht){Jt(C,C.return,ht)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?cy(H,!0):cy(C.stateNode,!1)}catch(ht){Jt(C,C.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Wu(e,a))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(f_(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=jf(e);Ju(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(an(g,""),a.flags&=-33);var T=jf(e);Ju(e,T,g);break;case 3:case 4:var C=a.stateNode.containerInfo,P=jf(e);Bf(e,P,C);break;default:throw Error(r(161))}}catch(Q){Jt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function E_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;E_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Yi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)g_(e,n.alternate,n),n=n.sibling}function xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),xr(n);break;case 1:Ai(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&c_(n,n.return,a),xr(n);break;case 27:hl(n.stateNode);case 26:case 5:Ai(n,n.return),xr(n);break;case 22:n.memoizedState===null&&xr(n);break;case 30:xr(n);break;default:xr(n)}e=e.sibling}}function Ki(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,a),el(4,f);break;case 1:if(Ki(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Jt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Jg(C[h],T)}catch(P){Jt(o,o.return,P)}}a&&g&64&&u_(f),nl(f,f.return);break;case 27:d_(f);case 26:case 5:Ki(h,f,a),a&&o===null&&g&4&&h_(f),nl(f,f.return);break;case 12:Ki(h,f,a);break;case 31:Ki(h,f,a),a&&g&4&&y_(h,f);break;case 13:Ki(h,f,a),a&&g&4&&v_(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,a),nl(f,f.return);break;case 30:break;default:Ki(h,f,a)}n=n.sibling}}function Hf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qo(a))}function Gf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function $n(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)A_(e,n,a,o),n=n.sibling}function A_(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,a,o),h&2048&&el(9,n);break;case 1:$n(e,n,a,o);break;case 3:$n(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){$n(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Jt(n,n.return,C)}}else $n(e,n,a,o);break;case 31:$n(e,n,a,o);break;case 13:$n(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,a,o):il(e,n):f._visibility&2?$n(e,n,a,o):(f._visibility|=2,Ca(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(g,n);break;case 24:$n(e,n,a,o),h&2048&&Gf(n.alternate,n);break;default:$n(e,n,a,o)}}function Ca(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=a,C=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(f,g,T,C,h),el(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Ca(f,g,T,C,h):il(f,g):(Q._visibility|=2,Ca(f,g,T,C,h)),h&&P&2048&&Hf(g.alternate,g);break;case 24:Ca(f,g,T,C,h),h&&P&2048&&Gf(g.alternate,g);break;default:Ca(f,g,T,C,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:il(a,o),h&2048&&Hf(o.alternate,o);break;case 24:il(a,o),h&2048&&Gf(o.alternate,o);break;default:il(a,o)}n=n.sibling}}var sl=8192;function Da(e,n,a){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)S_(e,n,a),e=e.sibling}function S_(e,n,a){switch(e.tag){case 26:Da(e,n,a),e.flags&sl&&e.memoizedState!==null&&fA(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,a);break;case 3:case 4:var o=Xn;Xn=dc(e.stateNode.containerInfo),Da(e,n,a),Xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Da(e,n,a),sl=o):Da(e,n,a));break;default:Da(e,n,a)}}function b_(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];ze=o,R_(o,e)}b_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)w_(e),e=e.sibling}function w_(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):rl(e);break;default:rl(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];ze=o,R_(o,e)}b_(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),tc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function R_(e,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:Cs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ze=o;else t:for(a=e;ze!==null;){o=ze;var h=o.sibling,f=o.return;if(p_(o),o===a){ze=null;break t}if(h!==null){h.return=f,ze=h;break t}ze=f}}}var I1={getCacheForType:function(e){var n=He(be),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return He(be).controller.signal}},C1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ie=null,Ot=null,Vt=0,Zt=0,Tn=null,Ds=!1,Na=!1,Ff=!1,Xi=0,de=0,Ns=0,kr=0,Qf=0,En=0,Oa=0,al=null,cn=null,Yf=!1,ec=0,I_=0,nc=1/0,ic=null,Os=null,xe=0,Ms=null,Ma=null,$i=0,Kf=0,Xf=null,C_=null,ol=0,$f=null;function An(){return(Kt&2)!==0&&Vt!==0?Vt&-Vt:G.T!==null?nd():su()}function D_(){if(En===0)if((Vt&536870912)===0||jt){var e=lr;lr<<=1,(lr&3932160)===0&&(lr=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function hn(e,n,a){(e===ie&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Vs(e,Vt,En,!1)),ur(e,a),((Kt&2)===0||e!==ie)&&(e===ie&&((Kt&2)===0&&(kr|=a),de===4&&Vs(e,Vt,En,!1)),Si(e))}function N_(e,n,a){if((Kt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),h=o?O1(e,n):Jf(e,n,!0),f=o;do{if(h===0){Na&&!o&&Vs(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!D1(a)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=al;var C=T.current.memoizedState.isDehydrated;if(C&&(Va(T,g).flags|=256),g=Jf(T,g,!1),g!==2){if(Ff&&!C){T.errorRecoveryDisabledLanes|=f,kr|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),Vs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Vs(o,n,En,!Ds);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ec+300-en(),10<h)){if(Vs(o,n,En,!Ds),ri(o,0,!0)!==0)break t;$i=n,o.timeoutHandle=oy(O_.bind(null,o,a,cn,ic,Yf,n,En,kr,Oa,Ds,f,"Throttled",-0,0),h);break t}O_(o,a,cn,ic,Yf,n,En,kr,Oa,Ds,f,null,-0,0)}}break}while(!0);Si(e)}function O_(e,n,a,o,h,f,g,T,C,P,Q,$,j,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},S_(n,f,$);var ht=(f&62914560)===f?ec-en():(f&4194048)===f?I_-en():0;if(ht=dA($,ht),ht!==null){$i=f,e.cancelPendingCommit=ht(P_.bind(null,e,n,f,a,o,h,g,T,C,Q,$,null,j,H)),Vs(e,f,g,!P);return}}P_(e,n,f,a,o,h,g,T,C)}function D1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vs(e,n,a,o){n&=~Qf,n&=~kr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-me(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&cr(e,a,n)}function sc(){return(Kt&6)===0?(ll(0),!1):!0}function Zf(){if(Ot!==null){if(Zt===0)var e=Ot.return;else e=Ot,Pi=Rr=null,df(e),Sa=null,Go=0,e=Ot;for(;e!==null;)l_(e.alternate,e),e=e.return;Ot=null}}function Va(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,X1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),$i=0,Zf(),ie=e,Ot=a=Li(e.current,null),Vt=n,Zt=0,Tn=null,Ds=!1,Na=jn(e,n),Ff=!1,Oa=En=Qf=kr=Ns=de=0,cn=al=null,Yf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-me(o),f=1<<h;n|=e[h],o&=~f}return Xi=n,wu(),a}function M_(e,n){Rt=null,G.H=Jo,n===Aa||n===Vu?(n=Kg(),Zt=3):n===tf?(n=Kg(),Zt=4):Zt=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Ot===null&&(de=1,Yu(e,On(n,e.current)))}function V_(){var e=yn.current;return e===null?!0:(Vt&4194048)===Vt?kn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===kn:!1}function x_(){var e=G.H;return G.H=Jo,e===null?Jo:e}function k_(){var e=G.A;return G.A=I1,e}function rc(){de=4,Ds||(Vt&4194048)!==Vt&&yn.current!==null||(Na=!0),(Ns&134217727)===0&&(kr&134217727)===0||ie===null||Vs(ie,Vt,En,!1)}function Jf(e,n,a){var o=Kt;Kt|=2;var h=x_(),f=k_();(ie!==e||Vt!==n)&&(ic=null,Va(e,n)),n=!1;var g=de;t:do try{if(Zt!==0&&Ot!==null){var T=Ot,C=Tn;switch(Zt){case 8:Zf(),g=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var P=Zt;if(Zt=0,Tn=null,xa(e,T,C,P),a&&Na){g=0;break t}break;default:P=Zt,Zt=0,Tn=null,xa(e,T,C,P)}}N1(),g=de;break}catch(Q){M_(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Pi=Rr=null,Kt=o,G.H=h,G.A=f,Ot===null&&(ie=null,Vt=0,wu()),g}function N1(){for(;Ot!==null;)U_(Ot)}function O1(e,n){var a=Kt;Kt|=2;var o=x_(),h=k_();ie!==e||Vt!==n?(ic=null,nc=en()+500,Va(e,n)):Na=jn(e,n);t:do try{if(Zt!==0&&Ot!==null){n=Ot;var f=Tn;e:switch(Zt){case 1:Zt=0,Tn=null,xa(e,n,f,1);break;case 2:case 9:if(Qg(f)){Zt=0,Tn=null,L_(n);break}n=function(){Zt!==2&&Zt!==9||ie!==e||(Zt=7),Si(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Qg(f)?(Zt=0,Tn=null,L_(n)):(Zt=0,Tn=null,xa(e,n,f,7));break;case 5:var g=null;switch(Ot.tag){case 26:g=Ot.memoizedState;case 5:case 27:var T=Ot;if(g?Ay(g):T.stateNode.complete){Zt=0,Tn=null;var C=T.sibling;if(C!==null)Ot=C;else{var P=T.return;P!==null?(Ot=P,ac(P)):Ot=null}break e}}Zt=0,Tn=null,xa(e,n,f,5);break;case 6:Zt=0,Tn=null,xa(e,n,f,6);break;case 8:Zf(),de=6;break t;default:throw Error(r(462))}}M1();break}catch(Q){M_(e,Q)}while(!0);return Pi=Rr=null,G.H=o,G.A=h,Kt=a,Ot!==null?0:(ie=null,Vt=0,wu(),de)}function M1(){for(;Ot!==null&&!Ih();)U_(Ot)}function U_(e){var n=a_(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,n===null?ac(e):Ot=n}function L_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=t_(a,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=t_(a,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:df(n);default:l_(a,n),n=Ot=kg(n,Xi),n=a_(a,n,Xi)}e.memoizedProps=e.pendingProps,n===null?ac(e):Ot=n}function xa(e,n,a,o){Pi=Rr=null,df(n),Sa=null,Go=0;var h=n.return;try{if(T1(e,h,n,a,Vt)){de=1,Yu(e,On(a,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;de=1,Yu(e,On(a,e.current)),Ot=null;return}n.flags&32768?(jt||o===1?e=!0:Na||(Vt&536870912)!==0?e=!1:(Ds=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),z_(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){z_(n,Ds);return}e=n.return;var a=S1(n.alternate,n,Xi);if(a!==null){Ot=a;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);de===0&&(de=5)}function z_(e,n){do{var a=b1(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);de=6,Ot=null}function P_(e,n,a,o,h,f,g,T,C){e.cancelPendingCommit=null;do oc();while(xe!==0);if((Kt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Ph,Nh(e,a,f,g,T,C),e===ie&&(Ot=ie=null,Vt=0),Ma=n,Ms=e,$i=a,Kf=f,Xf=h,C_=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,U1(us,function(){return G_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=F.p,F.p=2,g=Kt,Kt|=4;try{w1(e,n,a)}finally{Kt=g,F.p=h,G.T=o}}xe=1,j_(),B_(),q_()}}function j_(){if(xe===1){xe=0;var e=Ms,n=Ma,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=F.p;F.p=2;var h=Kt;Kt|=4;try{T_(n,e);var f=cd,g=Rg(e.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&wg(T.ownerDocument.documentElement,T)){if(C!==null&&xh(T)){var P=C.start,Q=C.end;if(Q===void 0&&(Q=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(Q,T.value.length);else{var $=T.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var H=j.getSelection(),ht=T.textContent.length,_t=Math.min(C.start,ht),ne=C.end===void 0?_t:Math.min(C.end,ht);!H.extend&&_t>ne&&(g=ne,ne=_t,_t=g);var U=bg(T,_t),V=bg(T,ne);if(U&&V&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var z=$.createRange();z.setStart(U.node,U.offset),H.removeAllRanges(),_t>ne?(H.addRange(z),H.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),H.addRange(z))}}}}for($=[],H=T;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Y=$[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}vc=!!ud,cd=ud=null}finally{Kt=h,F.p=o,G.T=a}}e.current=n,xe=2}}function B_(){if(xe===2){xe=0;var e=Ms,n=Ma,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=F.p;F.p=2;var h=Kt;Kt|=4;try{g_(e,n.alternate,n)}finally{Kt=h,F.p=o,G.T=a}}xe=3}}function q_(){if(xe===4||xe===3){xe=0,Zl();var e=Ms,n=Ma,a=$i,o=C_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,Ma=Ms=null,H_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Os=null),Vi(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=F.p,F.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,F.p=h}}($i&3)!==0&&oc(),Si(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===$f?ol++:(ol=0,$f=e):ol=0,ll(0)}}function H_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function oc(){return j_(),B_(),q_(),G_()}function G_(){if(xe!==5)return!1;var e=Ms,n=Kf;Kf=0;var a=Vi($i),o=G.T,h=F.p;try{F.p=32>a?32:a,G.T=null,a=Xf,Xf=null;var f=Ms,g=$i;if(xe=0,Ma=Ms=null,$i=0,(Kt&6)!==0)throw Error(r(331));var T=Kt;if(Kt|=4,w_(f.current),A_(f,f.current,g,a),Kt=T,ll(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{F.p=h,G.T=o,H_(e,n)}}function F_(e,n,a){n=On(a,n),n=Cf(e.stateNode,n,2),e=ws(e,n,2),e!==null&&(ur(e,2),Si(e))}function Jt(e,n,a){if(e.tag===3)F_(e,e,a);else for(;n!==null;){if(n.tag===3){F_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Os===null||!Os.has(o))){e=On(a,e),a=Qp(2),o=ws(n,a,2),o!==null&&(Yp(a,o,n,e),ur(o,2),Si(o));break}}n=n.return}}function Wf(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new C1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Ff=!0,h.add(a),e=V1.bind(null,e,n,a),n.then(e,e))}function V1(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ie===e&&(Vt&a)===a&&(de===4||de===3&&(Vt&62914560)===Vt&&300>en()-ec?(Kt&2)===0&&Va(e,0):Qf|=a,Oa===Vt&&(Oa=0)),Si(e)}function Q_(e,n){n===0&&(n=iu()),e=Sr(e,n),e!==null&&(ur(e,n),Si(e))}function x1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Q_(e,a)}function k1(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Q_(e,a)}function U1(e,n){return Ve(e,n)}var lc=null,ka=null,td=!1,uc=!1,ed=!1,xs=0;function Si(e){e!==ka&&e.next===null&&(ka===null?lc=ka=e:ka=ka.next=e),uc=!0,td||(td=!0,z1())}function ll(e,n){if(!ed&&uc){ed=!0;do for(var a=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-me(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,$_(o,f))}else f=Vt,f=ri(o,o===ie?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(a=!0,$_(o,f));o=o.next}while(a);ed=!1}}function L1(){Y_()}function Y_(){uc=td=!1;var e=0;xs!==0&&K1()&&(e=xs);for(var n=en(),a=null,o=lc;o!==null;){var h=o.next,f=K_(o,n);f===0?(o.next=null,a===null?lc=h:a.next=h,h===null&&(ka=a)):(a=o,(e!==0||(f&3)!==0)&&(uc=!0)),o=h}xe!==0&&xe!==5||ll(e),xs!==0&&(xs=0)}function K_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-me(f),T=1<<g,C=h[g];C===-1?((T&a)===0||(T&o)!==0)&&(h[g]=Dh(T,n)):C<=n&&(e.expiredLanes|=T),f&=~T}if(n=ie,a=Vt,a=ri(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ls(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&ls(o),Vi(a)){case 2:case 8:a=yo;break;case 32:a=us;break;case 268435456:a=Jl;break;default:a=us}return o=X_.bind(null,e),a=Ve(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&ls(o),e.callbackPriority=2,e.callbackNode=null,2}function X_(e,n){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(oc()&&e.callbackNode!==a)return null;var o=Vt;return o=ri(e,e===ie?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(N_(e,o,n),K_(e,en()),e.callbackNode!=null&&e.callbackNode===a?X_.bind(null,e):null)}function $_(e,n){if(oc())return null;N_(e,n,!0)}function z1(){$1(function(){(Kt&6)!==0?Ve(_o,L1):Y_()})}function nd(){if(xs===0){var e=Ta;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),xs=e}return xs}function Z_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function J_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function P1(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=Z_((h[Ue]||null).action),g=o.submitter;g&&(n=(n=g[Ue]||null)?Z_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new pi("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xs!==0){var C=g?J_(h,g):new FormData(h);Af(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?J_(h,g):new FormData(h),Af(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var id=0;id<zh.length;id++){var sd=zh[id],j1=sd.toLowerCase(),B1=sd[0].toUpperCase()+sd.slice(1);Kn(j1,"on"+B1)}Kn(Dg,"onAnimationEnd"),Kn(Ng,"onAnimationIteration"),Kn(Og,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(i1,"onTransitionRun"),Kn(s1,"onTransitionStart"),Kn(r1,"onTransitionCancel"),Kn(Mg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function W_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(Q){bu(Q)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(T=o[g],C=T.instance,P=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(Q){bu(Q)}h.currentTarget=null,f=C}}}}function Mt(e,n){var a=n[ta];a===void 0&&(a=n[ta]=new Set);var o=e+"__bubble";a.has(o)||(ty(n,e,2,!1),a.add(o))}function rd(e,n,a){var o=0;n&&(o|=4),ty(a,e,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[cc]){e[cc]=!0,Eo.forEach(function(a){a!=="selectionchange"&&(q1.has(a)||rd(a,!1,e),rd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,rd("selectionchange",!1,n))}}function ty(e,n,a,o){switch(Dy(n)){case 2:var h=pA;break;case 8:h=_A;break;default:h=Ed}a=h.bind(null,n,a,e),h=void 0,!gr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function od(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=ui(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}T=T.parentNode}}o=o.return}gs(function(){var P=f,Q=In(a),$=[];t:{var j=Vg.get(e);if(j!==void 0){var H=pi,ht=e;switch(e){case"keypress":if(_r(a)===0)break t;case"keydown":case"keyup":H=Eu;break;case"focusin":ht="focus",H=vr;break;case"focusout":ht="blur",H=vr;break;case"beforeblur":case"afterblur":H=vr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Dg:case Ng:case Og:H=mu;break;case Mg:H=A;break;case"scroll":case"scrollend":H=Vo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ui;break;case"toggle":case"beforetoggle":H=wt}var _t=(n&4)!==0,ne=!_t&&(e==="scroll"||e==="scrollend"),U=_t?j!==null?j+"Capture":null:j;_t=[];for(var V=P,z;V!==null;){var Y=V;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||U===null||(Y=Gn(V,U),Y!=null&&_t.push(cl(V,Y,z))),ne)break;V=V.return}0<_t.length&&(j=new H(j,ht,null,a,Q),$.push({event:j,listeners:_t}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&a!==No&&(ht=a.relatedTarget||a.fromElement)&&(ui(ht)||ht[oi]))break t;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ht=a.relatedTarget||a.toElement,H=P,ht=ht?ui(ht):null,ht!==null&&(ne=c(ht),_t=ht.tag,ht!==ne||_t!==5&&_t!==27&&_t!==6)&&(ht=null)):(H=null,ht=P),H!==ht)){if(_t=xo,Y="onMouseLeave",U="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Ui,Y="onPointerLeave",U="onPointerEnter",V="pointer"),ne=H==null?j:mn(H),z=ht==null?j:mn(ht),j=new _t(Y,V+"leave",H,a,Q),j.target=ne,j.relatedTarget=z,Y=null,ui(Q)===P&&(_t=new _t(U,V+"enter",ht,a,Q),_t.target=z,_t.relatedTarget=ne,Y=_t),ne=Y,H&&ht)e:{for(_t=H1,U=H,V=ht,z=0,Y=U;Y;Y=_t(Y))z++;Y=0;for(var gt=V;gt;gt=_t(gt))Y++;for(;0<z-Y;)U=_t(U),z--;for(;0<Y-z;)V=_t(V),Y--;for(;z--;){if(U===V||V!==null&&U===V.alternate){_t=U;break e}U=_t(U),V=_t(V)}_t=null}else _t=null;H!==null&&ey($,j,H,_t,!1),ht!==null&&ne!==null&&ey($,ne,ht,_t,!0)}}t:{if(j=P?mn(P):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Gt=yg;else if(pg(j))if(vg)Gt=t1;else{Gt=J0;var mt=Z0}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&sa(P.elementType)&&(Gt=yg):Gt=W0;if(Gt&&(Gt=Gt(e,P))){_g($,Gt,a,Q);break t}mt&&mt(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Io(j,"number",j.value)}switch(mt=P?mn(P):window,e){case"focusin":(pg(mt)||mt.contentEditable==="true")&&(fa=mt,kh=P,Po=null);break;case"focusout":Po=kh=fa=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,Ig($,a,Q);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":Ig($,a,Q)}var Ct;if(Yt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else ha?Tr(e,a)&&(xt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(vi&&a.locale!=="ko"&&(ha||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ha&&(Ct=Mo()):(gi=Q,Oo="value"in gi?gi.value:gi.textContent,ha=!0)),mt=hc(P,xt),0<mt.length&&(xt=new yi(xt,e,null,a,Q),$.push({event:xt,listeners:mt}),Ct?xt.data=Ct:(Ct=ca(a),Ct!==null&&(xt.data=Ct)))),(Ct=Dn?Y0(e,a):K0(e,a))&&(xt=hc(P,"onBeforeInput"),0<xt.length&&(mt=new yi("onBeforeInput","beforeinput",null,a,Q),$.push({event:mt,listeners:xt}),mt.data=Ct)),P1($,e,P,a,Q)}W_($,n)})}function cl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function hc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,a),h!=null&&o.unshift(cl(e,h,f)),h=Gn(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function H1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ey(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var T=a,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||P===null||(C=P,h?(P=Gn(a,f),P!=null&&g.unshift(cl(a,P,C))):h||(P=Gn(a,f),P!=null&&g.push(cl(a,P,C)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var G1=/\r\n?/g,F1=/\u0000|\uFFFD/g;function ny(e){return(typeof e=="string"?e:""+e).replace(G1,`
`).replace(F1,"")}function iy(e,n){return n=ny(n),ny(e)===n}function ee(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":gn(e,"class",o);break;case"tabIndex":gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,a,o);break;case"style":Do(e,o,f);break;case"data":if(n!=="object"){gn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ra(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ee(e,n,"name",h.name,h,null),ee(e,n,"formEncType",h.formEncType,h,null),ee(e,n,"formMethod",h.formMethod,h,null),ee(e,n,"formTarget",h.formTarget,h,null)):(ee(e,n,"encType",h.encType,h,null),ee(e,n,"method",h.method,h,null),ee(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ra(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ra(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),na(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":na(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hu.get(a)||a,na(e,a,o))}}function ld(e,n,a,o,h,f){switch(a){case"style":Do(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ue]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):na(e,a,o)}}}function Fe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ee(e,n,f,g,a,null)}}h&&ee(e,n,"srcSet",a.srcSet,a,null),o&&ee(e,n,"src",a.src,a,null);return;case"input":Mt("invalid",e);var T=f=g=h=null,C=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":C=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:ee(e,n,o,Q,a,null)}}lu(e,f,T,C,P,g,h,!1);return;case"select":Mt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:ee(e,n,h,T,a,null)}n=f,a=g,e.multiple=!!o,n!=null?hs(e,!!o,n,!1):a!=null&&hs(e,!!o,a,!0);return;case"textarea":Mt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(T=a[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ee(e,n,g,T,a,null)}fs(e,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ee(e,n,C,o,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)Mt(ul[o],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ee(e,n,P,o,a,null)}return;default:if(sa(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&ld(e,n,Q,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&ee(e,n,T,o,a,null))}function Q1(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,P=null,Q=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(H)||ee(e,n,H,null,o,$)}}for(var j in o){var H=o[j];if($=a[j],o.hasOwnProperty(j)&&(H!=null||$!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==$&&ee(e,n,j,H,o,$)}}ia(e,g,T,C,P,Q,f,h);return;case"select":H=g=T=j=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ee(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&ee(e,n,h,f,o,C)}n=T,a=g,o=H,j!=null?hs(e,!!a,j,!1):!!o!=!!a&&(n!=null?hs(e,!!a,n,!0):hs(e,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ee(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ee(e,n,g,h,o,f)}uu(e,j,H);return;case"option":for(var ht in a)if(j=a[ht],a.hasOwnProperty(ht)&&j!=null&&!o.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:ee(e,n,ht,null,o,j)}for(C in o)if(j=o[C],H=a[C],o.hasOwnProperty(C)&&j!==H&&(j!=null||H!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:ee(e,n,C,j,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)j=a[_t],a.hasOwnProperty(_t)&&j!=null&&!o.hasOwnProperty(_t)&&ee(e,n,_t,null,o,j);for(P in o)if(j=o[P],H=a[P],o.hasOwnProperty(P)&&j!==H&&(j!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:ee(e,n,P,j,o,H)}return;default:if(sa(n)){for(var ne in a)j=a[ne],a.hasOwnProperty(ne)&&j!==void 0&&!o.hasOwnProperty(ne)&&ld(e,n,ne,void 0,o,j);for(Q in o)j=o[Q],H=a[Q],!o.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||ld(e,n,Q,j,o,H);return}}for(var U in a)j=a[U],a.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&ee(e,n,U,null,o,j);for($ in o)j=o[$],H=a[$],!o.hasOwnProperty($)||j===H||j==null&&H==null||ee(e,n,$,j,o,H)}function sy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&sy(g)){for(g=0,T=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],P=C.startTime;if(P>T)break;var Q=C.transferSize,$=C.initiatorType;Q&&sy($)&&(C=C.responseEnd,g+=Q*(C<T?1:(T-P)/(C-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function ry(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ay(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function K1(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var oy=typeof setTimeout=="function"?setTimeout:void 0,X1=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,$1=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(e){return ly.resolve(null).then(e).catch(Z1)}:oy;function Z1(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function uy(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Pa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")hl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,hl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[li]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&hl(e.ownerDocument.body);a=h}while(a);Pa(n)}function cy(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dd(a),ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function J1(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function W1(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function hy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tA(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pd=null;function fy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Un(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function dy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function my(e,n,a){switch(n=fc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var Ln=new Map,gy=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=F.d;F.d={f:eA,r:nA,D:iA,C:sA,L:rA,m:aA,X:lA,S:oA,M:uA};function eA(){var e=Zi.f(),n=sc();return e||n}function nA(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?Mp(n):Zi.r(e)}var Ua=typeof document>"u"?null:document;function py(e,n,a){var o=Ua;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),gy.has(h)||(gy.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function iA(e){Zi.D(e),py("dns-prefetch",e,null)}function sA(e,n){Zi.C(e,n),py("preconnect",e,n)}function rA(e,n,a){Zi.L(e,n,a);var o=Ua;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=za(e)}Ln.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ln.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),Fe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function aA(e,n){Zi.m(e,n);var a=Ua;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Ln.has(f)&&(e=S({rel:"modulepreload",href:e},n),Ln.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dl(f)))return}o=a.createElement("link"),Fe(o,"link",e),Ae(o),a.head.appendChild(o)}}}function oA(e,n,a){Zi.S(e,n,a);var o=Ua;if(o&&e){var h=ci(o).hoistableStyles,f=La(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(fl(f)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ln.get(f))&&_d(e,a);var C=g=o.createElement("link");Ae(C),Fe(C,"link",e),C._p=new Promise(function(P,Q){C.onload=P,C.onerror=Q}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,mc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function lA(e,n){Zi.X(e,n);var a=Ua;if(a&&e){var o=ci(a).hoistableScripts,h=za(e),f=o.get(h);f||(f=a.querySelector(dl(h)),f||(e=S({src:e,async:!0},n),(n=Ln.get(h))&&yd(e,n),f=a.createElement("script"),Ae(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function uA(e,n){Zi.M(e,n);var a=Ua;if(a&&e){var o=ci(a).hoistableScripts,h=za(e),f=o.get(h);f||(f=a.querySelector(dl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Ln.get(h))&&yd(e,n),f=a.createElement("script"),Ae(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function _y(e,n,a,o){var h=(h=It.current)?dc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=La(a.href),a=ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=La(a.href);var f=ci(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(fl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||cA(h,e,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(a),a=ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function La(e){return'href="'+rn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function yy(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function cA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",a),Ae(n),e.head.appendChild(n))}function za(e){return'[src="'+rn(e)+'"]'}function dl(e){return"script[async]"+e}function vy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Fe(o,"style",h),mc(o,a.precedence,e),n.instance=o;case"stylesheet":h=La(a.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=yy(a),(h=Ln.get(h))&&_d(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Fe(f,"link",o),n.state.loading|=4,mc(f,a.precedence,e),n.instance=f;case"script":return f=za(a.src),(h=e.querySelector(dl(f)))?(n.instance=h,Ae(h),h):(o=a,(h=Ln.get(f))&&(o=S({},a),yd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,a.precedence,e));return n.instance}function mc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function Ty(e,n,a){if(gc===null){var o=new Map,h=gc=new Map;h.set(a,o)}else h=gc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function Ey(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function hA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ay(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fA(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=La(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ae(f);return}f=n.ownerDocument||n,o=yy(o),(h=Ln.get(h))&&_d(o,h),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=pc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var vd=0;function dA(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*Y1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(mA,e),_c=null,pc.call(e))}function mA(e,n){if(!(n.state.loading&4)){var a=_c.get(e);if(a)var o=a.get(null);else{a=new Map,_c.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:ct,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function gA(e,n,a,o,h,f,g,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Sy(e,n,a,o,h,f,g,T,C,P,Q,$){return e=new gA(e,n,a,g,C,P,Q,$,T),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),e.current=f,f.stateNode=e,n=Zh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},ef(f),e}function by(e){return e?(e=ga,e):ga}function wy(e,n,a,o,h,f){h=by(h),o.context===null?o.context=h:o.pendingContext=h,o=bs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=ws(e,o,n),a!==null&&(hn(a,e,n),Qo(a,e,n))}function Ry(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Td(e,n){Ry(e,n),(e=e.alternate)&&Ry(e,n)}function Iy(e){if(e.tag===13||e.tag===31){var n=Sr(e,67108864);n!==null&&hn(n,e,67108864),Td(e,67108864)}}function Cy(e){if(e.tag===13||e.tag===31){var n=An();n=hr(n);var a=Sr(e,n);a!==null&&hn(a,e,n),Td(e,n)}}var vc=!0;function pA(e,n,a,o){var h=G.T;G.T=null;var f=F.p;try{F.p=2,Ed(e,n,a,o)}finally{F.p=f,G.T=h}}function _A(e,n,a,o){var h=G.T;G.T=null;var f=F.p;try{F.p=8,Ed(e,n,a,o)}finally{F.p=f,G.T=h}}function Ed(e,n,a,o){if(vc){var h=Ad(o);if(h===null)od(e,n,o,Tc,a),Ny(e,o);else if(vA(h,e,n,a,o))o.stopPropagation();else if(Ny(e,o),n&4&&-1<yA.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=si(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-me(g);T.entanglements[1]|=C,g&=~C}Si(f),(Kt&6)===0&&(nc=en()+500,ll(0))}}break;case 31:case 13:T=Sr(f,2),T!==null&&hn(T,f,2),sc(),Td(f,2)}if(f=Ad(o),f===null&&od(e,n,o,Tc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else od(e,n,o,null,a)}}function Ad(e){return e=In(e),Sd(e)}var Tc=null;function Sd(e){if(Tc=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function Dy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case _o:return 2;case yo:return 8;case us:case Ch:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var bd=!1,Us=null,Ls=null,zs=null,gl=new Map,pl=new Map,Ps=[],yA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ny(e,n){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function _l(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&Iy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function vA(e,n,a,o,h){switch(n){case"focusin":return Us=_l(Us,e,n,a,o,h),!0;case"dragenter":return Ls=_l(Ls,e,n,a,o,h),!0;case"mouseover":return zs=_l(zs,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,_l(gl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,_l(pl.get(f)||null,e,n,a,o,h)),!0}return!1}function Oy(e){var n=ui(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){Cy(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){Cy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Ad(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);No=o,a.target.dispatchEvent(o),No=null}else return n=Rn(a),n!==null&&Iy(n),e.blockedOn=a,!1;n.shift()}return!0}function My(e,n,a){Ec(e)&&a.delete(n)}function TA(){bd=!1,Us!==null&&Ec(Us)&&(Us=null),Ls!==null&&Ec(Ls)&&(Ls=null),zs!==null&&Ec(zs)&&(zs=null),gl.forEach(My),pl.forEach(My)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,bd||(bd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,TA)))}var Sc=null;function Vy(e){Sc!==e&&(Sc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Sd(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Pa(e){function n(C){return Ac(C,e)}Us!==null&&Ac(Us,e),Ls!==null&&Ac(Ls,e),zs!==null&&Ac(zs,e),gl.forEach(n),pl.forEach(n);for(var a=0;a<Ps.length;a++){var o=Ps[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ps.length&&(a=Ps[0],a.blockedOn===null);)Oy(a),a.blockedOn===null&&Ps.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Ue]||null;if(typeof f=="function")g||Vy(a);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ue]||null)T=g.formAction;else if(Sd(h)!==null)continue}else T=g.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),Vy(a)}}}function xy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}bc.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=An();wy(a,o,e,n,null,null)},bc.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;wy(e.current,2,null,e,null,null),sc(),n[oi]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ps.length&&n!==0&&n<Ps[a].priority;a++);Ps.splice(a,0,e),a===0&&Oy(e)}};var ky=t.version;if(ky!=="19.2.0")throw Error(r(527,ky,"19.2.0"));F.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var EA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Pn=wc.inject(EA),je=wc}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=qp,f=Hp,g=Gp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Sy(e,1,!1,null,null,a,o,null,h,f,g,xy),e[oi]=n.current,ad(e),new wd(n)},vl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=qp,g=Hp,T=Gp,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=Sy(e,1,!0,n,a??null,o,h,C,f,g,T,xy),n.context=by(null),a=n.current,o=An(),o=hr(o),h=bs(o),h.callback=null,ws(a,h,o),a=o,n.current.lanes=a,ur(n,a),Si(n),e[oi]=n.current,ad(e),new bc(n)},vl.version="19.2.0",vl}var Fy;function OA(){if(Fy)return Cd.exports;Fy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Cd.exports=NA(),Cd.exports}var MA=OA();const ET=se.createContext(void 0),VA=()=>{const s=se.useContext(ET);if(!s)throw new Error("useAuth musi by uyte wewntrz AuthProvider");return s},xA=()=>{};var Qy={};const AT=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},kA=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},ST={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,E=c>>2,S=(c&3)<<4|p>>4;let D=(p&15)<<2|_>>6,B=_&63;y||(B=64,d||(D=64)),r.push(i[E],i[S],i[D],i[B])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(AT(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):kA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new UA;const D=c<<2|p>>4;if(r.push(D),_!==64){const B=p<<4&240|_>>2;if(r.push(B),S!==64){const J=_<<6&192|S;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class UA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LA=function(s){const t=AT(s);return ST.encodeByteArray(t,!0)},qc=function(s){return LA(s).replace(/\./g,"")},bT=function(s){try{return ST.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function zA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PA=()=>zA().__FIREBASE_DEFAULTS__,jA=()=>{if(typeof process>"u"||typeof Qy>"u")return;const s=Qy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},BA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&bT(s[1]);return t&&JSON.parse(t)},lh=()=>{try{return xA()||PA()||jA()||BA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},wT=s=>lh()?.emulatorHosts?.[s],qA=s=>{const t=wT(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},RT=()=>lh()?.config,IT=s=>lh()?.[`_${s}`];class HA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function so(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CT(s){return(await fetch(s,{credentials:"include"})).ok}function GA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const wl={};function FA(){const s={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?s.emulator.push(t):s.prod.push(t);return s}function QA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let Yy=!1;function DT(s,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||wl[s]===t||wl[s]||Yy)return;wl[s]=t;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",c=FA().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,B){D.setAttribute("width","24"),D.setAttribute("id",B),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Yy=!0,d()},D}function E(D,B){D.setAttribute("id",B),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=QA(r),B=i("text"),J=document.getElementById(B)||document.createElement("span"),tt=i("learnmore"),W=document.getElementById(tt)||document.createElement("a"),it=i("preprendIcon"),ft=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ct=D.element;p(ct),E(W,tt);const Tt=_();y(ft,it),ct.append(ft,J,W,Tt),document.body.appendChild(ct)}c?(J.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function KA(){const s=lh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $A(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function ZA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JA(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function WA(){return!KA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tS(){try{return typeof indexedDB=="object"}catch{return!1}}function eS(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const nS="FirebaseError";class os extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=nS,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?iS(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new os(l,p,r)}}function iS(s,t){return s.replace(sS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const sS=/\{\$([^}]+)}/g;function rS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function qr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(Ky(c)&&Ky(d)){if(!qr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function Ky(s){return s!==null&&typeof s=="object"}function Bl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function aS(s,t){const i=new oS(s,t);return i.subscribe.bind(i)}class oS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");lS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Md(){}function Ke(s){return s&&s._delegate?s._delegate:s}class Hr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ur="[DEFAULT]";class uS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new HA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hS(t))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Ur){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ur){return this.instances.has(t)}getOptions(t=Ur){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ur){return this.component?this.component.multipleInstances?t:Ur:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cS(s){return s===Ur?void 0:s}function hS(s){return s.instantiationMode==="EAGER"}class fS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new uS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(kt||(kt={}));const dS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},mS=kt.INFO,gS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},pS=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=gS[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vm{constructor(t){this.name=t,this._logLevel=mS,this._logHandler=pS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const _S=(s,t)=>t.some(i=>s instanceof i);let Xy,$y;function yS(){return Xy||(Xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vS(){return $y||($y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NT=new WeakMap,Gd=new WeakMap,OT=new WeakMap,Vd=new WeakMap,Tm=new WeakMap;function TS(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Qs(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&NT.set(i,s)}).catch(()=>{}),Tm.set(t,s),t}function ES(s){if(Gd.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Gd.set(s,t)}let Fd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Gd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||OT.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function AS(s){Fd=s(Fd)}function SS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(xd(this),t,...i);return OT.set(r,t.sort?t.sort():[t]),Qs(r)}:vS().includes(s)?function(...t){return s.apply(xd(this),t),Qs(NT.get(this))}:function(...t){return Qs(s.apply(xd(this),t))}}function bS(s){return typeof s=="function"?SS(s):(s instanceof IDBTransaction&&ES(s),_S(s,yS())?new Proxy(s,Fd):s)}function Qs(s){if(s instanceof IDBRequest)return TS(s);if(Vd.has(s))return Vd.get(s);const t=bS(s);return t!==s&&(Vd.set(s,t),Tm.set(t,s)),t}const xd=s=>Tm.get(s);function wS(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Qs(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Qs(d.result),y.oldVersion,y.newVersion,Qs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const RS=["get","getKey","getAll","getAllKeys","count"],IS=["put","add","delete","clear"],kd=new Map;function Zy(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=IS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||RS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return kd.set(t,c),c}AS(s=>({...s,get:(t,i,r)=>Zy(t,i)||s.get(t,i,r),has:(t,i)=>!!Zy(t,i)||s.has(t,i)}));class CS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(DS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function DS(s){return s.getComponent()?.type==="VERSION"}const Qd="@firebase/app",Jy="0.14.5";const ns=new vm("@firebase/app"),NS="@firebase/app-compat",OS="@firebase/analytics-compat",MS="@firebase/analytics",VS="@firebase/app-check-compat",xS="@firebase/app-check",kS="@firebase/auth",US="@firebase/auth-compat",LS="@firebase/database",zS="@firebase/data-connect",PS="@firebase/database-compat",jS="@firebase/functions",BS="@firebase/functions-compat",qS="@firebase/installations",HS="@firebase/installations-compat",GS="@firebase/messaging",FS="@firebase/messaging-compat",QS="@firebase/performance",YS="@firebase/performance-compat",KS="@firebase/remote-config",XS="@firebase/remote-config-compat",$S="@firebase/storage",ZS="@firebase/storage-compat",JS="@firebase/firestore",WS="@firebase/ai",tb="@firebase/firestore-compat",eb="firebase",nb="12.5.0";const Yd="[DEFAULT]",ib={[Qd]:"fire-core",[NS]:"fire-core-compat",[MS]:"fire-analytics",[OS]:"fire-analytics-compat",[xS]:"fire-app-check",[VS]:"fire-app-check-compat",[kS]:"fire-auth",[US]:"fire-auth-compat",[LS]:"fire-rtdb",[zS]:"fire-data-connect",[PS]:"fire-rtdb-compat",[jS]:"fire-fn",[BS]:"fire-fn-compat",[qS]:"fire-iid",[HS]:"fire-iid-compat",[GS]:"fire-fcm",[FS]:"fire-fcm-compat",[QS]:"fire-perf",[YS]:"fire-perf-compat",[KS]:"fire-rc",[XS]:"fire-rc-compat",[$S]:"fire-gcs",[ZS]:"fire-gcs-compat",[JS]:"fire-fst",[tb]:"fire-fst-compat",[WS]:"fire-vertex","fire-js":"fire-js",[eb]:"fire-js-all"};const Hc=new Map,sb=new Map,Kd=new Map;function Wy(s,t){try{s.container.addComponent(t)}catch(i){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function $a(s){const t=s.name;if(Kd.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;Kd.set(t,s);for(const i of Hc.values())Wy(i,s);for(const i of sb.values())Wy(i,s);return!0}function Em(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Zn(s){return s==null?!1:s.settings!==void 0}const rb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new jl("app","Firebase",rb);class ab{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}const ro=nb;function MT(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:Yd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Ys.create("bad-app-name",{appName:String(l)});if(i||(i=RT()),!i)throw Ys.create("no-options");const c=Hc.get(l);if(c){if(qr(i,c.options)&&qr(r,c.config))return c;throw Ys.create("duplicate-app",{appName:l})}const d=new fS(l);for(const y of Kd.values())d.addComponent(y);const p=new ab(i,r,d);return Hc.set(l,p),p}function VT(s=Yd){const t=Hc.get(s);if(!t&&s===Yd&&RT())return MT();if(!t)throw Ys.create("no-app",{appName:s});return t}function Ks(s,t,i){let r=ib[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}$a(new Hr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const ob="firebase-heartbeat-database",lb=1,Ol="firebase-heartbeat-store";let Ud=null;function xT(){return Ud||(Ud=wS(ob,lb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ys.create("idb-open",{originalErrorMessage:s.message})})),Ud}async function ub(s){try{const i=(await xT()).transaction(Ol),r=await i.objectStore(Ol).get(kT(s));return await i.done,r}catch(t){if(t instanceof os)ns.warn(t.message);else{const i=Ys.create("idb-get",{originalErrorMessage:t?.message});ns.warn(i.message)}}}async function tv(s,t){try{const r=(await xT()).transaction(Ol,"readwrite");await r.objectStore(Ol).put(t,kT(s)),await r.done}catch(i){if(i instanceof os)ns.warn(i.message);else{const r=Ys.create("idb-set",{originalErrorMessage:i?.message});ns.warn(r.message)}}}function kT(s){return`${s.name}!${s.options.appId}`}const cb=1024,hb=30;class fb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ev();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>hb){const l=gb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ev(),{heartbeatsToSend:i,unsentEntries:r}=db(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ns.warn(t),""}}}function ev(){return new Date().toISOString().substring(0,10)}function db(s,t=cb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),nv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),nv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class mb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tS()?eS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ub(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function nv(s){return qc(JSON.stringify({version:2,heartbeats:s})).length}function gb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function pb(s){$a(new Hr("platform-logger",t=>new CS(t),"PRIVATE")),$a(new Hr("heartbeat",t=>new fb(t),"PRIVATE")),Ks(Qd,Jy,s),Ks(Qd,Jy,"esm2020"),Ks("fire-js","")}pb("");function UT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _b=UT,LT=new jl("auth","Firebase",UT());const Gc=new vm("@firebase/auth");function yb(s,...t){Gc.logLevel<=kt.WARN&&Gc.warn(`Auth (${ro}): ${s}`,...t)}function Mc(s,...t){Gc.logLevel<=kt.ERROR&&Gc.error(`Auth (${ro}): ${s}`,...t)}function Oi(s,...t){throw Sm(s,...t)}function Wn(s,...t){return Sm(s,...t)}function Am(s,t,i){const r={..._b(),[t]:i};return new jl("auth","Firebase",r).create(t,{appName:s.name})}function Pr(s){return Am(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vb(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Oi(s,"argument-error"),Am(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return LT.create(s,...t)}function vt(s,t,...i){if(!s)throw Sm(t,...i)}function Wi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Mc(t),new Error(t)}function is(s,t){s||Wi(t)}function Xd(){return typeof self<"u"&&self.location?.href||""}function Tb(){return iv()==="http:"||iv()==="https:"}function iv(){return typeof self<"u"&&self.location?.protocol||null}function Eb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tb()||$A()||"connection"in navigator)?navigator.onLine:!0}function Ab(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,is(i>t,"Short delay should be less than long delay!"),this.isMobile=YA()||ZA()}get(){return Eb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bm(s,t){is(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class zT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wb=new ql(3e4,6e4);function wm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ao(s,t,i,r,l={}){return PT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=Bl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return XA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&so(s.emulatorConfig.host)&&(_.credentials="include"),zT.fetch()(await jT(s,s.config.apiHost,i,p),_)})}async function PT(s,t,i){s._canInitEmulator=!1;const r={...Sb,...t};try{const l=new Ib(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Rc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Rc(s,"user-disabled",d);const E=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Am(s,E,_);Oi(s,E)}}catch(l){if(l instanceof os)throw l;Oi(s,"network-request-failed",{message:String(l)})}}async function Rb(s,t,i,r,l={}){const c=await ao(s,t,i,r,l);return"mfaPendingCredential"in c&&Oi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function jT(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?bm(s.config,l):`${s.config.apiScheme}://${l}`;return bb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Ib{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),wb.get())})}}function Rc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Wn(s,t,r);return l.customData._tokenResponse=i,l}async function Cb(s,t){return ao(s,"POST","/v1/accounts:delete",t)}async function Fc(s,t){return ao(s,"POST","/v1/accounts:lookup",t)}function Rl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Db(s,t=!1){const i=Ke(s),r=await i.getIdToken(t),l=Rm(r);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Rl(Ld(l.auth_time)),issuedAtTime:Rl(Ld(l.iat)),expirationTime:Rl(Ld(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ld(s){return Number(s)*1e3}function Rm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=bT(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function sv(s){const t=Rm(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ml(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof os&&Nb(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Nb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Ob{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $d{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(s){const t=s.auth,i=await s.getIdToken(),r=await Ml(s,Fc(t,{idToken:i}));vt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?BT(l.providerUserInfo):[],d=Vb(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new $d(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,E)}async function Mb(s){const t=Ke(s);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Vb(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function BT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function xb(s,t){const i=await PT(s,{},async()=>{const r=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await jT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&so(s.emulatorConfig.host)&&(y.credentials="include"),zT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kb(s,t){return ao(s,"POST","/v2/accounts:revokeToken",wm(s,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=sv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await xb(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Fa;return r&&(vt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function Bs(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Ob(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new $d(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ml(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Db(this,t)}reload(){return Mb(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Pr(this.auth));const t=await this.getIdToken();return await Ml(this,Cb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:B,providerData:J,stsTokenManager:tt}=i;vt(S&&tt,t,"internal-error");const W=Fa.fromJSON(this.name,tt);vt(typeof S=="string",t,"internal-error"),Bs(r,t.name),Bs(l,t.name),vt(typeof D=="boolean",t,"internal-error"),vt(typeof B=="boolean",t,"internal-error"),Bs(c,t.name),Bs(d,t.name),Bs(p,t.name),Bs(y,t.name),Bs(_,t.name),Bs(E,t.name);const it=new Jn({uid:S,auth:t,email:l,emailVerified:D,displayName:r,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:E});return J&&Array.isArray(J)&&(it.providerData=J.map(ft=>({...ft}))),y&&(it._redirectEventId=y),it}static async _fromIdTokenResponse(t,i,r=!1){const l=new Fa;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?BT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Fa;p.updateFromIdToken(r);const y=new Jn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new $d(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const rv=new Map;function ts(s){is(s instanceof Function,"Expected a class definition");let t=rv.get(s);return t?(is(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,rv.set(s,t),t)}class qT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}qT.type="NONE";const av=qT;function Vc(s,t,i){return`firebase:${s}:${t}:${i}`}class Qa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Vc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Qa(ts(av),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ts(av);const d=Vc(r,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let S;if(typeof E=="string"){const D=await Fc(t,{idToken:E}).catch(()=>{});if(!D)break;S=await Jn._fromGetAccountInfoResponse(t,D,E)}else S=Jn._fromJSON(t,E);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Qa(c,t,r):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Qa(c,t,r))}}function ov(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(QT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(KT(t))return"Blackberry";if(XT(t))return"Webos";if(GT(t))return"Safari";if((t.includes("chrome/")||FT(t))&&!t.includes("edge/"))return"Chrome";if(YT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function HT(s=tn()){return/firefox\//i.test(s)}function GT(s=tn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FT(s=tn()){return/crios\//i.test(s)}function QT(s=tn()){return/iemobile/i.test(s)}function YT(s=tn()){return/android/i.test(s)}function KT(s=tn()){return/blackberry/i.test(s)}function XT(s=tn()){return/webos/i.test(s)}function Im(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Ub(s=tn()){return Im(s)&&!!window.navigator?.standalone}function Lb(){return JA()&&document.documentMode===10}function $T(s=tn()){return Im(s)||YT(s)||XT(s)||KT(s)||/windows phone/i.test(s)||QT(s)}function ZT(s,t=[]){let i;switch(s){case"Browser":i=ov(tn());break;case"Worker":i=`${ov(tn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ro}/${r}`}class zb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Pb(s,t={}){return ao(s,"GET","/v2/passwordPolicy",wm(s,t))}const jb=6;class Bb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??jb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class qb{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lv(this),this.idTokenSubscription=new lv(this),this.beforeStateQueue=new zb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fc(this,{idToken:t}),r=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ab()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(Pr(this));const i=t?Ke(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(Pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Pb(this),i=new Bb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await kb(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ts(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&yb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function uh(s){return Ke(s)}class lv{constructor(t){this.auth=t,this.observer=null,this.addObserver=aS(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hb(s){Cm=s}function Gb(s){return Cm.loadJS(s)}function Fb(){return Cm.gapiScript}function Qb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function Yb(s,t){const i=Em(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(qr(c,t??{}))return l;Oi(l,"already-initialized")}return i.initialize({options:t})}function Kb(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ts);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Xb(s,t,i){const r=uh(s);vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=JT(t),{host:d,port:p}=$b(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(qr(_,r.config.emulator)&&qr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,so(d)?(CT(`${c}//${d}${y}`),DT("Auth",!0)):Zb()}function JT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function $b(s){const t=JT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:uv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:uv(d)}}}function uv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Zb(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class WT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,i){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function Ya(s,t){return Rb(s,"POST","/v1/accounts:signInWithIdp",wm(s,t))}const Jb="http://localhost";class Gr extends WT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Gr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Oi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Gr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ya(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:Jb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}class Dm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Hl extends Dm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qs extends Hl{constructor(){super("facebook.com")}static credential(t){return Gr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";class Ji extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Gr._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ji.credentialFromTaggedObject(t)}static credentialFromError(t){return Ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Ji.credential(i,r)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";class Hs extends Hl{constructor(){super("github.com")}static credential(t){return Gr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";class Gs extends Hl{constructor(){super("twitter.com")}static credential(t,i){return Gr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Gs.credential(i,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";class Za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Jn._fromIdTokenResponse(t,r,l),d=cv(r);return new Za({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=cv(r);return new Za({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function cv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Yc extends os{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Yc(t,i,r,l)}}function tE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(s,c,t,r):c})}async function Wb(s,t,i=!1){const r=await Ml(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Za._forOperation(s,"link",r)}async function tw(s,t,i=!1){const{auth:r}=s;if(Zn(r.app))return Promise.reject(Pr(r));const l="reauthenticate";try{const c=await Ml(s,tE(r,l,t,s),i);vt(c.idToken,r,"internal-error");const d=Rm(c.idToken);vt(d,r,"internal-error");const{sub:p}=d;return vt(s.uid===p,r,"user-mismatch"),Za._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Oi(r,"user-mismatch"),c}}async function ew(s,t,i=!1){if(Zn(s.app))return Promise.reject(Pr(s));const r="signIn",l=await tE(s,r,t),c=await Za._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function nw(s,t,i,r){return Ke(s).onIdTokenChanged(t,i,r)}function iw(s,t,i){return Ke(s).beforeAuthStateChanged(t,i)}function sw(s,t,i,r){return Ke(s).onAuthStateChanged(t,i,r)}function Zd(s){return Ke(s).signOut()}const Kc="__sak";class eE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const rw=1e3,aw=10;class nE extends eE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$T(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Lb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,aw):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}nE.type="LOCAL";const ow=nE;class iE extends eE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}iE.type="SESSION";const sE=iE;function lw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new ch(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await lw(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Nm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class uw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Nm("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function cw(s){Ri().location.href=s}function rE(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function hw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fw(){return navigator?.serviceWorker?.controller||null}function dw(){return rE()?self:null}const aE="firebaseLocalStorageDb",mw=1,Xc="firebaseLocalStorage",oE="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(s,t){return s.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function gw(){const s=indexedDB.deleteDatabase(aE);return new Gl(s).toPromise()}function Jd(){const s=indexedDB.open(aE,mw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Xc,{keyPath:oE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Xc)?t(r):(r.close(),await gw(),t(await Jd()))})})}async function hv(s,t,i){const r=hh(s,!0).put({[oE]:t,value:i});return new Gl(r).toPromise()}async function pw(s,t){const i=hh(s,!1).get(t),r=await new Gl(i).toPromise();return r===void 0?null:r.value}function fv(s,t){const i=hh(s,!0).delete(t);return new Gl(i).toPromise()}const _w=800,yw=3;class lE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>yw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(dw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hw(),!this.activeServiceWorker)return;this.sender=new uw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jd();return await hv(t,Kc,"1"),await fv(t,Kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>hv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>pw(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>fv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=hh(l,!1).getAll();return new Gl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_w)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lE.type="LOCAL";const vw=lE;new ql(3e4,6e4);function uE(s,t){return t?ts(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Om extends WT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Tw(s){return ew(s.auth,new Om(s),s.bypassAuthState)}function Ew(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),tw(i,new Om(s),s.bypassAuthState)}async function Aw(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),Wb(i,new Om(s),s.bypassAuthState)}class cE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Tw;case"linkViaPopup":case"linkViaRedirect":return Aw;case"reauthViaPopup":case"reauthViaRedirect":return Ew;default:Oi(this.auth,"internal-error")}}resolve(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sw=new ql(2e3,1e4);async function bw(s,t,i){if(Zn(s.app))return Promise.reject(Wn(s,"operation-not-supported-in-this-environment"));const r=uh(s);vb(s,t,Dm);const l=uE(r,i);return new Lr(r,"signInViaPopup",t,l).executeNotNull()}class Lr extends cE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Lr.currentPopupAction&&Lr.currentPopupAction.cancel(),Lr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const t=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Sw.get())};t()}}Lr.currentPopupAction=null;const ww="pendingRedirect",xc=new Map;class Rw extends cE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=xc.get(this.auth._key());if(!t){try{const r=await Iw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}xc.set(this.auth._key(),t)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Iw(s,t){const i=Nw(t),r=Dw(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function Cw(s,t){xc.set(s._key(),t)}function Dw(s){return ts(s._redirectPersistence)}function Nw(s){return Vc(ww,s.config.apiKey,s.name)}async function Ow(s,t,i=!1){if(Zn(s.app))return Promise.reject(Pr(s));const r=uh(s),l=uE(r,t),d=await new Rw(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const Mw=600*1e3;class Vw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!hE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Wn(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Mw&&this.cachedEventUids.clear(),this.cachedEventUids.has(dv(t))}saveEventToCache(t){this.cachedEventUids.add(dv(t)),this.lastProcessedEventTime=Date.now()}}function dv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function hE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function xw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hE(s);default:return!1}}async function kw(s,t={}){return ao(s,"GET","/v1/projects",t)}const Uw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lw=/^https?/;async function zw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await kw(s);for(const i of t)try{if(Pw(i))return}catch{}Oi(s,"unauthorized-domain")}function Pw(s){const t=Xd(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!Lw.test(i))return!1;if(Uw.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const jw=new ql(3e4,6e4);function mv(){const s=Ri().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Bw(s){return new Promise((t,i)=>{function r(){mv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mv(),i(Wn(s,"network-request-failed"))},timeout:jw.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)r();else{const l=Qb("iframefcb");return Ri()[l]=()=>{gapi.load?r():i(Wn(s,"network-request-failed"))},Gb(`${Fb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function qw(s){return kc=kc||Bw(s),kc}const Hw=new ql(5e3,15e3),Gw="__/auth/iframe",Fw="emulator/auth/iframe",Qw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kw(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?bm(t,Fw):`https://${s.config.authDomain}/${Gw}`,r={apiKey:t.apiKey,appName:s.name,v:ro},l=Yw.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Bl(r).slice(1)}`}async function Xw(s){const t=await qw(s),i=Ri().gapi;return vt(i,s,"internal-error"),t.open({where:document.body,url:Kw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qw,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Wn(s,"network-request-failed"),p=Ri().setTimeout(()=>{c(d)},Hw.get());function y(){Ri().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const $w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zw=500,Jw=600,Ww="_blank",t2="http://localhost";class gv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e2(s,t,i,r=Zw,l=Jw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...$w,width:r.toString(),height:l.toString(),top:c,left:d},_=tn().toLowerCase();i&&(p=FT(_)?Ww:i),HT(_)&&(t=t||t2,y.scrollbars="yes");const E=Object.entries(y).reduce((D,[B,J])=>`${D}${B}=${J},`,"");if(Ub(_)&&p!=="_self")return n2(t||"",p),new gv(null);const S=window.open(t||"",p,E);vt(S,s,"popup-blocked");try{S.focus()}catch{}return new gv(S)}function n2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const i2="__/auth/handler",s2="emulator/auth/handler",r2=encodeURIComponent("fac");async function pv(s,t,i,r,l,c){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:ro,eventId:l};if(t instanceof Dm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",rS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(t instanceof Hl){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await s._getAppCheckToken(),_=y?`#${r2}=${encodeURIComponent(y)}`:"";return`${a2(s)}?${Bl(p).slice(1)}${_}`}function a2({config:s}){return s.emulator?bm(s,s2):`https://${s.authDomain}/${i2}`}const zd="webStorageSupport";class o2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sE,this._completeRedirectFn=Ow,this._overrideRedirectResult=Cw}async _openPopup(t,i,r,l){is(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await pv(t,i,r,Xd(),l);return e2(t,c,Nm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await pv(t,i,r,Xd(),l);return cw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(is(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Xw(t),r=new Vw(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},l=>{const c=l?.[0]?.[zd];c!==void 0&&i(!!c),Oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=zw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return $T()||GT()||Im()}}const l2=o2;var _v="@firebase/auth",yv="1.11.1";class u2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function c2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h2(s){$a(new Hr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(s)},_=new qb(r,l,c,y);return Kb(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),$a(new Hr("auth-internal",t=>{const i=uh(t.getProvider("auth").getImmediate());return(r=>new u2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(_v,yv,c2(s)),Ks(_v,yv,"esm2020")}const f2=300,d2=IT("authIdTokenMaxAge")||f2;let vv=null;const m2=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>d2)return;const l=i?.token;vv!==l&&(vv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function g2(s=VT()){const t=Em(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Yb(s,{popupRedirectResolver:l2,persistence:[vw,ow,sE]}),r=IT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=m2(c.toString());iw(i,d,()=>d(i.currentUser)),nw(i,p=>d(p))}}const l=wT("auth");return l&&Xb(i,`http://${l}`),i}function p2(){return document.getElementsByTagName("head")?.[0]??document}Hb({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Wn("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",p2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h2("Browser");var _2="firebase",y2="12.5.0";Ks(_2,y2,"app");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xs,fE;(function(){var s;function t(N,w){function I(){}I.prototype=w.prototype,N.F=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(x,O,k){for(var R=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)R[ot-2]=arguments[ot];return w.prototype[O].apply(x,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,I){I||(I=0);const x=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)x[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;O<16;++O)x[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],O=N.g[2];let k=N.g[3],R;R=w+(k^I&(O^k))+x[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(O^w&(I^O))+x[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=O+(I^k&(w^I))+x[2]+606105819&4294967295,O=k+(R<<17&4294967295|R>>>15),R=I+(w^O&(k^w))+x[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(k^I&(O^k))+x[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(O^w&(I^O))+x[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=O+(I^k&(w^I))+x[6]+2821735955&4294967295,O=k+(R<<17&4294967295|R>>>15),R=I+(w^O&(k^w))+x[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(k^I&(O^k))+x[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(O^w&(I^O))+x[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=O+(I^k&(w^I))+x[10]+4294925233&4294967295,O=k+(R<<17&4294967295|R>>>15),R=I+(w^O&(k^w))+x[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(k^I&(O^k))+x[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(O^w&(I^O))+x[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=O+(I^k&(w^I))+x[14]+2792965006&4294967295,O=k+(R<<17&4294967295|R>>>15),R=I+(w^O&(k^w))+x[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(O^k&(I^O))+x[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^O&(w^I))+x[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(k^w))+x[11]+643717713&4294967295,O=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(O^k))+x[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^k&(I^O))+x[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^O&(w^I))+x[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(k^w))+x[15]+3634488961&4294967295,O=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(O^k))+x[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^k&(I^O))+x[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^O&(w^I))+x[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(k^w))+x[3]+4107603335&4294967295,O=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(O^k))+x[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^k&(I^O))+x[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^O&(w^I))+x[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(k^w))+x[7]+1735328473&4294967295,O=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(O^k))+x[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(I^O^k)+x[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^O)+x[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=O+(k^w^I)+x[11]+1839030562&4294967295,O=k+(R<<16&4294967295|R>>>16),R=I+(O^k^w)+x[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^k)+x[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^O)+x[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=O+(k^w^I)+x[7]+4139469664&4294967295,O=k+(R<<16&4294967295|R>>>16),R=I+(O^k^w)+x[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^k)+x[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^O)+x[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=O+(k^w^I)+x[3]+3572445317&4294967295,O=k+(R<<16&4294967295|R>>>16),R=I+(O^k^w)+x[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^k)+x[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^O)+x[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=O+(k^w^I)+x[15]+530742520&4294967295,O=k+(R<<16&4294967295|R>>>16),R=I+(O^k^w)+x[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(O^(I|~k))+x[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~O))+x[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=O+(w^(k|~I))+x[14]+2878612391&4294967295,O=k+(R<<15&4294967295|R>>>17),R=I+(k^(O|~w))+x[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~k))+x[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~O))+x[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=O+(w^(k|~I))+x[10]+4293915773&4294967295,O=k+(R<<15&4294967295|R>>>17),R=I+(k^(O|~w))+x[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~k))+x[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~O))+x[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=O+(w^(k|~I))+x[6]+2734768916&4294967295,O=k+(R<<15&4294967295|R>>>17),R=I+(k^(O|~w))+x[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~k))+x[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~O))+x[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=O+(w^(k|~I))+x[2]+718787259&4294967295,O=k+(R<<15&4294967295|R>>>17),R=I+(k^(O|~w))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+k&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const I=w-this.blockSize,x=this.C;let O=this.h,k=0;for(;k<w;){if(O==0)for(;k<=I;)l(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<w;)if(x[O++]=N.charCodeAt(k++),O==this.blockSize){l(this,x),O=0;break}}else for(;k<w;)if(x[O++]=N[k++],O==this.blockSize){l(this,x),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)N[w++]=this.g[I]>>>x&255;return N};function c(N,w){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function d(N,w){this.h=w;const I=[];let x=!0;for(let O=N.length-1;O>=0;O--){const k=N[O]|0;x&&k==w||(I[O]=k,x=!1)}this.g=I}var p={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return W(_(-N));const w=[];let I=1;for(let x=0;N>=I;x++)w[x]=N/I|0,I*=4294967296;return new d(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return W(E(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let x=S;for(let k=0;k<N.length;k+=8){var O=Math.min(8,N.length-k);const R=parseInt(N.substring(k,k+O),w);O<8?(O=_(Math.pow(w,O)),x=x.j(O).add(_(R))):(x=x.j(I),x=x.add(_(R)))}return x}var S=y(0),D=y(1),B=y(16777216);s=d.prototype,s.m=function(){if(tt(this))return-W(this).m();let N=0,w=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);N+=(x>=0?x:4294967296+x)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(tt(this))return"-"+W(this).toString(N);const w=_(Math.pow(N,6));var I=this;let x="";for(;;){const O=Tt(I,w).g;I=it(I,O.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=O,J(I))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function tt(N){return N.h==-1}s.l=function(N){return N=it(this,N),tt(N)?-1:J(N)?0:1};function W(N){const w=N.g.length,I=[];for(let x=0;x<w;x++)I[x]=~N.g[x];return new d(I,~N.h).add(D)}s.abs=function(){return tt(this)?W(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),I=[];let x=0;for(let O=0;O<=w;O++){let k=x+(this.i(O)&65535)+(N.i(O)&65535),R=(k>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);x=R>>>16,k&=65535,R&=65535,I[O]=R<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function it(N,w){return N.add(W(w))}s.j=function(N){if(J(this)||J(N))return S;if(tt(this))return tt(N)?W(this).j(W(N)):W(W(this).j(N));if(tt(N))return W(this.j(W(N)));if(this.l(B)<0&&N.l(B)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,I=[];for(var x=0;x<2*w;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<N.g.length;O++){const k=this.i(x)>>>16,R=this.i(x)&65535,ot=N.i(O)>>>16,Dt=N.i(O)&65535;I[2*x+2*O]+=R*Dt,ft(I,2*x+2*O),I[2*x+2*O+1]+=k*Dt,ft(I,2*x+2*O+1),I[2*x+2*O+1]+=R*ot,ft(I,2*x+2*O+1),I[2*x+2*O+2]+=k*ot,ft(I,2*x+2*O+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new d(I,0)};function ft(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ct(N,w){this.g=N,this.h=w}function Tt(N,w){if(J(w))throw Error("division by zero");if(J(N))return new ct(S,S);if(tt(N))return w=Tt(W(N),w),new ct(W(w.g),W(w.h));if(tt(w))return w=Tt(N,W(w)),new ct(W(w.g),w.h);if(N.g.length>30){if(tt(N)||tt(w))throw Error("slowDivide_ only works with positive integers.");for(var I=D,x=w;x.l(N)<=0;)I=zt(I),x=zt(x);var O=Nt(I,1),k=Nt(x,1);for(x=Nt(x,2),I=Nt(I,2);!J(x);){var R=k.add(x);R.l(N)<=0&&(O=O.add(I),k=R),x=Nt(x,1),I=Nt(I,1)}return w=it(N,O.j(w)),new ct(O,w)}for(O=S;N.l(w)>=0;){for(I=Math.max(1,Math.floor(N.m()/w.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=_(I),R=k.j(w);tt(R)||R.l(N)>0;)I-=x,k=_(I),R=k.j(w);J(k)&&(k=D),O=O.add(k),N=it(N,R)}return new ct(O,N)}s.B=function(N){return Tt(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)&N.i(x);return new d(I,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)|N.i(x);return new d(I,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)^N.i(x);return new d(I,this.h^N.h)};function zt(N){const w=N.g.length+1,I=[];for(let x=0;x<w;x++)I[x]=N.i(x)<<1|N.i(x-1)>>>31;return new d(I,N.h)}function Nt(N,w){const I=w>>5;w%=32;const x=N.g.length-I,O=[];for(let k=0;k<x;k++)O[k]=w>0?N.i(k+I)>>>w|N.i(k+I+1)<<32-w:N.i(k+I);return new d(O,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,Xs=d}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dE,Tl,mE,Uc,Wd,gE,pE,_E;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break t;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,L,q){for(var nt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)nt[wt-2]=arguments[wt];return m.prototype[L].apply(A,nt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function J(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let nt=0;nt<q;nt++)u[v+nt]=L[nt]}else u.push(L)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function it(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,v){const A=ct.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ct=new tt(()=>new Tt,u=>u.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let zt,Nt=!1,N=new ft,w=()=>{const u=Promise.resolve(void 0);zt=()=>{u.then(I)}};function I(){for(var u;u=it();){try{u.h.call(u.g)}catch(v){W(v)}var m=ct;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Nt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ot(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ot,O),ot.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),G=0;function F(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++G,this.da=this.fa=!1}function et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function dt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Pt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ut(u){this.src=u,this.g={},this.h=0}ut.prototype.add=function(u,m,v,A,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=It(u,m,A,L);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new F(m,this.src,q,!!A,L),m.fa=v,u.push(m)),m};function Et(u,m){const v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(et(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function It(u,m,v,A){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return L}return-1}var qt="closure_lm_"+(Math.random()*1e6|0),Me={};function le(u,m,v,A,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)le(u,m[q],v,A,L);return null}return v=po(v),u&&u[Dt]?u.J(m,v,p(A)?!!A.capture:!1,L):rr(u,m,v,!1,A,L)}function rr(u,m,v,A,L,q){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let wt=ar(u);if(wt||(u[qt]=wt=new ut(u)),v=wt.add(m,v,A,nt,q),v.proxy)return v;if(A=$r(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)k||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(ni(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $r(){function u(v){return m.call(u.src,u.listener,v)}const m=mo;return u}function Zr(u,m,v,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Zr(u,m[q],v,A,L);else A=p(A)?!!A.capture:!!A,v=po(v),u&&u[Dt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=It(m,v,A,L),v>-1&&(et(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ar(u))&&(m=u.g[m.toString()],u=-1,m&&(u=It(m,v,A,L)),(v=u>-1?m[u]:null)&&Jr(v))}function Jr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Dt])Et(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(ni(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ar(m))?(Et(v,u),v.h==0&&(v.src=null,m[qt]=null)):et(u)}}}function ni(u){return u in Me?Me[u]:Me[u]="on"+u}function mo(u,m){if(u.da)u=!0;else{m=new ot(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Jr(u),u=v.call(A,m)}return u}function ar(u){return u=u[qt],u instanceof ut?u:null}var go="__closure_events_fn_"+(Math.random()*1e9>>>0);function po(u){return typeof u=="function"?u:(u[go]||(u[go]=function(m){return u.handleEvent(m)}),u[go])}function ve(){x.call(this),this.i=new ut(this),this.M=this,this.G=null}S(ve,x),ve.prototype[Dt]=!0,ve.prototype.removeEventListener=function(u,m,v,A){Zr(this,u,m,v,A)};function Ve(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var L=m;m=new O(A,u),rt(m,L)}L=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],L=ls(q,A,!0,m)&&L;if(q=m.g=u,L=ls(q,A,!0,m)&&L,L=ls(q,A,!1,m)&&L,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],L=ls(q,A,!1,m)&&L}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)et(v[A]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},ve.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function ls(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const wt=nt.listener,ge=nt.ha||nt.src;nt.fa&&Et(u.i,nt),L=wt.call(ge,A)!==!1&&L}}return L&&!A.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(u){x.call(this),this.h=u,this.g={}}S(or,x);var _o=[];function yo(u){dt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Jr(m)},u),u.g={}}or.prototype.N=function(){or.Z.N.call(this),yo(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=d.JSON.stringify,Ch=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function tu(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){O.call(this,"d")}S(je,O);function wn(){O.call(this,"c")}S(wn,O);var me={},eu=null;function Wr(){return eu=eu||new ve}me.Ia="serverreachability";function nu(u){O.call(this,me.Ia,u)}S(nu,O);function ii(u){const m=Wr();Ve(m,new nu(m))}me.STAT_EVENT="statevent";function lr(u,m){O.call(this,me.STAT_EVENT,u),this.stat=m}S(lr,O);function Te(u){const m=Wr();Ve(m,new lr(m,u))}me.Ja="timingevent";function si(u,m){O.call(this,me.Ja,u),this.size=m}S(si,O);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Dh(u,m,v,A,L,q){u.info(function(){if(u.g)if(q){var nt="",wt=q.split("&");for(let Yt=0;Yt<wt.length;Yt++){var ge=wt[Yt].split("=");if(ge.length>1){const ue=ge[0];ge=ge[1];const Dn=ue.split("_");nt=Dn.length>=2&&Dn[1]=="type"?nt+(ue+"="+ge+"&"):nt+(ue+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+nt})}function iu(u,m,v,A,L,q,nt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+nt})}function ai(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Nh(u,v)+(A?" "+A:"")})}function ur(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function Nh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<A.length;nt++)A[nt]=""}}}}return us(q)}catch{return m}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function hr(){}S(hr,Wl),hr.prototype.g=function(){return new XMLHttpRequest},To=new hr;function Vi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Ee={},Ue={};function oi(u,m,v){u.M=1,u.A=fr(Se(m)),u.u=v,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),li(u),u.B=Se(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),sa(v.i,"t",A),u.C=0,v=u.j.L,u.h=new qn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(_o[0]=L.toString()),L=_o);for(let q=0;q<L.length;q++){const nt=le(v,L[q],A||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Fn(this.g),ge=this.g.ya(),Yt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||wt!=4||ge==7||(ge==8||Yt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Oh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break e}}q=null}if(u=q)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,Te(12),mn(this),Rn(this);break t}}if(this.R){u=!0;let ue;for(;!this.K&&this.C<v.length;)if(ue=au(this,v),ue==Ue){wt==4&&(this.m=4,Te(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Ee){this.m=4,Te(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,ue,null),ci(this,ue);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(nt),nt.P=!0,Te(11))}}else ai(this.i,this.l,v,null),ci(this,v);wt==4&&mn(this),this.o&&!this.K&&(wt==4?gu(this.j,this):(this.o=!1,li(this)))}else ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),mn(this),Rn(this)}}}catch{}finally{}};function Oh(u){if(!ru(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const A=m.length,L=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ue:(v=Number(m.substring(v,A)),isNaN(v)?Ee:(A+=1,A+v>m.length?Ue:(m=m.slice(A,A+v),u.C=A+v,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function li(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(_(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ur(this.i,this.B),this.M!=2&&(ii(),Te(17)),mn(this),this.m=2,Rn(this)):ea(this,this.T-u)};function Rn(u){u.j.I==0||u.K||gu(u.j,u)}function mn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,yo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ua(v),_s(v);else break t;vr(v),Te(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(_(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else yi(v,11)}else if((u.L||v.g==u)&&ua(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Yt=L[m];const ue=Yt[0];if(!(ue<=v.K))if(v.K=ue,Yt=Yt[1],v.I==2)if(Yt[0]=="c"){v.M=Yt[1],v.ba=Yt[2];const Dn=Yt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const vi=Yt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Qn=Yt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(A=1.5*Qn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Yn=u.g;if(Yn){const Tr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var q=A.h;q.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(So(q,q.h),q.h=null))}if(A.G){const ca=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(A.wa=ca,$t(A.J,A.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var nt=u;if(A.na=yu(A,A.L?A.ba:null,A.W),nt.L){bo(A.h,nt);var wt=nt,ge=A.O;ge&&(wt.H=ge),wt.D&&(ui(wt),li(wt)),A.g=nt}else du(A);v.i.length>0&&_i(v)}else Yt[0]!="stop"&&Yt[0]!="close"||yi(v,7);else v.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?yi(v,7):Vo(v):Yt[0]!="noop"&&v.l&&v.l.qa(Yt),v.A=0)}}ii(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function Eo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function bo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Eo.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let L,q=null;A>=0?(L=u[v].substring(0,A),q=u[v].substring(A+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,cs(this,u.u),this.h=u.h,Ro(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Le(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),cs(this,m[4]),this.h=di(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(dr(m,ia,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(dr(m,ia,!0),"@"),u.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(dr(v,v.charAt(0)=="/"?Io:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",dr(v,uu)),u.join("")},gn.prototype.resolve=function(u){const m=Se(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)cs(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let nt=0;nt<L.length;){const wt=L[nt++];wt=="."?A&&nt==L.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&nt==L.length&&q.push("")):(q.push(wt),A=!0)}A=q.join("/")}else A=L}return v?m.h=A:v=u.i.toString()!=="",v?Ro(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Se(u){return new gn(u)}function Le(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof fs?(u.i=m,ra(u.i,u.l)):(v||(m=dr(m,hs)),u.i=new fs(m,u.l))}function $t(u,m,v){u.i.set(m,v)}function fr(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,lu=/[#\?:]/g,Io=/[#\?]/g,hs=/[#\?@]/g,uu=/#/g;function fs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=fs.prototype,s.add=function(u,m){an(this),this.i=null,u=ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){an(u),m=ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return an(u),m=ds(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Do(u,m){an(u);let v=[];if(typeof m=="string")Co(u,m)&&(v=v.concat(u.g.get(ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return an(this),this.i=null,u=ds(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(ds(u,m),B(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Vi(v);v=Do(this,v);for(let q=0;q<v.length;q++){let nt=L;v[q]!==""&&(nt+="="+Vi(v[q])),u.push(nt)}}return this.i=u.join("&")};function hu(u){const m=new fs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(cu(this,A),sa(this,L,v))},u)),u.j=m}function Hn(u,m){const v=new jn;if(d.Image){const A=new Image;A.onload=E(In,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(In,v,"TestLoadImage: error",!1,m,A),A.onabort=E(In,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(In,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function No(u,m){const v=new jn,A=new AbortController,L=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function ms(){this.g=new Jl}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(mi,Wl),mi.prototype.g=function(){return new mr(this.i,this.h)};function mr(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(mr,ve),s=mr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gs(this):Gn(this),this.readyState==3&&aa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,gs(this))},s.Na=function(u){this.g&&(this.response=u,gs(this))},s.ga=function(){this.g&&gs(this)};function gs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return dt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function gr(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Cn(v),typeof u=="string"?v!=null&&Vi(v):$t(u,m,v))}function Wt(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Wt,ve);var gi=/^https?$/i,Oo=["POST","PUT"];s=Wt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){pr(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){pr(this,q)}};function pr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),xi(u)}function Mo(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Wt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?_r(this):this.Xa())},s.Xa=function(){_r(this)};function _r(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let nt=String(u.D).match(ou)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),A=!gi.test(nt?nt.toLowerCase():"")}v=A}if(v)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var L=Fn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Mo(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ve(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ch(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=su(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Pt(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ps(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,u),this.Za=pi("retryDelaySeedMs",1e4,u),this.Ta=pi("forwardChannelMaxRetries",2,u),this.va=pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Eo(u&&u.concurrentRequestLimit),this.Ba=new ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ps.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){Te(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=yu(this,null,this.W),_i(this)};function Vo(u){if(oa(u),u.I==3){var m=u.V++,v=Se(u.J);if($t(v,"SID",u.M),$t(v,"RID",m),$t(v,"TYPE","terminate"),yr(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=fr(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}_u(u)}function _s(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function oa(u){_s(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!Ao(u.h)&&!u.m){u.m=!0;var m=u.Ea;zt||w(),Nt||(zt(),Nt=!0),N.add(m,u),u.D=0}}function la(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(_(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Bn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),rt(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=fu(this,L,m),v=Se(this.J),$t(v,"RID",u),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),yr(this,v),q&&(this.R?m="headers="+Vi(Cn(q))+"&"+m:this.u&&gr(v,this.u,q)),So(this.h,L),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",m),$t(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(u?xo(this,u):this.i.length==0||Ao(this.h)||xo(this))};function xo(u,m){var v;m?v=m.l:v=u.V++;const A=Se(u.J);$t(A,"SID",u.M),$t(A,"RID",v),$t(A,"AID",u.K),yr(u,A),u.u&&u.o&&gr(A,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,v),oi(v,A,m)}function yr(u,m){u.H&&dt(u.H,function(v,A){$t(m,A,v)}),u.l&&dt({},function(v,A){$t(m,A,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const ge=["count="+v];wt==-1?v>0?(wt=L[0].g,ge.push("ofs="+wt)):wt=0:ge.push("ofs="+wt);let Yt=!0;for(let ue=0;ue<v;ue++){var q=L[ue].g;const Dn=L[ue].map;if(q-=wt,q<0)wt=Math.max(0,L[ue].g-100),Yt=!1;else try{q="req"+q+"_"||"";try{var nt=Dn instanceof Map?Dn:Object.entries(Dn);for(const[vi,Qn]of nt){let Yn=Qn;p(Qn)&&(Yn=us(Qn)),ge.push(q+vi+"="+encodeURIComponent(Yn))}}catch(vi){throw ge.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{A&&A(Dn)}}if(Yt){nt=ge.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;zt||w(),Nt||(zt(),Nt=!0),N.add(m,u),u.A=0}}function vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(_(u.Da,u),pu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),_s(this),mu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),yr(u,m),u.u&&u.o&&gr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=fr(Se(m)),v.u=null,v.R=!0,ta(v,u)}s.Va=function(){this.C!=null&&(this.C=null,_s(this),vr(this),Te(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){ua(u),ko(u),u.g=null;var A=2}else if(fi(u.h,m))v=m.G,bo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=Wr(),Ve(A,new si(A,v)),_i(u)}else du(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&la(u,m)||A==2&&vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function pu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),A=u.Ua;const L=!A;A=new gn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(A,"https"),fr(A),L?Hn(A.toString(),v):No(A.toString(),v)}else Te(2);u.I=0,u.l&&u.l.pa(m),_u(u),oa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var A=v instanceof gn?Se(v):new gn(v);if(A.g!="")m&&(A.g=m+"."+A.g),cs(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new gn(null);A&&Le(q,A),m&&(q.g=m),L&&cs(q,L),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&$t(A,v,m),$t(A,"VER",u.ka),yr(u,A),A}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new mi({ab:v})):new Wt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ys(){}ys.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){ve.call(this),this.g=new ps(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}S(nn,ve),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Vo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=us(u),u=v);m.i.push(new Ae(m.Ya++,u)),m.I==3&&_i(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,nn.Z.N.call(this)};function Eu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Eu,je);function Au(){wn.call(this),this.status=1}S(Au,wn);function Ui(u){this.g=u}S(Ui,Tu),Ui.prototype.ra=function(){Ve(this.g,"a")},Ui.prototype.qa=function(u){Ve(this.g,new Eu(u))},Ui.prototype.pa=function(u){Ve(this.g,new Au)},Ui.prototype.oa=function(){Ve(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,_E=function(){return new ys},pE=function(){return Wr()},gE=me,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,Uc=cr,vo.COMPLETE="complete",mE=vo,tu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Tl=tu,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,dE=Wt}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const Ev="@firebase/firestore",Av="4.9.2";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let oo="12.3.0";const Fr=new vm("@firebase/firestore");function Ba(){return Fr.logLevel}function lt(s,...t){if(Fr.logLevel<=kt.DEBUG){const i=t.map(Mm);Fr.debug(`Firestore (${oo}): ${s}`,...i)}}function ss(s,...t){if(Fr.logLevel<=kt.ERROR){const i=t.map(Mm);Fr.error(`Firestore (${oo}): ${s}`,...i)}}function Ja(s,...t){if(Fr.logLevel<=kt.WARN){const i=t.map(Mm);Fr.warn(`Firestore (${oo}): ${s}`,...i)}}function Mm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function yt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,yE(s,r,i)}function yE(s,t,i){let r=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ss(r),new Error(r)}function Xt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||yE(t,l,r)}function bt(s,t){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends os{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class vE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class v2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class T2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class E2{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new es;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new es,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new es)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new vE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class A2{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S2{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new A2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const r=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Sv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function w2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=w2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Ut(s,t){return s<t?-1:s>t?1:0}function tm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Pd(l)===Pd(c)?Ut(l,c):Pd(l)?1:-1}return Ut(s.length,t.length)}const R2=55296,I2=57343;function Pd(s){const t=s.charCodeAt(0);return t>=R2&&t<=I2}function Wa(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const bv="__name__";class wi{constructor(t,i,r){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&yt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=wi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const r=wi.isNumericId(t),l=wi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?wi.extractNumericId(t).compare(wi.extractNumericId(i)):tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xs.fromString(t.substring(4,t.length-2))}}class re extends wi{construct(t,i,r){return new re(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const C2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends wi{construct(t,i,r){return new Ye(t,i,r)}static isValidIdentifier(t){return C2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bv}static keyField(){return new Ye([bv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(re.fromString(t))}static fromName(t){return new pt(re.fromString(t).popFirst(5))}static empty(){return new pt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new re(t.slice()))}}function TE(s,t,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function D2(s,t,i,r){if(t===!0&&r===!0)throw new at(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function wv(s){if(!pt.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Rv(s){if(pt.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function EE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function fh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function rs(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fh(s);throw new at(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ne(s,t){const i={typeString:s};return t&&(i.value=t),i}function Fl(s,t){if(!EE(s))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}const Iv=-62135596800,Cv=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(t){return Qt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Cv);return new Qt(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Iv)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,Qt._jsonSchema))return new Qt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Iv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qt._jsonSchemaVersion="firestore/timestamp/1.0",Qt._jsonSchema={type:Ne("string",Qt._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Qt(0,0))}static max(){return new At(new Qt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vl=-1;function N2(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(r===1e9?new Qt(i+1,0):new Qt(i,r));return new Zs(l,pt.empty(),t)}function O2(s){return new Zs(s.readTime,s.key,Vl)}class Zs{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Zs(At.min(),pt.empty(),Vl)}static max(){return new Zs(At.max(),pt.empty(),Vl)}}function M2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(s.documentKey,t.documentKey),i!==0?i:Ut(s.largestBatchId,t.largestBatchId))}const V2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function lo(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==V2)throw s;lt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,r)=>{i(t)}))}static reject(t){return new Z(((i,r)=>{r(t)}))}static waitFor(t){return new Z(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const r of t)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new Z(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((E=>{d[_]=E,++p,p===c&&r(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new Z(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function k2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function uo(s){return s.name==="IndexedDbTransactionError"}class dh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}dh.ce=-1;const xm=-1;function mh(s){return s==null}function $c(s){return s===0&&1/s==-1/0}function U2(s){return typeof s=="number"&&Number.isInteger(s)&&!$c(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const AE="";function L2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Dv(t)),t=z2(s.get(i),t);return Dv(t)}function z2(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case AE:i+="";break;default:i+=c}}return i}function Dv(s){return s+AE+""}function Nv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ir(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function SE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class he{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new he(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Qe.RED,this.left=l??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Qe(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(t){return new Ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ke(this.comparator);return i.data=t,i}}class Ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new bn([])}unionWith(t){let i=new ke(Ye.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class bE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new bE("Invalid base64 string: "+c):c}})(t);return new Xe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Xe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const P2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(s){if(Xt(!!s,39018),typeof s=="string"){let t=0;const i=P2.exec(s);if(Xt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ws(s){return typeof s=="string"?Xe.fromBase64String(s):Xe.fromUint8Array(s)}const wE="server_timestamp",RE="__type__",IE="__previous_value__",CE="__local_write_time__";function km(s){return(s?.mapValue?.fields||{})[RE]?.stringValue===wE}function gh(s){const t=s.mapValue.fields[IE];return km(t)?gh(t):t}function xl(s){const t=Js(s.mapValue.fields[CE].timestampValue);return new Qt(t.seconds,t.nanos)}class j2{constructor(t,i,r,l,c,d,p,y,_,E){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const Zc="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}const DE="__type__",B2="__max__",Dc={mapValue:{}},NE="__vector__",Jc="value";function tr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?km(s)?4:H2(s)?9007199254740991:q2(s)?10:11:yt(28295,{value:s})}function Mi(s,t){if(s===t)return!0;const i=tr(s);if(i!==tr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return xl(s).isEqual(xl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Js(l.timestampValue),p=Js(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Ws(l.bytesValue).isEqual(Ws(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),p=ye(c.doubleValue);return d===p?$c(d)===$c(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Wa(s.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Nv(d)!==Nv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Mi(d[y],p[y])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function Ul(s,t){return(s.values||[]).find((i=>Mi(i,t)))!==void 0}function to(s,t){if(s===t)return 0;const i=tr(s),r=tr(t);if(i!==r)return Ut(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return Mv(s.timestampValue,t.timestampValue);case 4:return Mv(xl(s),xl(t));case 5:return tm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Ws(c),y=Ws(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=Ut(p[_],y[_]);if(E!==0)return E}return Ut(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ut(ye(c.latitude),ye(d.latitude));return p!==0?p:Ut(ye(c.longitude),ye(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Vv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Jc]?.arrayValue,E=y[Jc]?.arrayValue,S=Ut(_?.values?.length||0,E?.values?.length||0);return S!==0?S:Vv(_,E)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const D=tm(y[S],E[S]);if(D!==0)return D;const B=to(p[y[S]],_[E[S]]);if(B!==0)return B}return Ut(y.length,E.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function Mv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ut(s,t);const i=Js(s),r=Js(t),l=Ut(i.seconds,r.seconds);return l!==0?l:Ut(i.nanos,r.nanos)}function Vv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=to(i[l],r[l]);if(c)return c}return Ut(i.length,r.length)}function eo(s){return em(s)}function em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Js(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ws(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=em(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${em(i.fields[d])}`;return l+"}"})(s.mapValue):yt(61005,{value:s})}function Lc(s){switch(tr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(s);return t?16+Lc(t):16;case 5:return 2*s.stringValue.length;case 6:return Ws(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Lc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ir(r.fields,((c,d)=>{l+=c.length+Lc(d)})),l})(s.mapValue);default:throw yt(13486,{value:s})}}function xv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function nm(s){return!!s&&"integerValue"in s}function Um(s){return!!s&&"arrayValue"in s}function kv(s){return!!s&&"nullValue"in s}function Uv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function q2(s){return(s?.mapValue?.fields||{})[DE]?.stringValue===NE}function Il(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ir(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Il(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(s.arrayValue.values[i]);return t}return{...s}}function H2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===B2}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=Ye.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Il(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){ir(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new dn(Il(this.value))}}function OE(s){const t=[];return ir(s.fields,((i,r)=>{const l=new Ye([i]);if(zc(r)){const c=OE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new bn(t)}class We{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new We(t,0,At.min(),At.min(),At.min(),dn.empty(),0)}static newFoundDocument(t,i,r,l){return new We(t,1,i,At.min(),r,l,0)}static newNoDocument(t,i){return new We(t,2,i,At.min(),At.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new We(t,3,i,At.min(),At.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function Lv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=pt.comparator(pt.fromName(d.referenceValue),i.key):r=to(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function zv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Mi(s.position[i],t.position[i]))return!1;return!0}class Ll{constructor(t,i="asc"){this.field=t,this.dir=i}}function G2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class ME{}class De extends ME{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new Q2(t,i,r):i==="array-contains"?new X2(t,r):i==="in"?new $2(t,r):i==="not-in"?new Z2(t,r):i==="array-contains-any"?new J2(t,r):new De(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new Y2(t,r):new K2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(to(i,this.value)):i!==null&&tr(this.value)===tr(i)&&this.matchesComparison(to(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends ME{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ei(t,i)}matches(t){return VE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VE(s){return s.op==="and"}function xE(s){return F2(s)&&VE(s)}function F2(s){for(const t of s.filters)if(t instanceof ei)return!1;return!0}function im(s){if(s instanceof De)return s.field.canonicalString()+s.op.toString()+eo(s.value);if(xE(s))return s.filters.map((t=>im(t))).join(",");{const t=s.filters.map((i=>im(i))).join(",");return`${s.op}(${t})`}}function kE(s,t){return s instanceof De?(function(r,l){return l instanceof De&&r.op===l.op&&r.field.isEqual(l.field)&&Mi(r.value,l.value)})(s,t):s instanceof ei?(function(r,l){return l instanceof ei&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&kE(d,l.filters[p])),!0):!1})(s,t):void yt(19439)}function UE(s){return s instanceof De?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(s):s instanceof ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(UE).join(" ,")+"}"})(s):"Filter"}class Q2 extends De{constructor(t,i,r){super(t,i,r),this.key=pt.fromName(r.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Y2 extends De{constructor(t,i){super(t,"in",i),this.keys=LE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class K2 extends De{constructor(t,i){super(t,"not-in",i),this.keys=LE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function LE(s,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class X2 extends De{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Um(i)&&Ul(i.arrayValue,this.value)}}class $2 extends De{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class Z2 extends De{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class J2 extends De{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ul(this.value.arrayValue,r)))}}class W2{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Pv(s,t=null,i=[],r=[],l=null,c=null,d=null){return new W2(s,t,i,r,l,c,d)}function Lm(s){const t=bt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>im(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),mh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>eo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>eo(r))).join(",")),t.Te=i}return t.Te}function zm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!G2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!kE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!zv(s.startAt,t.startAt)&&zv(s.endAt,t.endAt)}function sm(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class co{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tR(s,t,i,r,l,c,d,p){return new co(s,t,i,r,l,c,d,p)}function Pm(s){return new co(s)}function jv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function zE(s){return s.collectionGroup!==null}function Cl(s){const t=bt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ke(Ye.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Ll(c,r))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new Ll(Ye.keyField(),r))}return t.Ie}function Ii(s){const t=bt(s);return t.Ee||(t.Ee=eR(t,Cl(s))),t.Ee}function eR(s,t){if(s.limitType==="F")return Pv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ll(l.field,c)}));const i=s.endAt?new Wc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Wc(s.startAt.position,s.startAt.inclusive):null;return Pv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function rm(s,t){const i=s.filters.concat([t]);return new co(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function am(s,t,i){return new co(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function ph(s,t){return zm(Ii(s),Ii(t))&&s.limitType===t.limitType}function PE(s){return`${Lm(Ii(s))}|lt:${s.limitType}`}function qa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>UE(l))).join(", ")}]`),mh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>eo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>eo(l))).join(",")),`Target(${r})`})(Ii(s))}; limitType=${s.limitType})`}function _h(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):pt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Cl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const _=Lv(d,p,y);return d.inclusive?_<=0:_<0})(r.startAt,Cl(r),l)||r.endAt&&!(function(d,p,y){const _=Lv(d,p,y);return d.inclusive?_>=0:_>0})(r.endAt,Cl(r),l))})(s,t)}function nR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function jE(s){return(t,i)=>{let r=!1;for(const l of Cl(s)){const c=iR(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function iR(s,t,i){const r=s.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?to(y,_):yt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}class Yr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ir(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return SE(this.inner)}size(){return this.innerSize}}const sR=new he(pt.comparator);function as(){return sR}const BE=new he(pt.comparator);function El(...s){let t=BE;for(const i of s)t=t.insert(i.key,i);return t}function qE(s){let t=BE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function zr(){return Dl()}function HE(){return Dl()}function Dl(){return new Yr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const rR=new he(pt.comparator),aR=new ke(pt.comparator);function Lt(...s){let t=aR;for(const i of s)t=t.add(i);return t}const oR=new ke(Ut);function lR(){return oR}function jm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function GE(s){return{integerValue:""+s}}function uR(s,t){return U2(t)?GE(t):jm(s,t)}class yh{constructor(){this._=void 0}}function cR(s,t,i){return s instanceof th?(function(l,c){const d={fields:{[RE]:{stringValue:wE},[CE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&km(c)&&(c=gh(c)),c&&(d.fields[IE]=c),{mapValue:d}})(i,t):s instanceof zl?QE(s,t):s instanceof Pl?YE(s,t):(function(l,c){const d=FE(l,c),p=Bv(d)+Bv(l.Ae);return nm(d)&&nm(l.Ae)?GE(p):jm(l.serializer,p)})(s,t)}function hR(s,t,i){return s instanceof zl?QE(s,t):s instanceof Pl?YE(s,t):i}function FE(s,t){return s instanceof eh?(function(r){return nm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class th extends yh{}class zl extends yh{constructor(t){super(),this.elements=t}}function QE(s,t){const i=KE(t);for(const r of s.elements)i.some((l=>Mi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Pl extends yh{constructor(t){super(),this.elements=t}}function YE(s,t){let i=KE(t);for(const r of s.elements)i=i.filter((l=>!Mi(l,r)));return{arrayValue:{values:i}}}class eh extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Bv(s){return ye(s.integerValue||s.doubleValue)}function KE(s){return Um(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function fR(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof zl&&l instanceof zl||r instanceof Pl&&l instanceof Pl?Wa(r.elements,l.elements,Mi):r instanceof eh&&l instanceof eh?Mi(r.Ae,l.Ae):r instanceof th&&l instanceof th})(s.transform,t.transform)}class dR{constructor(t,i){this.version=t,this.transformResults=i}}class ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ti}static exists(t){return new ti(void 0,t)}static updateTime(t){return new ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class vh{}function XE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Bm(s.key,ti.none()):new Ql(s.key,s.data,ti.none());{const i=s.data,r=dn.empty();let l=new ke(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new sr(s.key,r,new bn(l.toArray()),ti.none())}}function mR(s,t,i){s instanceof Ql?(function(l,c,d){const p=l.value.clone(),y=Hv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof sr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Hv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll($E(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(s,t,i,r){return s instanceof Ql?(function(c,d,p,y){if(!Pc(c.precondition,d))return p;const _=c.value.clone(),E=Gv(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof sr?(function(c,d,p,y){if(!Pc(c.precondition,d))return p;const _=Gv(c.fieldTransforms,y,d),E=d.data;return E.setAll($E(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,r):(function(c,d,p){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function gR(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=FE(r.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(r.field,c))}return i||null}function qv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Wa(r,l,((c,d)=>fR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ql extends vh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class sr extends vh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function $E(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function Hv(s,t,i){const r=new Map;Xt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,hR(d,p,i[l]))}return r}function Gv(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,cR(c,d,t))}return r}class Bm extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pR extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _R{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&mR(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Nl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Nl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=HE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=XE(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,r)=>qv(i,r)))&&Wa(this.baseMutations,t.baseMutations,((i,r)=>qv(i,r)))}}class qm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Xt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return rR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new qm(t,i,r,l)}}class yR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Ht;function TR(s){switch(s){case X.OK:return yt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function ZE(s){if(s===void 0)return ss("GRPC error has no .code"),X.UNKNOWN;switch(s){case Ce.OK:return X.OK;case Ce.CANCELLED:return X.CANCELLED;case Ce.UNKNOWN:return X.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return X.INTERNAL;case Ce.UNAVAILABLE:return X.UNAVAILABLE;case Ce.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ce.NOT_FOUND:return X.NOT_FOUND;case Ce.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ce.ABORTED:return X.ABORTED;case Ce.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ce.DATA_LOSS:return X.DATA_LOSS;default:return yt(39323,{code:s})}}(Ht=Ce||(Ce={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function ER(){return new TextEncoder}const AR=new Xs([4294967295,4294967295],0);function Fv(s){const t=ER().encode(s),i=new fE;return i.update(t),new Uint8Array(i.digest())}function Qv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Xs([i,r],0),new Xs([l,c],0)]}class Hm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Al(`Invalid padding: ${i}`);if(r<0)throw new Al(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Al(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Xs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Xs.fromNumber(r)));return l.compare(AR)===1&&(l=new Xs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Fv(t),[r,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Hm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Fv(t),[r,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Th(At.min(),l,new he(Ut),as(),Lt())}}class Yl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Yl(r,i,Lt(),Lt(),Lt())}}class jc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class JE{constructor(t,i){this.targetId=t,this.Ce=i}}class WE{constructor(t,i,r=Xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Yv{constructor(){this.ve=0,this.Fe=Kv(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),r=Lt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:yt(38017,{changeType:c})}})),new Yl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Kv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SR{constructor(t){this.Ge=t,this.ze=new Map,this.je=as(),this.Je=Nc(),this.He=Nc(),this.Ye=new he(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(sm(c))if(r===0){const d=new pt(c.path);this.et(i,d,We.newNoDocument(d,At.min()))}else Xt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Ws(r).toUint8Array()}catch(y){if(y instanceof bE)return Ja("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Hm(d,l,c)}catch(y){return Ja(y instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&sm(p.target)){const y=new pt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,We.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Lt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Th(t,i,this.Ye,this.je,r);return this.je=as(),this.Je=Nc(),this.He=Nc(),this.Ye=new he(Ut),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Yv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ke(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ke(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Yv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new he(pt.comparator)}function Kv(){return new he(pt.comparator)}const bR={asc:"ASCENDING",desc:"DESCENDING"},wR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RR={and:"AND",or:"OR"};class IR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function om(s,t){return s.useProto3Json||mh(t)?t:{value:t}}function nh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function t0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function CR(s,t){return nh(s,t.toTimestamp())}function Ci(s){return Xt(!!s,49232),At.fromTimestamp((function(i){const r=Js(i);return new Qt(r.seconds,r.nanos)})(s))}function Gm(s,t){return lm(s,t).canonicalString()}function lm(s,t){const i=(function(l){return new re(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function e0(s){const t=re.fromString(s);return Xt(a0(t),10190,{key:t.toString()}),t}function um(s,t){return Gm(s.databaseId,t.path)}function jd(s,t){const i=e0(t);if(i.get(1)!==s.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pt(i0(i))}function n0(s,t){return Gm(s.databaseId,t)}function DR(s){const t=e0(s);return t.length===4?re.emptyPath():i0(t)}function cm(s){return new re(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function i0(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Xv(s,t,i){return{name:um(s,t),fields:i.value.mapValue.fields}}function NR(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Xt(E===void 0||typeof E=="string",58123),Xe.fromBase64String(E||"")):(Xt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xe.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?X.UNKNOWN:ZE(_.code);return new at(E,_.message||"")})(d);i=new WE(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=jd(s,r.document.name),c=Ci(r.document.updateTime),d=r.document.createTime?Ci(r.document.createTime):At.min(),p=new dn({mapValue:{fields:r.document.fields}}),y=We.newFoundDocument(l,c,d,p),_=r.targetIds||[],E=r.removedTargetIds||[];i=new jc(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=jd(s,r.document),c=r.readTime?Ci(r.readTime):At.min(),d=We.newNoDocument(l,c),p=r.removedTargetIds||[];i=new jc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=jd(s,r.document),c=r.removedTargetIds||[];i=new jc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new vR(l,c),p=r.targetId;i=new JE(p,d)}}return i}function OR(s,t){let i;if(t instanceof Ql)i={update:Xv(s,t.key,t.value)};else if(t instanceof Bm)i={delete:um(s,t.key)};else if(t instanceof sr)i={update:Xv(s,t.key,t.data),updateMask:jR(t.fieldMask)};else{if(!(t instanceof pR))return yt(16599,{Vt:t.type});i={verify:um(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof eh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:CR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(s,t.precondition)),i}function MR(s,t){return s&&s.length>0?(Xt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ci(l.updateTime):Ci(c);return d.isEqual(At.min())&&(d=Ci(c)),new dR(d,l.transformResults||[])})(i,t)))):[]}function VR(s,t){return{documents:[n0(s,t.path)]}}function xR(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=n0(s,l);const c=(function(_){if(_.length!==0)return r0(ei.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(D){return{field:Ha(D.field),direction:LR(D.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=om(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function kR(s){let t=DR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Xt(r===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(S){const D=s0(S);return D instanceof ei&&xE(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(J){return new Ll(Ga(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let D;return D=typeof S=="object"?S.value:S,mh(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(S){const D=!!S.before,B=S.values||[];return new Wc(B,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const D=!S.before,B=S.values||[];return new Wc(B,D)})(i.endAt)),tR(t,l,d,c,p,"F",y,_)}function UR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function s0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ga(i.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return De.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return De.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ei.create(i.compositeFilter.filters.map((r=>s0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function LR(s){return bR[s]}function zR(s){return wR[s]}function PR(s){return RR[s]}function Ha(s){return{fieldPath:s.canonicalString()}}function Ga(s){return Ye.fromServerFormat(s.fieldPath)}function r0(s){return s instanceof De?(function(i){if(i.op==="=="){if(Uv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(kv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(kv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:zR(i.op),value:i.value}}})(s):s instanceof ei?(function(i){const r=i.getFilters().map((l=>r0(l)));return r.length===1?r[0]:{compositeFilter:{op:PR(i.op),filters:r}}})(s):yt(54877,{filter:s})}function jR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function a0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Fs{constructor(t,i,r,l,c=At.min(),d=At.min(),p=Xe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class BR{constructor(t){this.yt=t}}function qR(s){const t=kR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?am(t,t.limit,"L"):t}class HR{constructor(){this.Cn=new GR}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Zs.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Zs.min())}updateCollectionGroup(t,i,r){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class GR{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new ke(re.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new ke(re.comparator)).toArray()}}const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o0=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(o0,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class no{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new no(0)}static cr(){return new no(-1)}}const Zv="LruGarbageCollector",FR=1048576;function Jv([s,t],[i,r]){const l=Ut(s,i);return l===0?Ut(t,r):l}class QR{constructor(t){this.Ir=t,this.buffer=new ke(Jv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Jv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class YR{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(Zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){uo(i)?lt(Zv,"Ignoring IndexedDB error during garbage collection: ",i):await lo(i)}await this.Vr(3e5)}))}}class KR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(dh.ce);const r=new QR(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve($v)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(t,r,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(_=Date.now(),Ba()<=kt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function XR(s,t){return new KR(s,t)}class $R{constructor(){this.changes=new Yr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ZR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class JR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Nl(r.mutation,l,bn.empty(),Qt.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Lt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Lt()){const l=zr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=El();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=zr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Lt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=as();const d=Dl(),p=(function(){return Dl()})();return i.forEach(((y,_)=>{const E=r.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof sr)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Nl(E.mutation,_,E.mutation.getFieldMask(),Qt.now())):d.set(_.key,bn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new ZR(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Dl();let l=new he(((d,p)=>d-p)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=r.get(y)||bn.empty();E=p.applyToLocalView(_,E),r.set(y,E);const S=(l.get(p.batchId)||Lt()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,S=HE();E.forEach((D=>{if(!c.has(D)){const B=XE(i.get(D),r.get(D));B!==null&&S.set(D,B),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):zE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):Z.resolve(zr());let p=Vl,y=c;return d.next((_=>Z.forEach(_,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((D=>{y=y.insert(E,D)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Lt()))).next((E=>({batchId:p,changes:qE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((r=>{let l=El();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const _=(function(S,D){return new co(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((E=>{E.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,We.newInvalidDocument(E)))}));let p=El();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Nl(E.mutation,_,bn.empty(),Qt.now()),_h(i,_)&&(p=p.insert(y,_))})),p}))}}class WR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:qR(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),Z.resolve()}}class tI{constructor(){this.overlays=new he(pt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const r=zr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,i,r){const l=zr(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new he(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let E=c.get(_.largestBatchId);E===null&&(E=zr(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=zr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new yR(i,r));let c=this.qr.get(i);c===void 0&&(c=Lt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class eI{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Fm{constructor(){this.Qr=new ke(Pe.$r),this.Ur=new ke(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Pe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new pt(new re([])),r=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new re([])),r=new Pe(i,t),l=new Pe(i,t+1);let c=Lt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class nI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ke(Pe.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new _R(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?xm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new ke(Ut);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;pt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new pt(c),0);let p=new ke(Ut);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Pe(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class iI{constructor(t){this.ri=t,this.docs=(function(){return new he(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():We.newInvalidDocument(i))}getEntries(t,i){let r=as();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():We.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=as();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||M2(O2(E),r)<=0||(l.has(E.key)||_h(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,r,l){yt(9500)}ii(t,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new sI(this)}getSize(t){return Z.resolve(this.size)}}class sI extends $R{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class rI{constructor(t){this.persistence=t,this.si=new Yr((i=>Lm(i)),zm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Fm,this.targetCount=0,this.ai=no.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new no(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class l0{constructor(t,i){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new eI,this.referenceDelegate=t(this),this.Pi=new rI(this),this.indexManager=new HR,this.remoteDocumentCache=(function(l){return new iI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new BR(i),this.Ii=new WR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new tI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new nI(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){lt("MemoryPersistence","Starting transaction:",t);const l=new aI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class aI extends x2{constructor(t){super(),this.currentSequenceNumber=t}}class Qm{constructor(t){this.persistence=t,this.Ri=new Fm,this.Vi=null}static mi(t){return new Qm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=pt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ih{constructor(t,i){this.persistence=t,this.pi=new Yr((r=>L2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=XR(this,i)}static mi(t,i){return new ih(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}br(t,i,r){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ym{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Lt(),l=Lt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ym(t,i.fromCache,r,l)}}class oI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class lI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WA()?8:k2(tn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new oI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ba()<=kt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ba()<=kt.DEBUG&&lt("QueryEngine","Query:",qa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ba()<=kt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):Z.resolve())}ys(t,i){if(jv(i))return Z.resolve(null);let r=Ii(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=am(i,null,"F"),r=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Lt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,am(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,r,l){return jv(i)||l.isEqual(At.min())?Z.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?Z.resolve(null):(Ba()<=kt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.vs(t,d,i,N2(l,Vl)).next((p=>p)))}))}Ds(t,i){let r=new ke(jE(t));return i.forEach(((l,c)=>{_h(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Ba()<=kt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",qa(i)),this.ps.getDocumentsMatchingQuery(t,i,Zs.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Km="LocalStore",uI=3e8;class cI{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new he(Ut),this.xs=new Yr((c=>Lm(c)),zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function hI(s,t,i,r){return new cI(s,t,i,r)}async function u0(s,t){const i=bt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=Lt();for(const _ of l){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function fI(s,t){const i=bt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const S=_.batch,D=S.keys();let B=Z.resolve();return D.forEach((J=>{B=B.next((()=>E.getEntry(y,J))).next((tt=>{const W=_.docVersions.get(J);Xt(W!==null,48541),tt.version.compareTo(W)<0&&(S.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),E.addEntry(tt)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Lt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function c0(s){const t=bt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function dI(s,t){const i=bt(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((E,S)=>{const D=l.get(S);if(!D)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,S))));let B=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?B=B.withResumeToken(Xe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,r)),l=l.insert(S,B),(function(tt,W,it){return tt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=uI?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(D,B,E)&&p.push(i.Pi.updateTargetData(c,B))}));let y=as(),_=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(mI(c,d,t.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!r.isEqual(At.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(E)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function mI(s,t,i){let r=Lt(),l=Lt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=as();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):lt(Km,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function gI(s,t){const i=bt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=xm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function pI(s,t){const i=bt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Fs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function hm(s,t,i){const r=bt(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!uo(d))throw d;lt(Km,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Wv(s,t,i){const r=bt(s);let l=At.min(),c=Lt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const S=bt(y),D=S.xs.get(E);return D!==void 0?Z.resolve(S.Ms.get(D)):S.Pi.getTargetData(_,E)})(r,d,Ii(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:Lt()))).next((p=>(_I(r,nR(t),p),{documents:p,Qs:c})))))}function _I(s,t,i){let r=s.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class tT{constructor(){this.activeTargetIds=lR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yI{constructor(){this.Mo=new tT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new tT,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vI{Oo(t){}shutdown(){}}const eT="ConnectivityMonitor";class nT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(eT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(eT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function fm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Bd="RestConnection",TI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Zc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=fm(),p=this.zo(t,i.toUriEncodedString());lt(Bd,`Sending RPC '${t}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),E=so(_);return this.Jo(t,p,y,r,E).then((S=>(lt(Bd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ja(Bd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=TI[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class AI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ze="WebChannelConnection";class SI extends EI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=fm();return new Promise(((p,y)=>{const _=new dE;_.setWithCredentials(!0),_.listenOnce(mE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Uc.NO_ERROR:const S=_.getResponseJson();lt(Ze,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Uc.TIMEOUT:lt(Ze,`RPC '${t}' ${d} timed out`),y(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const D=_.getStatus();if(lt(Ze,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const J=B?.error;if(J&&J.status&&J.message){const tt=(function(it){const ft=it.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ft)>=0?ft:X.UNKNOWN})(J.status);y(new at(tt,J.message))}else y(new at(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new at(X.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{lt(Ze,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);lt(Ze,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",E,r,15)}))}T_(t,i,r){const l=fm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=_E(),p=pE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const E=c.join("");lt(Ze,`Creating RPC '${t}' stream ${l}: ${E}`,y);const S=d.createWebChannel(E,y);this.I_(S);let D=!1,B=!1;const J=new AI({Yo:W=>{B?lt(Ze,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(D||(lt(Ze,`Opening RPC '${t}' stream ${l} transport.`),S.open(),D=!0),lt(Ze,`RPC '${t}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),tt=(W,it,ft)=>{W.listen(it,(ct=>{try{ft(ct)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return tt(S,Tl.EventType.OPEN,(()=>{B||(lt(Ze,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),tt(S,Tl.EventType.CLOSE,(()=>{B||(B=!0,lt(Ze,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),tt(S,Tl.EventType.ERROR,(W=>{B||(B=!0,Ja(Ze,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),tt(S,Tl.EventType.MESSAGE,(W=>{if(!B){const it=W.data[0];Xt(!!it,16349);const ft=it,ct=ft?.error||ft[0]?.error;if(ct){lt(Ze,`RPC '${t}' stream ${l} received error:`,ct);const Tt=ct.status;let zt=(function(w){const I=Ce[w];if(I!==void 0)return ZE(I)})(Tt),Nt=ct.message;zt===void 0&&(zt=X.INTERNAL,Nt="Unknown error status: "+Tt+" with message "+ct.message),B=!0,J.a_(new at(zt,Nt)),S.close()}else lt(Ze,`RPC '${t}' stream ${l} received:`,it),J.u_(it)}})),tt(p,gE.STAT_EVENT,(W=>{W.stat===Wd.PROXY?lt(Ze,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Wd.NOPROXY&&lt(Ze,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function qd(){return typeof document<"u"?document:null}function Eh(s){return new IR(s,!0)}class h0{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const iT="PersistentStream";class f0{constructor(t,i,r,l,c,d,p,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new h0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new at(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(iT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(iT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bI extends f0{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=NR(this.serializer,t),r=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Ci(d.readTime):At.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=cm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=sm(y)?{documents:VR(c,y)}:{query:xR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=t0(c,d.resumeToken);const _=om(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=nh(c,d.snapshotVersion.toTimestamp());const _=om(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const r=UR(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=cm(this.serializer),i.removeTarget=t,this.q_(i)}}class wI extends f0{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=MR(t.writeResults,t.commitTime),r=Ci(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=cm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>OR(this.serializer,r)))};this.q_(i)}}class RI{}class II extends RI{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,lm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(X.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,lm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qr="RemoteStore";class DI{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Kr(this)&&(lt(Qr,"Restarting streams for network reachability change."),await(async function(y){const _=bt(y);_.Ea.add(4),await Kl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ah(_)})(this))}))})),this.Ra=new CI(r,l)}}async function Ah(s){if(Kr(s))for(const t of s.da)await t(!0)}async function Kl(s){for(const t of s.da)await t(!1)}function d0(s,t){const i=bt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Jm(i)?Zm(i):ho(i).O_()&&$m(i,t))}function Xm(s,t){const i=bt(s),r=ho(i);i.Ia.delete(t),r.O_()&&m0(i,t),i.Ia.size===0&&(r.O_()?r.L_():Kr(i)&&i.Ra.set("Unknown"))}function $m(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ho(s).Y_(t)}function m0(s,t){s.Va.Ue(t),ho(s).Z_(t)}function Zm(s){s.Va=new SR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ho(s).start(),s.Ra.ua()}function Jm(s){return Kr(s)&&!ho(s).x_()&&s.Ia.size>0}function Kr(s){return bt(s).Ea.size===0}function g0(s){s.Va=void 0}async function NI(s){s.Ra.set("Online")}async function OI(s){s.Ia.forEach(((t,i)=>{$m(s,t)}))}async function MI(s,t){g0(s),Jm(s)?(s.Ra.ha(t),Zm(s)):s.Ra.set("Unknown")}async function VI(s,t,i){if(s.Ra.set("Online"),t instanceof WE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){lt(Qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await sh(s,r)}else if(t instanceof jc?s.Va.Ze(t):t instanceof JE?s.Va.st(t):s.Va.tt(t),!i.isEqual(At.min()))try{const r=await c0(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Xe.EMPTY_BYTE_STRING,E.snapshotVersion)),m0(c,y);const S=new Fs(E.target,y,_,E.sequenceNumber);$m(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){lt(Qr,"Failed to raise snapshot:",r),await sh(s,r)}}async function sh(s,t,i){if(!uo(t))throw t;s.Ea.add(1),await Kl(s),s.Ra.set("Offline"),i||(i=()=>c0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{lt(Qr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ah(s)}))}function p0(s,t){return t().catch((i=>sh(s,i,t)))}async function Sh(s){const t=bt(s),i=er(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xm;for(;xI(t);)try{const l=await gI(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,kI(t,l)}catch(l){await sh(t,l)}_0(t)&&y0(t)}function xI(s){return Kr(s)&&s.Ta.length<10}function kI(s,t){s.Ta.push(t);const i=er(s);i.O_()&&i.X_&&i.ea(t.mutations)}function _0(s){return Kr(s)&&!er(s).x_()&&s.Ta.length>0}function y0(s){er(s).start()}async function UI(s){er(s).ra()}async function LI(s){const t=er(s);for(const i of s.Ta)t.ea(i.mutations)}async function zI(s,t,i){const r=s.Ta.shift(),l=qm.from(r,t,i);await p0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Sh(s)}async function PI(s,t){t&&er(s).X_&&await(async function(r,l){if((function(d){return TR(d)&&d!==X.ABORTED})(l.code)){const c=r.Ta.shift();er(r).B_(),await p0(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(r)}})(s,t),_0(s)&&y0(s)}async function sT(s,t){const i=bt(s);i.asyncQueue.verifyOperationInProgress(),lt(Qr,"RemoteStore received new credentials");const r=Kr(i);i.Ea.add(3),await Kl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function jI(s,t){const i=bt(s);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Kl(i),i.Ra.set("Unknown"))}function ho(s){return s.ma||(s.ma=(function(i,r,l){const c=bt(i);return c.sa(),new bI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:NI.bind(null,s),t_:OI.bind(null,s),r_:MI.bind(null,s),H_:VI.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Jm(s)?Zm(s):s.Ra.set("Unknown")):(await s.ma.stop(),g0(s))}))),s.ma}function er(s){return s.fa||(s.fa=(function(i,r,l){const c=bt(i);return c.sa(),new wI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:UI.bind(null,s),r_:PI.bind(null,s),ta:LI.bind(null,s),na:zI.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Sh(s)):(await s.fa.stop(),s.Ta.length>0&&(lt(Qr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Wm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new Wm(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(s,t){if(ss("AsyncQueue",`${t}: ${s}`),uo(s))return new at(X.UNAVAILABLE,`${t}: ${s}`);throw s}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||pt.comparator(i.key,r.key):(i,r)=>pt.comparator(i.key,r.key),this.keyedMap=El(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class rT{constructor(){this.ga=new he(pt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class io{constructor(t,i,r,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new io(t,i,Ka.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class BI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class qI{constructor(){this.queries=aT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=bt(i),c=l.queries;l.queries=aT(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function aT(){return new Yr((s=>PE(s)),ph)}async function v0(s,t){const i=bt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new BI,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=tg(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&eg(i)}async function T0(s,t){const i=bt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function HI(s,t){const i=bt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&eg(i)}function GI(s,t,i){const r=bt(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function eg(s){s.Ca.forEach((t=>{t.next()}))}var dm,oT;(oT=dm||(dm={})).Ma="default",oT.Cache="cache";class E0{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new io(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}class A0{constructor(t){this.key=t}}class S0{constructor(t){this.key=t}}class FI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=jE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new rT,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,S)=>{const D=l.get(E),B=_h(this.query,S)?S:null,J=!!D&&this.mutatedKeys.has(D.key),tt=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let W=!1;D&&B?D.data.isEqual(B.data)?J!==tt&&(r.track({type:3,doc:B}),W=!0):this.su(D,B)||(r.track({type:2,doc:B}),W=!0,(y&&this.eu(B,y)>0||_&&this.eu(B,_)<0)&&(p=!0)):!D&&B?(r.track({type:0,doc:B}),W=!0):D&&!B&&(r.track({type:1,doc:D}),W=!0,(y||_)&&(p=!0)),W&&(B?(d=d.add(B),c=tt?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,S)=>(function(B,J){const tt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:W})}};return tt(B)-tt(J)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new io(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new S0(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new A0(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ng="SyncEngine";class QI{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class YI{constructor(t){this.key=t,this.hu=!1}}class KI{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Yr((p=>PE(p)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new he(pt.comparator),this.Au=new Map,this.Ru=new Fm,this.Vu={},this.mu=new Map,this.fu=no.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XI(s,t,i=!0){const r=D0(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await b0(r,t,i,!0),l}async function $I(s,t){const i=D0(s);await b0(i,t,!0,!1)}async function b0(s,t,i,r){const l=await pI(s.localStore,Ii(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await ZI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&d0(s.remoteStore,l),p}async function ZI(s,t,i,r,l){s.pu=(S,D,B)=>(async function(tt,W,it,ft){let ct=W.view.ru(it);ct.Cs&&(ct=await Wv(tt.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,ct))));const Tt=ft&&ft.targetChanges.get(W.targetId),zt=ft&&ft.targetMismatches.get(W.targetId)!=null,Nt=W.view.applyChanges(ct,tt.isPrimaryClient,Tt,zt);return uT(tt,W.targetId,Nt.au),Nt.snapshot})(s,S,D,B);const c=await Wv(s.localStore,t,!0),d=new FI(t,c.Qs),p=d.ru(c.documents),y=Yl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);uT(s,i,_.au);const E=new QI(t,i,d);return s.Tu.set(t,E),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function JI(s,t,i){const r=bt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await hm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Xm(r.remoteStore,l.targetId),mm(r,l.targetId)})).catch(lo)):(mm(r,l.targetId),await hm(r.localStore,l.targetId,!0))}async function WI(s,t){const i=bt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Xm(i.remoteStore,r.targetId))}async function tC(s,t,i){const r=oC(s);try{const l=await(function(d,p){const y=bt(d),_=Qt.now(),E=p.reduce(((B,J)=>B.add(J.key)),Lt());let S,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let J=as(),tt=Lt();return y.Ns.getEntries(B,E).next((W=>{J=W,J.forEach(((it,ft)=>{ft.isValidDocument()||(tt=tt.add(it))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,J))).next((W=>{S=W;const it=[];for(const ft of p){const ct=gR(ft,S.get(ft.key).overlayedDocument);ct!=null&&it.push(new sr(ft.key,ct,OE(ct.value.mapValue),ti.exists(!0)))}return y.mutationQueue.addMutationBatch(B,_,it,p)})).next((W=>{D=W;const it=W.applyToLocalDocumentSet(S,tt);return y.documentOverlayCache.saveOverlays(B,W.batchId,it)}))})).then((()=>({batchId:D.batchId,changes:qE(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new he(Ut)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await Xl(r,l.changes),await Sh(r.remoteStore)}catch(l){const c=tg(l,"Failed to persist write");i.reject(c)}}async function w0(s,t){const i=bt(s);try{const r=await dI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await Xl(i,r,t)}catch(r){await lo(r)}}function lT(s,t,i){const r=bt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=bt(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,S)=>{for(const D of S.Sa)D.va(p)&&(_=!0)})),_&&eg(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function eC(s,t,i){const r=bt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new he(pt.comparator);d=d.insert(c,We.newNoDocument(c,At.min()));const p=Lt().add(c),y=new Th(At.min(),new Map,new he(Ut),d,p);await w0(r,y),r.du=r.du.remove(c),r.Au.delete(t),ig(r)}else await hm(r.localStore,t,!1).then((()=>mm(r,t,i))).catch(lo)}async function nC(s,t){const i=bt(s),r=t.batch.batchId;try{const l=await fI(i.localStore,t);I0(i,r,null),R0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Xl(i,l)}catch(l){await lo(l)}}async function iC(s,t,i){const r=bt(s);try{const l=await(function(d,p){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(Xt(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(r.localStore,t);I0(r,t,i),R0(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Xl(r,l)}catch(l){await lo(l)}}function R0(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function I0(s,t,i){const r=bt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function mm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||C0(s,r)}))}function C0(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Xm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),ig(s))}function uT(s,t,i){for(const r of i)r instanceof A0?(s.Ru.addReference(r.key,t),sC(s,r)):r instanceof S0?(lt(ng,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||C0(s,r.key)):yt(19791,{wu:r})}function sC(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(lt(ng,"New document in limbo: "+i),s.Eu.add(r),ig(s))}function ig(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new pt(re.fromString(t)),r=s.fu.next();s.Au.set(r,new YI(i)),s.du=s.du.insert(i,r),d0(s.remoteStore,new Fs(Ii(Pm(i.path)),r,"TargetPurposeLimboResolution",dh.ce))}}async function Xl(s,t,i){const r=bt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){l.push(_);const E=Ym.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const E=bt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(D=>Z.forEach(D.Es,(B=>E.persistence.referenceDelegate.addReference(S,D.targetId,B))).next((()=>Z.forEach(D.ds,(B=>E.persistence.referenceDelegate.removeReference(S,D.targetId,B)))))))))}catch(S){if(!uo(S))throw S;lt(Km,"Failed to update sequence numbers: "+S)}for(const S of _){const D=S.targetId;if(!S.fromCache){const B=E.Ms.get(D),J=B.snapshotVersion,tt=B.withLastLimboFreeSnapshotVersion(J);E.Ms=E.Ms.insert(D,tt)}}})(r.localStore,c))}async function rC(s,t){const i=bt(s);if(!i.currentUser.isEqual(t)){lt(ng,"User change. New user:",t.toKey());const r=await u0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new at(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Xl(i,r.Ls)}}function aC(s,t){const i=bt(s),r=i.Au.get(t);if(r&&r.hu)return Lt().add(r.key);{let l=Lt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function D0(s){const t=bt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=w0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eC.bind(null,t),t.Pu.H_=HI.bind(null,t.eventManager),t.Pu.yu=GI.bind(null,t.eventManager),t}function oC(s){const t=bt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iC.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return hI(this.persistence,new lI,t.initialUser,this.serializer)}Cu(t){return new l0(Qm.mi,this.serializer)}Du(t){return new yI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class lC extends rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YR(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new l0((r=>ih.mi(r,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rC.bind(null,this.syncEngine),await jI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qI})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),r=(function(c){return new SI(c)})(t.databaseInfo);return(function(c,d,p,y){return new II(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new DI(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>lT(this.syncEngine,i,0)),(function(){return nT.v()?new nT:new vI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,E){const S=new KI(l,c,d,p,y,_);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=bt(i);lt(Qr,"RemoteStore shutting down."),r.Ea.add(5),await Kl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class N0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const nr="FirestoreClient";class uC{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{lt(nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(lt(nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=tg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Hd(s,t){s.asyncQueue.verifyOperationInProgress(),lt(nr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await u0(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function cT(s,t){s.asyncQueue.verifyOperationInProgress();const i=await cC(s);lt(nr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>sT(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>sT(t.remoteStore,l))),s._onlineComponents=t}async function cC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){lt(nr,"Using user provided OfflineComponentProvider");try{await Hd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Hd(s,new rh)}}else lt(nr,"Using default OfflineComponentProvider"),await Hd(s,new lC(void 0));return s._offlineComponents}async function O0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(lt(nr,"Using user provided OnlineComponentProvider"),await cT(s,s._uninitializedComponentsProvider._online)):(lt(nr,"Using default OnlineComponentProvider"),await cT(s,new gm))),s._onlineComponents}function hC(s){return O0(s).then((t=>t.syncEngine))}async function M0(s){const t=await O0(s),i=t.eventManager;return i.onListen=XI.bind(null,t.syncEngine),i.onUnlisten=JI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=$I.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=WI.bind(null,t.syncEngine),i}function fC(s,t,i={}){const r=new es;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new N0({next:D=>{E.Nu(),d.enqueueAndForget((()=>T0(c,S)));const B=D.docs.has(p);!B&&D.fromCache?_.reject(new at(X.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&D.fromCache&&y&&y.source==="server"?_.reject(new at(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),S=new E0(Pm(p.path),E,{includeMetadataChanges:!0,qa:!0});return v0(c,S)})(await M0(s),s.asyncQueue,t,i,r))),r.promise}function dC(s,t,i={}){const r=new es;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new N0({next:D=>{E.Nu(),d.enqueueAndForget((()=>T0(c,S))),D.fromCache&&y.source==="server"?_.reject(new at(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),S=new E0(p,E,{includeMetadataChanges:!0,qa:!0});return v0(c,S)})(await M0(s),s.asyncQueue,t,i,r))),r.promise}function V0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const hT=new Map;const x0="firestore.googleapis.com",fT=!0;class dT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=x0,this.ssl=fT}else this.host=t.host,this.ssl=t.ssl??fT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=o0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<FR)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}D2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new v2;switch(r.type){case"firstParty":return new S2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=hT.get(i);r&&(lt("ComponentProvider","Removing Datastore"),hT.delete(i),r.terminate())})(this),Promise.resolve()}}function mC(s,t,i,r={}){s=rs(s,bh);const l=so(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(CT(`https://${p}`),DT("Firestore",!0)),c.host!==x0&&c.host!==p&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:r};if(!qr(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,E;if(typeof r.mockUserToken=="string")_=r.mockUserToken,E=Je.MOCK_USER;else{_=GA(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Je(S)}s._authCredentials=new T2(new vE(_,E))}}class Xr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Xr(this.firestore,t,this._query)}}class Oe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Fl(i,Oe._jsonSchema))return new Oe(t,r||null,new pt(re.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Ne("string",Oe._jsonSchemaVersion),referencePath:Ne("string")};class $s extends Xr{constructor(t,i,r){super(t,i,Pm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new pt(t))}withConverter(t){return new $s(this.firestore,t,this._path)}}function mT(s,t,...i){if(s=Ke(s),TE("collection","path",t),s instanceof bh){const r=re.fromString(t,...i);return Rv(r),new $s(s,null,r)}{if(!(s instanceof Oe||s instanceof $s))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(re.fromString(t,...i));return Rv(r),new $s(s.firestore,null,r)}}function ah(s,t,...i){if(s=Ke(s),arguments.length===1&&(t=Vm.newId()),TE("doc","path",t),s instanceof bh){const r=re.fromString(t,...i);return wv(r),new Oe(s,null,new pt(r))}{if(!(s instanceof Oe||s instanceof $s))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(re.fromString(t,...i));return wv(r),new Oe(s.firestore,s instanceof $s?s.converter:null,new pt(r))}}const gT="AsyncQueue";class pT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new h0(this,"async_queue_retry"),this._c=()=>{const r=qd();r&&lt(gT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!uo(t))throw t;lt(gT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",_T(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Wm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:_T(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function _T(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class fo extends bh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new pT,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new pT(t),this._firestoreClient=void 0,await t}}}function gC(s,t){const i=typeof s=="object"?s:VT(),r=typeof s=="string"?s:Zc,l=Em(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=qA("firestore");c&&mC(l,...c)}return l}function sg(s){if(s._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||pC(s),s._firestoreClient}function pC(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new j2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,V0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new uC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Xe.fromBase64String(t))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new zn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ne("string",zn._jsonSchemaVersion),bytes:Ne("string")};class wh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class rg{constructor(t){this._methodName=t}}class Di{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Ne("string",Di._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class Ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ni(t.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Ne("string",Ni._jsonSchemaVersion),vectorValues:Ne("object")};const _C=/^__.*__$/;class yC{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new sr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}class k0{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new sr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function U0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class ag{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ag({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(U0(this.Ac)&&_C.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class vC{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Eh(t)}Cc(t,i,r,l=!1){return new ag({Ac:t,methodName:i,Dc:r,path:Ye.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function og(s){const t=s._freezeSettings(),i=Eh(s._databaseId);return new vC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function TC(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);lg("Data must be an object, but it was:",d,r);const p=L0(r,d);let y,_;if(c.merge)y=new bn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const D=pm(t,S,i);if(!d.contains(D))throw new at(X.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);P0(E,D)||E.push(D)}y=new bn(E),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new yC(new dn(p),y,_)}class Rh extends rg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rh}}function EC(s,t,i,r){const l=s.Cc(1,t,i);lg("Data must be an object, but it was:",l,r);const c=[],d=dn.empty();ir(r,((y,_)=>{const E=ug(t,y,i);_=Ke(_);const S=l.yc(E);if(_ instanceof Rh)c.push(E);else{const D=$l(_,S);D!=null&&(c.push(E),d.set(E,D))}}));const p=new bn(c);return new k0(d,p,l.fieldTransforms)}function AC(s,t,i,r,l,c){const d=s.Cc(1,t,i),p=[pm(t,r,i)],y=[l];if(c.length%2!=0)throw new at(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)p.push(pm(t,c[D])),y.push(c[D+1]);const _=[],E=dn.empty();for(let D=p.length-1;D>=0;--D)if(!P0(_,p[D])){const B=p[D];let J=y[D];J=Ke(J);const tt=d.yc(B);if(J instanceof Rh)_.push(B);else{const W=$l(J,tt);W!=null&&(_.push(B),E.set(B,W))}}const S=new bn(_);return new k0(E,S,d.fieldTransforms)}function SC(s,t,i,r=!1){return $l(i,s.Cc(r?4:3,t))}function $l(s,t){if(z0(s=Ke(s)))return lg("Unsupported field value:",t,s),L0(s,t);if(s instanceof rg)return(function(r,l){if(!U0(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let y=$l(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Qt.fromDate(r);return{timestampValue:nh(l.serializer,c)}}if(r instanceof Qt){const c=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:t0(l.serializer,r._byteString)};if(r instanceof Oe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ni)return(function(d,p){return{mapValue:{fields:{[DE]:{stringValue:NE},[Jc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return jm(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${fh(r)}`)})(s,t)}function L0(s,t){const i={};return SE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ir(s,((r,l)=>{const c=$l(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function z0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Qt||s instanceof Di||s instanceof zn||s instanceof Oe||s instanceof rg||s instanceof Ni)}function lg(s,t,i){if(!z0(i)||!EE(i)){const r=fh(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function pm(s,t,i){if((t=Ke(t))instanceof wh)return t._internalPath;if(typeof t=="string")return ug(s,t);throw oh("Field path arguments must be of type string or ",s,!1,void 0,i)}const bC=new RegExp("[~\\*/\\[\\]]");function ug(s,t,i){if(t.search(bC)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new wh(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function oh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new at(X.INVALID_ARGUMENT,p+s+y)}function P0(s,t){return s.some((i=>i.isEqual(t)))}class j0{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(cg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class wC extends j0{data(){return super.data()}}function cg(s,t){return typeof t=="string"?ug(s,t):t instanceof wh?t._internalPath:t._delegate._internalPath}function RC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class B0 extends hg{}function IC(s,t,...i){let r=[];t instanceof hg&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((y=>y instanceof dg)).length,p=c.filter((y=>y instanceof fg)).length;if(d>1||d>0&&p>0)throw new at(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class fg extends B0{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new fg(t,i,r)}_apply(t){const i=this._parse(t);return q0(t._query,i),new Xr(t.firestore,t.converter,rm(t._query,i))}_parse(t){const i=og(t.firestore);return(function(c,d,p,y,_,E,S){let D;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new at(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){vT(S,E);const J=[];for(const tt of S)J.push(yT(y,c,tt));D={arrayValue:{values:J}}}else D=yT(y,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||vT(S,E),D=SC(p,d,S,E==="in"||E==="not-in");return De.create(_,E,D)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class dg extends hg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new dg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ei.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)q0(d,y),d=rm(d,y)})(t._query,i),new Xr(t.firestore,t.converter,rm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mg extends B0{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new mg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new at(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new at(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ll(c,d)})(t._query,this._field,this._direction);return new Xr(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new co(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function CC(s,t="asc"){const i=t,r=cg("orderBy",s);return mg._create(r,i)}function yT(s,t,i){if(typeof(i=Ke(i))=="string"){if(i==="")throw new at(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zE(t)&&i.indexOf("/")!==-1)throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(re.fromString(i));if(!pt.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xv(s,new pt(r))}if(i instanceof Oe)return xv(s,i._key);throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(i)}.`)}function vT(s,t){if(!Array.isArray(s)||s.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function q0(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class DC{convertValue(t,i="none"){switch(tr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ws(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return ir(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Jc].arrayValue?.values?.map((r=>ye(r.doubleValue)));return new Ni(i)}convertGeoPoint(t){return new Di(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=gh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(xl(t));default:return null}}convertTimestamp(t){const i=Js(t);return new Qt(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=re.fromString(t);Xt(a0(r),9688,{name:t});const l=new kl(r.get(1),r.get(3)),c=new pt(r.popFirst(5));return l.isEqual(i)||ss(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function NC(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class Sl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jr extends j0{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(cg("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",jr._jsonSchema={type:Ne("string",jr._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Bc extends jr{data(t={}){return super.data(t)}}class Xa{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Bc(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:OC(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function OC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}function MC(s){s=rs(s,Oe);const t=rs(s.firestore,fo);return fC(sg(t),s._key).then((i=>LC(t,s,i)))}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Ne("string",Xa._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class H0 extends DC{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function VC(s){s=rs(s,Xr);const t=rs(s.firestore,fo),i=sg(t),r=new H0(t);return RC(s._query),dC(i,s._query).then((l=>new Xa(t,r,s,l)))}function xC(s,t,i,...r){s=rs(s,Oe);const l=rs(s.firestore,fo),c=og(l);let d;return d=typeof(t=Ke(t))=="string"||t instanceof wh?AC(c,"updateDoc",s._key,t,i,r):EC(c,"updateDoc",s._key,t),gg(l,[d.toMutation(s._key,ti.exists(!0))])}function kC(s){return gg(rs(s.firestore,fo),[new Bm(s._key,ti.none())])}function UC(s,t){const i=rs(s.firestore,fo),r=ah(s),l=NC(s.converter,t);return gg(i,[TC(og(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ti.exists(!1))]).then((()=>r))}function gg(s,t){return(function(r,l){const c=new es;return r.asyncQueue.enqueueAndForget((async()=>tC(await hC(r),l,c))),c.promise})(sg(s),t)}function LC(s,t,i){const r=i.docs.get(t._key),l=new H0(s);return new jr(s,l,t._key,r,new Sl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){oo=l})(ro),$a(new Hr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new fo(new E2(r.getProvider("auth-internal")),new b2(d,r.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(_.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ks(Ev,Av,t),Ks(Ev,Av,"esm2020")})();const zC={apiKey:"AIzaSyANWyHW6_dCZgDEyyUbiIfiicdn1DcLqG0",authDomain:"listravelweb-e94c8.firebaseapp.com",projectId:"listravelweb-e94c8",storageBucket:"listravelweb-e94c8.firebasestorage.app",messagingSenderId:"525070452453",appId:"1:525070452453:web:7281a9f081bacce4e7360c"},G0=MT(zC),Br=g2(G0),PC=new Ji,bl=gC(G0),F0=async s=>{if(!s)return!1;try{const t=await MC(ah(bl,"config","authorizedUsers"));return t.exists()?(t.data().emails||[]).includes(s.toLowerCase()):!1}catch(t){return console.error("Bd sprawdzania autoryzacji:",t),!1}},Q0="/listravel-manager/assets/logo_1000x1000-8DP_s-hS.png",jC="_container_1gyk1_1",BC="_logo_1gyk1_10",qC="_title_1gyk1_17",HC="_subtitle_1gyk1_24",GC="_loginButton_1gyk1_32",FC="_googleIcon_1gyk1_49",ja={container:jC,logo:BC,title:qC,subtitle:HC,loginButton:GC,googleIcon:FC},QC=()=>{const s=async()=>{try{const t=await bw(Br,PC);if(!await F0(t.user.email)){await Zd(Br),alert("Nie masz uprawnie do dostpu do tej aplikacji. Skontaktuj si z administratorem.");return}console.log("Zalogowano:",t.user)}catch(t){console.error("Bd logowania:",t),alert("Nie udao si zalogowa. Sprbuj ponownie.")}};return b.jsxs("div",{className:ja.container,children:[b.jsx("img",{src:Q0,alt:"Lis Travel Logo",className:ja.logo}),b.jsx("h1",{className:ja.title,children:"Lis Travel Menadzer"}),b.jsx("p",{className:ja.subtitle,children:"Zaloguj si, aby uzyska dostp"}),b.jsxs("button",{onClick:s,className:ja.loginButton,children:[b.jsxs("svg",{className:ja.googleIcon,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[b.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),b.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),b.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),b.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),b.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),"Zaloguj przez Google"]})]})},YC="_navbar_4eofa_1",KC="_header_4eofa_6",XC="_headerContainer_4eofa_12",$C="_logoSection_4eofa_21",ZC="_logo_4eofa_21",JC="_title_4eofa_36",WC="_userSection_4eofa_45",tD="_userEmail_4eofa_52",eD="_logoutButton_4eofa_62",nD="_navSection_4eofa_77",iD="_navContainer_4eofa_83",sD="_navButton_4eofa_90",rD="_active_4eofa_102",Sn={navbar:YC,header:KC,headerContainer:XC,logoSection:$C,logo:ZC,title:JC,userSection:WC,userEmail:tD,logoutButton:eD,navSection:nD,navContainer:iD,navButton:sD,active:rD},aD=({user:s,onLogout:t,activeTab:i,onTabChange:r})=>b.jsxs("div",{className:Sn.navbar,children:[b.jsx("header",{className:Sn.header,children:b.jsxs("div",{className:Sn.headerContainer,children:[b.jsxs("div",{className:Sn.logoSection,children:[b.jsx("img",{src:Q0,alt:"Lis Travel Logo",className:Sn.logo}),b.jsx("h1",{className:Sn.title,children:"Lis Travel"})]}),b.jsxs("div",{className:Sn.userSection,children:[b.jsx("span",{className:Sn.userEmail,children:s.displayName||s.email}),b.jsx("button",{onClick:t,className:Sn.logoutButton,children:"Wyloguj"})]})]})}),b.jsx("nav",{className:Sn.navSection,children:b.jsx("div",{className:Sn.navContainer,children:b.jsx("button",{onClick:()=>r("trips"),className:`${Sn.navButton} ${i==="trips"?Sn.active:""}`,children:"Zarzdzanie wycieczkami"})})})]}),oD=()=>{const[s,t]=se.useState([]),[i,r]=se.useState(!0),[l,c]=se.useState(null),d=async()=>{try{r(!0);const E=IC(mT(bl,"trips"),CC("startDate","desc")),D=(await VC(E)).docs.map(B=>{const J=B.data();return{id:B.id,...J,startDate:J.startDate.toDate(),endDate:J.endDate.toDate(),createdAt:J.createdAt?.toDate(),updatedAt:J.updatedAt?.toDate()}});t(D),c(null)}catch(E){console.error("Error fetching trips:",E),c("Nie udao si pobra wycieczek")}finally{r(!1)}},p=async E=>{try{const D=Br.currentUser?.email||"Nieznany uytkownik",B={...E,startDate:Qt.fromDate(E.startDate),endDate:Qt.fromDate(E.endDate),createdAt:Qt.now(),updatedAt:Qt.now(),createdBy:D,updatedBy:D},J=await UC(mT(bl,"trips"),B);return await d(),J.id}catch(S){return console.error("Error adding trip:",S),c("Nie udao si doda wycieczki"),null}},y=async(E,S)=>{try{const B=Br.currentUser?.email||"Nieznany uytkownik",J=ah(bl,"trips",E),tt={...S,updatedAt:Qt.now(),updatedBy:B};return S.startDate&&(tt.startDate=Qt.fromDate(S.startDate)),S.endDate&&(tt.endDate=Qt.fromDate(S.endDate)),await xC(J,tt),await d(),!0}catch(D){return console.error("Error updating trip:",D),c("Nie udao si zaktualizowa wycieczki"),!1}},_=async E=>{try{return await kC(ah(bl,"trips",E)),await d(),!0}catch(S){return console.error("Error deleting trip:",S),c("Nie udao si usun wycieczki"),!1}};return se.useEffect(()=>{d()},[]),{trips:s,loading:i,error:l,addTrip:p,updateTrip:y,deleteTrip:_,refreshTrips:d}},lD="dawkb7tk5",uD="listravel_trips",TT=async(s,t="listravel/trips")=>{const i=new FormData;i.append("file",s),i.append("upload_preset",uD),i.append("folder",t);try{const r=await fetch(`https://api.cloudinary.com/v1_1/${lD}/image/upload`,{method:"POST",body:i});if(!r.ok)throw new Error("Upload failed");return await r.json()}catch(r){throw console.error("Error uploading to Cloudinary:",r),r}},cD="_container_b3bdc_1",hD="_contentWrapper_b3bdc_7",fD="_header_b3bdc_11",dD="_headerActions_b3bdc_20",mD="_viewModeButton_b3bdc_26",gD="_viewModeText_b3bdc_49",pD="_title_b3bdc_55",_D="_addButton_b3bdc_61",yD="_loading_b3bdc_83",vD="_error_b3bdc_90",TD="_emptyState_b3bdc_99",ED="_emptyStateText_b3bdc_107",AD="_section_b3bdc_113",SD="_sectionTitle_b3bdc_120",bD="_monthGroup_b3bdc_129",wD="_monthTitle_b3bdc_136",RD="_tripGrid_b3bdc_145",ID="_tripCard_b3bdc_157",CD="_cancelled_b3bdc_172",DD="_tripImage_b3bdc_172",ND="_tripContent_b3bdc_173",OD="_cancelledBadge_b3bdc_202",MD="_tripTitle_b3bdc_226",VD="_tripDate_b3bdc_246",xD="_tripDateIcon_b3bdc_255",kD="_tripDescription_b3bdc_260",UD="_tripPrice_b3bdc_268",LD="_detailsButton_b3bdc_282",zD="_tripActions_b3bdc_301",PD="_tripMeta_b3bdc_311",jD="_metaItem_b3bdc_321",BD="_metaLabel_b3bdc_327",qD="_metaValue_b3bdc_335",HD="_metaValueOngoing_b3bdc_340",GD="_metaValueUpcoming_b3bdc_345",FD="_metaBy_b3bdc_350",QD="_actionButtons_b3bdc_355",YD="_editButton_b3bdc_361",KD="_cancelButton_b3bdc_362",XD="_deleteButton_b3bdc_363",$D="_imageModal_b3bdc_408",ZD="_imageModalContent_b3bdc_423",JD="_compactMonthGroup_b3bdc_430",WD="_compactList_b3bdc_437",tN="_compactItem_b3bdc_443",eN="_compactItemCancelled_b3bdc_457",nN="_compactMain_b3bdc_462",iN="_compactImage_b3bdc_470",sN="_compactCancelledBadge_b3bdc_484",rN="_compactContent_b3bdc_499",aN="_compactTitle_b3bdc_504",oN="_compactDetails_b3bdc_521",lN="_compactDate_b3bdc_528",uN="_compactPrice_b3bdc_533",cN="_compactActions_b3bdc_539",hN="_compactButton_b3bdc_545",fN="_compactButtonDanger_b3bdc_578",st={container:cD,contentWrapper:hD,header:fD,headerActions:dD,viewModeButton:mD,viewModeText:gD,title:pD,addButton:_D,loading:yD,error:vD,emptyState:TD,emptyStateText:ED,section:AD,sectionTitle:SD,monthGroup:bD,monthTitle:wD,tripGrid:RD,tripCard:ID,cancelled:CD,tripImage:DD,tripContent:ND,cancelledBadge:OD,tripTitle:MD,tripDate:VD,tripDateIcon:xD,tripDescription:kD,tripPrice:UD,detailsButton:LD,tripActions:zD,tripMeta:PD,metaItem:jD,metaLabel:BD,metaValue:qD,metaValueOngoing:HD,metaValueUpcoming:GD,metaBy:FD,actionButtons:QD,editButton:YD,cancelButton:KD,deleteButton:XD,imageModal:$D,imageModalContent:ZD,compactMonthGroup:JD,compactList:WD,compactItem:tN,compactItemCancelled:eN,compactMain:nN,compactImage:iN,compactCancelledBadge:sN,compactContent:rN,compactTitle:aN,compactDetails:oN,compactDate:lN,compactPrice:uN,compactActions:cN,compactButton:hN,compactButtonDanger:fN},_m=({trip:s,onEdit:t,onDelete:i,onDetails:r,onToggleCancel:l,previewMode:c=!1})=>{const d=it=>new Date(it).toLocaleDateString("pl-PL",{day:"2-digit",month:"2-digit",year:"numeric"}),p=it=>new Date(it).toLocaleString("pl-PL",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),y=(it,ft)=>Math.ceil((ft.getTime()-it.getTime())/864e5)+1,_=it=>{const ft=new Date;ft.setHours(0,0,0,0);const ct=new Date(it);ct.setHours(0,0,0,0);const Tt=ct.getTime()-ft.getTime();return Math.ceil(Tt/(1e3*60*60*24))},E=(it,ft)=>{const ct=new Date;ct.setHours(0,0,0,0);const Tt=new Date(it);Tt.setHours(0,0,0,0);const zt=new Date(ft);return zt.setHours(0,0,0,0),ct>=Tt&&ct<=zt},S=it=>{if(it<0)return null;if(it===0)return"Dzi";if(it===1)return"Jutro";if(it<7)return`Za ${it} dni`;const ft=Math.floor(it/7),ct=it%7;let Tt="";return ft===1?Tt="1 tydzie":ft<5?Tt=`${ft} tygodnie`:Tt=`${ft} tygodni`,ct===0?`Za ${it} dni (${Tt})`:ct===1?`Za ${it} dni (${Tt}, 1 dzie)`:`Za ${it} dni (${Tt}, ${ct} dni)`},D=y(s.startDate,s.endDate),B=_(s.startDate),J=E(s.startDate,s.endDate),tt=J?null:S(B),W="id"in s?s.id:void 0;return b.jsxs("div",{className:`${st.tripCard} ${s.cancelled?st.cancelled:""}`,children:[s.cancelled&&b.jsx("div",{className:st.cancelledBadge,children:"ODWOANE"}),b.jsx("div",{className:st.tripImage,children:b.jsx("img",{src:s.thumbnailUrl||s.imageUrl,alt:s.title,loading:"lazy"})}),b.jsxs("div",{className:st.tripContent,children:[b.jsx("h3",{className:st.tripTitle,children:s.title}),s.description&&b.jsx("p",{className:st.tripDescription,children:s.description}),b.jsxs("div",{className:st.tripDate,children:[b.jsxs("svg",{className:st.tripDateIcon,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[b.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),b.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),b.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),b.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),d(s.startDate),"  ",d(s.endDate)," (",D," ",D===1?"dzie":(D<5,"dni"),")"]}),b.jsxs("div",{className:st.tripPrice,children:["Cena: ",s.price.toLocaleString("pl-PL")," z"]}),b.jsx("button",{className:st.detailsButton,onClick:()=>r?.(s),children:"Zobacz szczegy"})]}),!c&&b.jsxs("div",{className:st.tripActions,children:[b.jsxs("div",{className:st.tripMeta,children:[J&&!s.cancelled&&b.jsxs("div",{className:st.metaItem,children:[b.jsx("span",{className:st.metaLabel,children:"Status:"}),b.jsx("span",{className:st.metaValueOngoing,children:"W trakcie trwania"})]}),tt&&!s.cancelled&&b.jsxs("div",{className:st.metaItem,children:[b.jsx("span",{className:st.metaLabel,children:"Rozpoczcie:"}),b.jsx("span",{className:st.metaValueUpcoming,children:tt})]}),s.createdAt&&b.jsxs("div",{className:st.metaItem,children:[b.jsx("span",{className:st.metaLabel,children:"Utworzono:"}),b.jsxs("span",{className:st.metaValue,children:[p(s.createdAt),s.createdBy&&b.jsxs("span",{className:st.metaBy,children:[" ","przez ",s.createdBy]})]})]}),s.updatedAt&&b.jsxs("div",{className:st.metaItem,children:[b.jsx("span",{className:st.metaLabel,children:"Ostatnia modyfikacja:"}),b.jsxs("span",{className:st.metaValue,children:[p(s.updatedAt),s.updatedBy&&b.jsxs("span",{className:st.metaBy,children:[" ","przez ",s.updatedBy]})]})]})]}),b.jsxs("div",{className:st.actionButtons,children:[b.jsxs("button",{className:st.editButton,onClick:()=>t?.(s),children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),b.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edytuj"]}),b.jsxs("button",{className:st.cancelButton,onClick:()=>W&&l?.(W,!s.cancelled),children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("circle",{cx:"12",cy:"12",r:"10"}),b.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),b.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),s.cancelled?"Przywr":"Odwoaj"]}),b.jsxs("button",{className:st.deleteButton,onClick:()=>W&&i?.(W),children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("polyline",{points:"3 6 5 6 21 6"}),b.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),b.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),b.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),"Usu"]})]})]})]})},dN="_overlay_9ihg5_1",mN="_modal_9ihg5_15",gN="_header_9ihg5_27",pN="_previewToggle_9ihg5_47",_N="_form_9ihg5_64",yN="_error_9ihg5_74",vN="_durationInfo_9ihg5_83",TN="_formGroup_9ihg5_94",EN="_labelHint_9ihg5_104",AN="_formRow_9ihg5_133",SN="_imagePreview_9ihg5_144",bN="_removeImageButton_9ihg5_167",wN="_changeImageButton_9ihg5_197",RN="_checkbox_9ihg5_225",IN="_actions_9ihg5_245",CN="_cancelButton_9ihg5_261",DN="_submitButton_9ihg5_262",NN="_preview_9ihg5_47",ON="_imageModal_9ihg5_309",MN="_imageModalContent_9ihg5_324",Bt={overlay:dN,modal:mN,header:gN,previewToggle:pN,form:_N,error:yN,durationInfo:vN,formGroup:TN,labelHint:EN,formRow:AN,imagePreview:SN,removeImageButton:bN,changeImageButton:wN,checkbox:RN,actions:IN,cancelButton:CN,submitButton:DN,preview:NN,imageModal:ON,imageModalContent:MN},VN=({trip:s,onSubmit:t,onCancel:i})=>{const[r,l]=se.useState({startDate:s?.startDate?new Date(s.startDate).toISOString().split("T")[0]:"",endDate:s?.endDate?new Date(s.endDate).toISOString().split("T")[0]:"",title:s?.title||"",description:s?.description||"",price:s?.price||0,cancelled:s?.cancelled||!1}),[c,d]=se.useState(null),[p,y]=se.useState(null),[_,E]=se.useState(s?.imageUrl||""),[S,D]=se.useState(s?.thumbnailUrl||""),[B,J]=se.useState(!1),[tt,W]=se.useState(""),[it,ft]=se.useState(""),[ct,Tt]=se.useState(!1),[zt,Nt]=se.useState(!1),N=(ot,Dt,G)=>{Dt(ot);const F=new FileReader;F.onloadend=()=>{G(F.result)},F.readAsDataURL(ot)},w=(ot,Dt)=>{if(ot&&Dt){const G=new Date(ot);if(new Date(Dt)<G)return ft("Data zakoczenia nie moe by wczeniejsza ni data rozpoczcia"),!1}return ft(""),!0},I=ot=>{l({...r,startDate:ot}),w(ot,r.endDate)},x=ot=>{l({...r,endDate:ot}),w(r.startDate,ot)},O=ot=>{const Dt=ot.target.files?.[0];Dt&&N(Dt,d,E)},k=ot=>{const Dt=ot.target.files?.[0];Dt&&N(Dt,y,D)},R=async ot=>{ot.preventDefault(),W(""),J(!0);try{const Dt=new Date(r.startDate);if(new Date(r.endDate)<Dt){J(!1);return}let F=s?.imageUrl||"",et=s?.thumbnailUrl||"";const dt=[];if(c&&dt.push(TT(c,"listravel/trips").then(K=>{F=K.secure_url})),p&&dt.push(TT(p,"listravel/thumbnails").then(K=>{et=K.secure_url})),await Promise.all(dt),!F||!et)throw new Error(F?"Miniaturka jest wymagana":"Zdjcie gwne jest wymagane");const Pt={startDate:new Date(r.startDate),endDate:new Date(r.endDate),title:r.title,description:r.description,price:r.price,imageUrl:F,thumbnailUrl:et,cancelled:r.cancelled};await t(Pt)!==!1&&(l({startDate:"",endDate:"",title:"",description:"",price:0,cancelled:!1}),d(null),y(null),E(""),D(""))}catch(Dt){W(Dt instanceof Error?Dt.message:"Wystpi bd")}finally{J(!1)}};return b.jsxs("div",{className:Bt.overlay,children:[b.jsxs("div",{className:Bt.modal,children:[b.jsxs("div",{className:Bt.header,children:[b.jsx("h2",{children:s?"Edytuj wycieczk":"Dodaj now wycieczk"}),b.jsx("button",{type:"button",className:Bt.previewToggle,onClick:()=>Tt(!ct),children:ct?"Poka formularz":"Poka podgld"})]}),ct?b.jsxs("div",{className:Bt.preview,children:[b.jsx(_m,{trip:{title:r.title||"Tytu wycieczki",description:r.description,startDate:r.startDate?new Date(r.startDate):new Date,endDate:r.endDate?new Date(r.endDate):new Date,price:r.price||0,imageUrl:_,thumbnailUrl:S,cancelled:r.cancelled},onDetails:()=>Nt(!0),previewMode:!0}),b.jsxs("div",{className:Bt.actions,children:[b.jsx("button",{type:"button",onClick:i,className:Bt.cancelButton,children:"Anuluj"}),b.jsx("button",{type:"button",className:Bt.submitButton,onClick:()=>{const ot=document.querySelector(`.${Bt.form}`);ot&&ot.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},disabled:B||!!it,children:B?"Zapisywanie...":s?"Zapisz zmiany":"Dodaj wycieczk"})]})]}):b.jsxs("form",{onSubmit:R,className:Bt.form,children:[tt&&b.jsx("div",{className:Bt.error,children:tt}),b.jsxs("div",{className:Bt.formGroup,children:[b.jsx("label",{htmlFor:"title",children:"Tytu *"}),b.jsx("input",{type:"text",id:"title",value:r.title,onChange:ot=>l({...r,title:ot.target.value}),required:!0,disabled:B})]}),b.jsxs("div",{className:Bt.formRow,children:[b.jsxs("div",{className:Bt.formGroup,children:[b.jsx("label",{htmlFor:"startDate",children:"Data rozpoczcia *"}),b.jsx("input",{type:"date",id:"startDate",value:r.startDate,onChange:ot=>I(ot.target.value),required:!0,disabled:B})]}),b.jsxs("div",{className:Bt.formGroup,children:[b.jsx("label",{htmlFor:"endDate",children:"Data zakoczenia *"}),b.jsx("input",{type:"date",id:"endDate",value:r.endDate,onChange:ot=>x(ot.target.value),required:!0,disabled:B})]})]}),it&&b.jsx("div",{className:Bt.error,children:it}),r.startDate&&r.endDate&&!it&&b.jsxs("div",{className:Bt.durationInfo,children:["czny czas trwania:"," ",(()=>{const ot=new Date(r.startDate),Dt=new Date(r.endDate),G=Math.ceil((Dt.getTime()-ot.getTime())/(1e3*60*60*24))+1;return`${G} ${G===1?"dzie":(G<5,"dni")}`})()]}),b.jsxs("div",{className:Bt.formGroup,children:[b.jsx("label",{htmlFor:"price",children:"Cena (PLN) *"}),b.jsx("input",{type:"number",id:"price",value:r.price,onChange:ot=>l({...r,price:parseFloat(ot.target.value)}),min:"0",step:"0.01",required:!0,disabled:B})]}),b.jsxs("div",{className:Bt.formGroup,children:[b.jsx("label",{htmlFor:"description",children:"Opis"}),b.jsx("textarea",{id:"description",value:r.description,onChange:ot=>l({...r,description:ot.target.value}),rows:4,disabled:B})]}),b.jsxs("div",{className:Bt.formGroup,children:[b.jsxs("label",{htmlFor:"image",children:["Zdjcie gwne *"," ",b.jsx("span",{className:Bt.labelHint,children:"(Szczegy/Plan wycieczki)"})]}),_?b.jsxs("div",{className:Bt.imagePreview,children:[b.jsx("img",{src:_,alt:"Podgld gwnego zdjcia"}),b.jsx("button",{type:"button",className:Bt.removeImageButton,onClick:()=>{d(null),E("");const ot=document.getElementById("image");ot&&(ot.value="")},disabled:B,"aria-label":"Usu zdjcie gwne",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),b.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),b.jsxs("label",{htmlFor:"image",className:Bt.changeImageButton,children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),b.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Zmie zdjcie"]}),b.jsx("input",{type:"file",id:"image",accept:"image/*",onChange:O,disabled:B,style:{display:"none"}})]}):b.jsx("input",{type:"file",id:"image",accept:"image/*",onChange:O,disabled:B})]}),b.jsxs("div",{className:Bt.formGroup,children:[b.jsx("label",{htmlFor:"thumbnail",children:"Miniaturka *"}),S?b.jsxs("div",{className:Bt.imagePreview,children:[b.jsx("img",{src:S,alt:"Podgld miniaturki"}),b.jsx("button",{type:"button",className:Bt.removeImageButton,onClick:()=>{y(null),D("");const ot=document.getElementById("thumbnail");ot&&(ot.value="")},disabled:B,"aria-label":"Usu miniaturk",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),b.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),b.jsxs("label",{htmlFor:"thumbnail",className:Bt.changeImageButton,children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),b.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Zmie miniaturk"]}),b.jsx("input",{type:"file",id:"thumbnail",accept:"image/*",onChange:k,disabled:B,style:{display:"none"}})]}):b.jsx("input",{type:"file",id:"thumbnail",accept:"image/*",onChange:k,disabled:B})]})," ",b.jsx("div",{className:Bt.formGroup,children:b.jsxs("label",{className:Bt.checkbox,children:[b.jsx("input",{type:"checkbox",checked:r.cancelled,onChange:ot=>l({...r,cancelled:ot.target.checked}),disabled:B}),b.jsx("span",{children:"Wycieczka odwoana"})]})}),b.jsxs("div",{className:Bt.actions,children:[b.jsx("button",{type:"button",onClick:i,className:Bt.cancelButton,disabled:B,children:"Anuluj"}),b.jsx("button",{type:"submit",className:Bt.submitButton,disabled:B||!!it,children:B?"Zapisywanie...":s?"Zapisz zmiany":"Dodaj wycieczk"})]})]})]}),zt&&_&&b.jsx("div",{className:Bt.imageModal,onClick:()=>Nt(!1),children:b.jsx("img",{src:_,alt:r.title||"Szczegy",className:Bt.imageModalContent})})]})},xN="_backdrop_12afi_1",kN="_fadeIn_12afi_1",UN="_dialog_12afi_21",LN="_slideUp_12afi_1",zN="_header_12afi_40",PN="_title_12afi_45",jN="_content_12afi_52",BN="_message_12afi_56",qN="_actions_12afi_63",HN="_cancelButton_12afi_70",GN="_confirmButton_12afi_71",FN="_info_12afi_92",QN="_warning_12afi_98",YN="_danger_12afi_104",bi={backdrop:xN,fadeIn:kN,dialog:UN,slideUp:LN,header:zN,title:PN,content:jN,message:BN,actions:qN,cancelButton:HN,confirmButton:GN,info:FN,warning:QN,danger:YN},KN=({isOpen:s,title:t,message:i,confirmText:r="Potwierd",cancelText:l="Anuluj",onConfirm:c,onCancel:d,variant:p="info"})=>s?b.jsx("div",{className:bi.backdrop,onClick:d,children:b.jsxs("div",{className:bi.dialog,onClick:y=>y.stopPropagation(),children:[b.jsx("div",{className:bi.header,children:b.jsx("h3",{className:bi.title,children:t})}),b.jsx("div",{className:bi.content,children:b.jsx("p",{className:bi.message,children:i})}),b.jsxs("div",{className:bi.actions,children:[b.jsx("button",{className:bi.cancelButton,onClick:d,children:l}),b.jsx("button",{className:`${bi.confirmButton} ${bi[p]}`,onClick:c,children:r})]})]})}):null,XN=()=>{const{trips:s,loading:t,error:i,addTrip:r,updateTrip:l,deleteTrip:c}=oD(),[d,p]=se.useState(!1),[y,_]=se.useState(void 0),[E,S]=se.useState(null),[D,B]=se.useState(null),[J,tt]=se.useState("grid"),W=()=>{_(void 0),p(!0)},it=F=>{_(F),p(!0)},ft=F=>{S(F)},ct=async F=>{if(y?.id){const et=await l(y.id,F);return et&&p(!1),et}else{const et=await r(F);return et&&p(!1),et}},Tt=async F=>{B({type:"delete",tripId:F})},zt=async(F,et)=>{B({type:"cancel",tripId:F,cancelled:et})},Nt=async()=>{D&&(D.type==="delete"?await c(D.tripId):D.type==="cancel"&&await l(D.tripId,{cancelled:D.cancelled}),B(null))},N=()=>D?D.type==="delete"?{title:"Usu wycieczk",message:"Czy na pewno chcesz usun t wycieczk? Ta operacja jest nieodwracalna.",confirmText:"Usu",variant:"danger"}:{title:D.cancelled?"Odwoaj wycieczk":"Przywr wycieczk",message:D.cancelled?"Czy na pewno chcesz odwoa t wycieczk? Zostanie oznaczona jako odwoana.":"Czy na pewno chcesz przywrci t wycieczk?",confirmText:D.cancelled?"Odwoaj":"Przywr",variant:"warning"}:null,w=new Date,I=s.filter(F=>!F.cancelled&&F.endDate>=w).sort((F,et)=>F.startDate.getTime()-et.startDate.getTime()),x=s.filter(F=>F.cancelled||F.endDate<w).sort((F,et)=>et.startDate.getTime()-F.startDate.getTime()),O=F=>{const et={};return F.forEach(dt=>{const Pt=dt.startDate,M=`${Pt.getFullYear()}-${String(Pt.getMonth()+1).padStart(2,"0")}`;et[M]||(et[M]=[]),et[M].push(dt)}),et},k=F=>{const[et,dt]=F.split("-");return`${["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"][parseInt(dt)-1]} ${et}`},R=O(I),ot=O(x),Dt=F=>new Date(F).toLocaleDateString("pl-PL",{day:"2-digit",month:"2-digit",year:"numeric"}),G=(F,et)=>b.jsxs("div",{className:st.compactMonthGroup,children:[b.jsx("h4",{className:st.monthTitle,children:k(et)}),b.jsx("div",{className:st.compactList,children:F.map(dt=>b.jsxs("div",{className:`${st.compactItem} ${dt.cancelled?st.compactItemCancelled:""}`,children:[b.jsxs("div",{className:st.compactMain,children:[b.jsxs("div",{className:st.compactImage,children:[b.jsx("img",{src:dt.thumbnailUrl||dt.imageUrl,alt:dt.title}),dt.cancelled&&b.jsx("span",{className:st.compactCancelledBadge,children:"ODWOANE"})]}),b.jsxs("div",{className:st.compactContent,children:[b.jsx("h5",{className:st.compactTitle,children:dt.title}),b.jsxs("div",{className:st.compactDetails,children:[b.jsxs("span",{className:st.compactDate,children:[Dt(dt.startDate),"  ",Dt(dt.endDate)]}),b.jsxs("span",{className:st.compactPrice,children:[dt.price.toLocaleString("pl-PL")," z"]})]})]})]}),b.jsxs("div",{className:st.compactActions,children:[b.jsx("button",{className:st.compactButton,onClick:()=>ft(dt),title:"Szczegy",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("circle",{cx:"12",cy:"12",r:"10"}),b.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),b.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),b.jsx("button",{className:st.compactButton,onClick:()=>it(dt),title:"Edytuj",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),b.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),b.jsx("button",{className:st.compactButton,onClick:()=>dt.id&&zt(dt.id,!dt.cancelled),title:dt.cancelled?"Przywr":"Odwoaj",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("circle",{cx:"12",cy:"12",r:"10"}),b.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),b.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})}),b.jsx("button",{className:`${st.compactButton} ${st.compactButtonDanger}`,onClick:()=>dt.id&&Tt(dt.id),title:"Usu",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("polyline",{points:"3 6 5 6 21 6"}),b.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},dt.id))})]},et);return t?b.jsx("div",{className:st.container,children:b.jsx("div",{className:st.contentWrapper,children:b.jsx("p",{className:st.loading,children:"adowanie wycieczek..."})})}):b.jsxs("div",{className:st.container,children:[b.jsxs("div",{className:st.contentWrapper,children:[b.jsxs("div",{className:st.header,children:[b.jsx("h2",{className:st.title,children:"Zarzdzanie wycieczkami"}),b.jsxs("div",{className:st.headerActions,children:[b.jsx("button",{className:st.viewModeButton,onClick:()=>tt(J==="grid"?"compact":"grid"),title:J==="grid"?"Widok kompaktowy":"Widok kafelkowy",children:J==="grid"?b.jsxs(b.Fragment,{children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),b.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),b.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),b.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),b.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),b.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),b.jsx("span",{className:st.viewModeText,children:"Kompaktowy"})]}):b.jsxs(b.Fragment,{children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),b.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),b.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),b.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),b.jsx("span",{className:st.viewModeText,children:"Kafelkowy"})]})}),b.jsxs("button",{className:st.addButton,onClick:W,children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("circle",{cx:"12",cy:"12",r:"10"}),b.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),b.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),"Dodaj wycieczk"]})]})]}),i&&b.jsx("div",{className:st.error,children:i}),s.length===0?b.jsx("div",{className:st.emptyState,children:b.jsx("p",{className:st.emptyStateText,children:"Brak wycieczek. Dodaj pierwsz wycieczk, aby rozpocz."})}):b.jsxs(b.Fragment,{children:[I.length>0&&b.jsxs("div",{className:st.section,children:[b.jsx("h3",{className:st.sectionTitle,children:"Nadchodzce wycieczki"}),J==="compact"?b.jsx(b.Fragment,{children:Object.keys(R).sort().map(F=>G(R[F],F))}):b.jsx(b.Fragment,{children:Object.keys(R).sort().map(F=>b.jsxs("div",{className:st.monthGroup,children:[b.jsx("h4",{className:st.monthTitle,children:k(F)}),b.jsx("div",{className:st.tripGrid,children:R[F].map(et=>b.jsx(_m,{trip:et,onEdit:it,onDelete:Tt,onDetails:ft,onToggleCancel:zt},et.id))})]},F))})]}),x.length>0&&b.jsxs("div",{className:st.section,children:[b.jsx("h3",{className:st.sectionTitle,children:"Archiwalne wycieczki"}),J==="compact"?b.jsx(b.Fragment,{children:Object.keys(ot).sort().reverse().map(F=>G(ot[F],F))}):b.jsx(b.Fragment,{children:Object.keys(ot).sort().reverse().map(F=>b.jsxs("div",{className:st.monthGroup,children:[b.jsx("h4",{className:st.monthTitle,children:k(F)}),b.jsx("div",{className:st.tripGrid,children:ot[F].map(et=>b.jsx(_m,{trip:et,onEdit:it,onDelete:Tt,onDetails:ft,onToggleCancel:zt},et.id))})]},F))})]}),I.length===0&&x.length===0&&b.jsx("div",{className:st.emptyState,children:b.jsx("p",{className:st.emptyStateText,children:"Brak wycieczek. Dodaj pierwsz wycieczk, aby rozpocz."})})]})]}),d&&b.jsx(VN,{trip:y,onSubmit:ct,onCancel:()=>p(!1)}),E&&b.jsx("div",{className:st.imageModal,onClick:()=>S(null),children:b.jsx("img",{src:E.imageUrl,alt:E.title,className:st.imageModalContent})}),D&&b.jsx(KN,{isOpen:!0,...N(),onConfirm:Nt,onCancel:()=>B(null)})]})};function $N(){const{user:s,logout:t}=VA(),[i,r]=se.useState("trips");return s?b.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f5f5f5"},children:[b.jsx(aD,{user:s,onLogout:t,activeTab:i,onTabChange:r}),b.jsx("main",{children:i==="trips"&&b.jsx(XN,{})})]}):b.jsx(QC,{})}const ZN=({children:s})=>{const[t,i]=se.useState(null),[r,l]=se.useState(!0);se.useEffect(()=>sw(Br,async y=>{y?await F0(y.email)?i(y):(await Zd(Br),i(null)):i(null),l(!1)}),[]);const d={user:t,loading:r,logout:async()=>{try{await Zd(Br)}catch(p){console.error("Bd wylogowania:",p)}}};return b.jsx(ET.Provider,{value:d,children:!r&&s})};MA.createRoot(document.getElementById("root")).render(b.jsx(se.StrictMode,{children:b.jsx(ZN,{children:b.jsx($N,{})})}));
